{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.js","node_modules/es6-promise/dist/es6-promise.js","node_modules/events/events.js","node_modules/function-bind/implementation.js","node_modules/function-bind/index.js","node_modules/object-keys/index.js","node_modules/object-keys/isArguments.js","node_modules/object.assign/hasSymbols.js","node_modules/object.assign/implementation.js","node_modules/object.assign/polyfill.js","node_modules/process/browser.js","node_modules/whatwg-fetch/fetch.js","src/js/main.js","src/js/map.js","src/js/overlay.js","src/js/police-api.js","src/js/popup.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","process","global","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","nextTick","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","node","document","createTextNode","observe","characterData","data","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","setTimeout","lib$es6$promise$asap$$len","callback","lib$es6$promise$asap$$queue","arg","undefined","lib$es6$promise$asap$$attemptVertx","vertx","runOnLoop","runOnContext","lib$es6$promise$then$$then","onFulfillment","onRejection","parent","this","child","constructor","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$PROMISE_ID","lib$es6$promise$$internal$$makePromise","state","_state","arguments","lib$es6$promise$$internal$$invokeCallback","_result","lib$es6$promise$$internal$$subscribe","lib$es6$promise$promise$resolve$$resolve","object","Constructor","promise","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$selfFulfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","then","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$FULFILLED","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$then$$default","resolve","lib$es6$promise$promise$resolve$$default","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","subscribers","settled","detail","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$$internal$$nextId","lib$es6$promise$$internal$$id","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","reject","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","lib$es6$promise$enumerator$$Enumerator","input","_instanceConstructor","_input","_remaining","Array","_enumerate","lib$es6$promise$enumerator$$validationError","lib$es6$promise$polyfill$$polyfill","local","self","Function","P","Promise","Object","prototype","toString","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","window","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","Math","random","substring","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$reject$$default","all","race","_setScheduler","_setAsap","_asap","catch","_eachEntry","entry","c","_settledAt","_willSettleAt","enumerator","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","define","_process","2","EventEmitter","_events","_maxListeners","isFunction","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","emit","type","er","handler","len","args","listeners","err","context","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","3","ERROR_MESSAGE","toStr","funcType","that","target","bound","binder","result","concat","boundLength","max","boundArgs","join","Empty","4","implementation","bind","./implementation","5","has","hasOwnProperty","isArgs","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","equalsConstructorPrototypeIfNotBuggy","keysShim","isArguments","isString","theKeys","skipProto","String","j","name","skipConstructor","shim","keys","keysWorksWithArguments","originalKeys","./isArguments","6","str","callee","7","Symbol","getOwnPropertySymbols","iterator","obj","sym","symObj","symVal","getOwnPropertyNames","syms","getOwnPropertyDescriptor","descriptor","enumerable","object-keys","8","canBeObject","hasSymbols","toObject","propIsEnumerable","originalGetSymbols","source1","source","props","objTarget","getSymbols","./hasSymbols","function-bind","9","lacksProperEnumerationOrder","assign","letters","split","map","actual","assignHasPendingExceptions","preventExtensions","thrower","10","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","cachedSetTimeout","run","cachedClearTimeout","Item","fun","array","noop","clearTimeout","title","browser","env","argv","version","versions","off","binding","cwd","chdir","dir","umask","11","normalizeName","test","toLowerCase","normalizeValue","Headers","headers","forEach","append","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","get","set","rejected","text","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","indexOf","Request","options","url","credentials","mode","referrer","form","trim","bytes","shift","replace","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","Response","bodyInit","status","ok","statusText","fetch","values","getAll","thisArg","clone","response","redirectStatuses","redirect","RangeError","location","init","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","12","_interopRequireDefault","__esModule","default","_map","_map2","_overlay","_overlay2","$map","getElementsByClassName","$input","getElementById","mapDefaults","center","lat","lng","zoom","el","defaults","countryCode","overlay","App","./map.js","./overlay.js","es6-promise","13","_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","writable","configurable","setPrototypeOf","__proto__","defineProperty","_typeof","_createClass","defineProperties","protoProps","staticProps","_polyfill","_polyfill2","_popup","_popup2","Map","_EventEmitter","_this","getPrototypeOf","date","Date","now","settings","markers","previousSettings","bounds","north","east","south","west","zoomLevelData","tileSize","initialLatToPx","initialLngToPx","fakeTileSize","latToPx","lngToPx","google","initMap","script","createElement","debug","src","defer","async","appendChild","streetViewControl","maps","geocoder","Geocoder","autocomplete","places","Autocomplete","types","componentRestrictions","country","placeChanged","place","getPlace","msg","getMaxZoom","diff","maxValue","loop","maxZoom","width","lngDiff","latDiff","maxLngZoom","innerWidth","maxLatZoom","innerHeight","min","geometry","viewport","toJSON","setOptions","getCenter","getZoom","rectangle","setBounds","Rectangle","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","_ref","colour","markerColour","prevCoords","coords","marker","Marker","icon","clearMarkers","arr","setMap","_key","./popup.js","events","object.assign/polyfill","14","_policeApi","Overlay","mapData","poly","$place","$overlay","$submit","$year","$month","$policeData","eventFns","click","change","possibleDates","loading","maxDate","policeData","requestEnd","requestStart","crimes","isOpen","isClosing","lastUpdated","getTime","currentDate","year","month","$options","endDate","_year","getFullYear","_month","getMonth","setMonth","innerHTML","getElementsByTagName","setMonths","monthToSelect","months","_place$geometry$viewp","createPoly","res","changeData","_this2","classList","add","dataClick","querySelector","getColour","whiteListedColours","iArray","found","val","floor","hex","_i","_this3","requestDiff","category","charAt","substr","formattedDate","updateMap","closeOverlay","getData","policeDataFn","_this4","removeMarkers","style","transitionDelay","remove","getAttribute","contains","children","background","parseFloat","latitude","longitude","addMarkers","root","oTarget","fns","_","parentElement","fn","$toggle","toggle","generateDates","gotPlace","mapError","addEventListener","toggleClick","eventHandler","yearChange","submitClick","./police-api.js","15","query","queries","endpoint","whatwg-fetch","16","close","alert","$alertContent","$alert","$alertContainer","$alertClose"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":10}],2:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],3:[function(require,module,exports){\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n\n},{}],4:[function(require,module,exports){\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n\n},{\"./implementation\":3}],5:[function(require,module,exports){\n'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n\n},{\"./isArguments\":6}],6:[function(require,module,exports){\n'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nvar keys = require('object-keys');\n\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; }\n\tif (keys(obj).length !== 0) { return false; }\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n\n},{\"object-keys\":5}],8:[function(require,module,exports){\n'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = require('object-keys');\nvar bind = require('function-bind');\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = require('./hasSymbols')();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tsyms = getSymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n\n},{\"./hasSymbols\":7,\"function-bind\":4,\"object-keys\":5}],9:[function(require,module,exports){\n'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n\n},{\"./implementation\":8}],10:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],11:[function(require,module,exports){\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _map = require(\"./map.js\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _overlay = require(\"./overlay.js\");\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire('es6-promise').polyfill();\n\nvar $map = document.getElementsByClassName(\"map\")[0];\nvar $input = document.getElementById(\"input\");\nvar mapDefaults = {\n  center: {\n    lat: 52.3942358,\n    lng: -2.2905\n  },\n  zoom: 7\n};\n\nvar map = new _map2.default({\n  el: $map,\n  defaults: mapDefaults,\n  input: $input,\n  countryCode: \"GB\"\n});\n\nvar overlay = new _overlay2.default(map);\n\n$input.value = \"\"; // fixed bug with firefox\n\nwindow.App = overlay;\n\n},{\"./map.js\":13,\"./overlay.js\":14,\"es6-promise\":1}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require(\"events\");\n\nvar _polyfill = require(\"object.assign/polyfill\");\n\nvar _polyfill2 = _interopRequireDefault(_polyfill);\n\nvar _popup = require(\"./popup.js\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar assign = (0, _polyfill2.default)();\n\nvar Map = function (_EventEmitter) {\n  _inherits(Map, _EventEmitter);\n\n  function Map() {\n    _classCallCheck(this, Map);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Map).call(this));\n\n    var date = Date.now();\n    _this.body = document.body;\n    _this.settings = arguments[0];\n    _this.markers = {}; // stores markers\n    _this.previousSettings = {\n      bounds: {\n        north: null,\n        east: null,\n        south: null,\n        west: null\n      },\n      lat: null,\n      lng: null\n    };\n\n    // used for working out zoom level\n    var zoomLevelData = {};\n    var tileSize = 256;\n    var initialLatToPx = 256 / 180;\n    var initialLngToPx = 256 / 360;\n    var fakeTileSize = tileSize;\n    var zoom = 0;\n\n    while (zoom < 20) {\n\n      zoomLevelData[zoom] = {\n        latToPx: initialLatToPx * (fakeTileSize / tileSize),\n        lngToPx: initialLngToPx * (fakeTileSize / tileSize)\n      };\n      fakeTileSize = fakeTileSize * 2;\n      zoom++;\n    }\n\n    _this.zoomLevelData = zoomLevelData;\n\n    if (!((typeof google === \"undefined\" ? \"undefined\" : _typeof(google)) === \"object\" && google.hasOwnProperty(\"maps\"))) {\n      // if no google script\n      var script = document.createElement(\"SCRIPT\");\n      if (window.debug === true) {\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&libraries=places&callback=Map\" + date;\n      } else {\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyA21Xad94gjpC7J0BIdJgBhE0awlNSJuB4&libraries=places&callback=Map\" + date;\n      }\n      script.defer = true;\n      script.async = true;\n      _this.body.appendChild(script);\n\n      window[\"Map\" + date] = _this.initMap.bind(_this);\n    } else {\n      _this.initMap();\n    }\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"initMap\",\n    value: function initMap() {\n      var settings = assign(this.settings.defaults, {\n        streetViewControl: false\n      });\n      //this.settings.defaults.streetViewControl = false;\n\n      this.map = new google.maps.Map(this.settings.el, settings);\n      this.geocoder = new google.maps.Geocoder();\n      this.autocomplete = new google.maps.places.Autocomplete(this.settings.input, {\n        types: [\"(cities)\"],\n        componentRestrictions: {\n          country: this.settings.countryCode\n        }\n      });\n\n      this.autocomplete.addListener(\"place_changed\", this.placeChanged.bind(this));\n      this.emit(\"loaded\");\n    }\n  }, {\n    key: \"placeChanged\",\n    value: function placeChanged() {\n      var place = this.autocomplete.getPlace();\n\n      if (place.hasOwnProperty(\"geometry\")) {\n        //this.updateMap(place);\n        this.emit(\"gotPlace\", place);\n      } else {\n        this.emit(\"error\", {\n          code: 1,\n          msg: \"No geometry property on place object\",\n          data: place\n        });\n      }\n    }\n  }, {\n    key: \"getZoom\",\n    value: function getZoom(obj) {\n      // lat north to south\n      //long east to west\n      var north = obj.north;\n      var east = obj.east;\n      var south = obj.south;\n      var west = obj.west;\n\n      var zoomLevelData = this.zoomLevelData;\n      var lngDiff = east - west;\n      var latDiff = north - south;\n\n      function getMaxZoom(key, diff, maxValue) {\n        var loop = true;\n        var maxZoom = 0;\n\n        while (loop) {\n          var zoom = maxZoom + 1;\n          var width = diff * zoomLevelData[zoom][key];\n\n          if (width < maxValue) {\n            maxZoom = zoom;\n          } else {\n            loop = false;\n          }\n        }\n\n        return maxZoom;\n      }\n\n      var maxLngZoom = getMaxZoom(\"lngToPx\", lngDiff, window.innerWidth);\n      var maxLatZoom = getMaxZoom(\"latToPx\", latDiff, window.innerHeight);\n\n      return Math.min(maxLngZoom, maxLatZoom);\n    }\n  }, {\n    key: \"updateMap\",\n    value: function updateMap(obj) {\n\n      if (obj !== null) {\n\n        var bounds = obj.geometry.viewport.toJSON();\n        var lat = obj.geometry.location.lat();\n        var lng = obj.geometry.location.lng();\n\n        var north = bounds.north;\n        var east = bounds.east;\n        var south = bounds.south;\n        var west = bounds.west;\n\n\n        obj.bounds = bounds;\n\n        this.map.setOptions({\n          center: obj.geometry.viewport.getCenter().toJSON(),\n          zoom: this.getZoom(bounds)\n        });\n\n        if (!this.hasOwnProperty(\"rectangle\")) {\n          this.rectangle = new google.maps.Rectangle({\n            bounds: bounds,\n            map: this.map,\n            fillColor: \"#000000\",\n            fillOpacity: 0,\n            strokeColor: \"#e64c4c\",\n            strokeOpacity: 0.8,\n            strokeWeight: 2\n          });\n\n          this.previousSettings.bounds = {\n            north: north,\n            east: east,\n            south: south,\n            west: west\n          };\n        } else if (north !== this.previousSettings.bounds.north, east !== this.previousSettings.bounds.east, south !== this.previousSettings.bounds.south, west !== this.previousSettings.bounds.west) {\n          this.previousSettings.bounds = {\n            north: north,\n            east: east,\n            south: south,\n            west: west\n          };\n          this.rectangle.setBounds(bounds);\n        }\n\n        this.emit(\"updated\", obj);\n      } else {\n        (0, _popup2.default)(\"Try reselecting the place you wish to see data for.\");\n      }\n    }\n  }, {\n    key: \"addMarkers\",\n    value: function addMarkers(_ref) {\n      var key = _ref.key;\n      var data = _ref.data;\n      var colour = _ref.colour;\n\n      var markerColour = colour.replace(/#/g, \"%23\");\n      // const {\n      //   key,\n      //   data\n      // } = obj;\n\n      if (key === \"all\") throw \"can't use the key all\";\n      if (this.markers.hasOwnProperty(key)) throw \"already a property with the key \" + key;\n      var prevCoords = [];\n      this.markers[key] = [];\n\n      data.forEach(function (data) {\n        var lat = data.lat;\n        var lng = data.lng;\n\n\n        var coords = lat + \"-\" + lng;\n\n        if (prevCoords.indexOf(coords !== -1)) {\n          lat = lat + Math.random() * 0.0001;\n          lng = lng + Math.random() * 0.0001;\n          coords = lat + \"-\" + lng;\n        }\n\n        prevCoords.push(coords);\n\n        //const markerColour = \"#333333\";\n\n        //console.log(lat, lng);\n        var marker = new google.maps.Marker({\n          position: {\n            lat: lat,\n            lng: lng\n          },\n          map: this.map,\n          //icon:\"/images/location.svg\",\n          icon: \"data:image/svg+xml;charset=UTF-8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"Capa_1\\\" width=\\\"32\\\" height=\\\"32\\\" viewBox=\\\"0 0 21.1 33\\\"><style>.st0{fill:\" + markerColour + \";stroke:%23000000;stroke-miterlimit:10;}</style><path class=\\\"st0\\\" d=\\\"M10.6.5C5 .5.5 5 .5 10.5c0 3.6 1.6 8.4 4.9 14.2 2.4 4.3 4.9 7.6 4.9 7.6.1.1.2.1.3.1.1 0 .2-.1.3-.2 0 0 2.5-3.7 4.8-8.2 3.2-6.1 4.9-10.6 4.9-13.6 0-5.4-4.5-9.9-10-9.9zm4.6 10.3c0 2.6-2.1 4.6-4.6 4.6C8 15.4 6 13.3 6 10.8s2-4.7 4.5-4.7c2.6 0 4.7 2.1 4.7 4.7z\\\"/></svg>\"\n          //animation:google.maps.Animation.DROP\n\n        });\n\n        this.markers[key].push(marker);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeMarkers\",\n    value: function removeMarkers(key) {\n\n      function clearMarkers(arr) {\n        arr.forEach(function (marker) {\n          marker.setMap(null);\n        });\n      }\n\n      if (key === \"all\") {\n        for (var _key in this.markers) {\n          clearMarkers(this.markers[_key]);\n        }\n        this.markers = [];\n      } else {\n        clearMarkers(this.markers[key]);\n        //this.markers[key] = [];\n        delete this.markers[key];\n      }\n    }\n  }]);\n\n  return Map;\n}(_events.EventEmitter);\n\nexports.default = Map;\n;\n\n},{\"./popup.js\":16,\"events\":2,\"object.assign/polyfill\":9}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require(\"events\");\n\nvar _policeApi = require(\"./police-api.js\");\n\nvar _popup = require(\"./popup.js\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Overlay = function (_EventEmitter) {\n  _inherits(Overlay, _EventEmitter);\n\n  function Overlay(map) {\n    _classCallCheck(this, Overlay);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Overlay).call(this));\n\n    _this.map = map;\n    _this.mapData = {\n      place: null,\n      poly: null\n    };\n    _this.el = {\n      $place: null,\n      $overlay: null,\n      $submit: null,\n      $year: null,\n      $month: null,\n      $policeData: null\n    };\n    _this.eventFns = {\n      click: [],\n      change: []\n    };\n    _this.possibleDates = null;\n    _this.loading = false;\n    _this.maxDate = null;\n    _this.policeData = {\n      requestEnd: null,\n      requestStart: null,\n      crimes: null\n    };\n    _this.overlay = {\n      isOpen: false,\n      requestStart: null,\n      requestEnd: null,\n      isClosing: false\n    };\n\n    (0, _policeApi.lastUpdated)(function (err, obj) {\n      if (!err) {\n        var date = obj.date.split(\"-\").slice(0, 2);\n        date = new Date(date[0], date[1] - 1);\n        this.maxDate = date.getTime();\n        this.init();\n      }\n    }.bind(_this));\n\n    return _this;\n  }\n\n  _createClass(Overlay, [{\n    key: \"generateDates\",\n    value: function generateDates() {\n\n      var possibleDates = {};\n      var currentDate = new Date(2012, 0);\n      var keys = void 0;\n      var year = void 0;\n      var month = void 0;\n      var $options = void 0;\n      var endDate = this.maxDate;\n\n      while (currentDate.getTime() < endDate) {\n        var _year = currentDate.getFullYear();\n        var _month = currentDate.getMonth() + 1; // change to 1 based\n        if (!possibleDates.hasOwnProperty(_year)) {\n          possibleDates[_year] = [];\n        }\n        possibleDates[_year].push(_month);\n        currentDate.setMonth(currentDate.getMonth() + 1);\n      }\n\n      keys = Object.keys(possibleDates);\n      year = keys[keys.length - 1];\n      month = possibleDates[year];\n      month = month[month.length - 1];\n\n      this.el.$year.innerHTML = keys.map(function (key) {\n        return \"<option value=\\\"\" + key + \"\\\">\" + key + \"</option>\";\n      }).join(\"\");\n\n      $options = this.el.$year.getElementsByTagName(\"option\");\n      this.el.$year.value = $options[$options.length - 1].value;\n      this.possibleDates = possibleDates;\n      this.setMonths(year, month);\n      this.currentDate = year + \"-\" + month;\n    }\n  }, {\n    key: \"setMonths\",\n    value: function setMonths(year, monthToSelect) {\n      var months = this.possibleDates[year];\n\n      this.el.$month.innerHTML = months.map(function (key) {\n        return \"<option value=\\\"\" + key + \"\\\">\" + key + \"</option>\";\n      }).join(\"\");\n\n      if (monthToSelect) {\n        var i = monthToSelect;\n        if (!months[monthToSelect - 1]) {\n          i = 1;\n        }\n        var $months = this.el.$month.getElementsByTagName(\"option\");\n        this.el.$month.value = i;\n      }\n    }\n  }, {\n    key: \"gotPlace\",\n    value: function gotPlace(place) {\n      var _place$geometry$viewp = place.geometry.viewport.toJSON();\n\n      var north = _place$geometry$viewp.north;\n      var south = _place$geometry$viewp.south;\n      var east = _place$geometry$viewp.east;\n      var west = _place$geometry$viewp.west;\n\n      this.mapData.place = place;\n\n      this.mapData.poly = this.createPoly(north, east, south, west);\n    }\n  }, {\n    key: \"mapError\",\n    value: function mapError() {\n      (0, _popup2.default)(\"An Unknown Error Occurred\");\n    }\n  }, {\n    key: \"policeDataFn\",\n    value: function policeDataFn(err, res) {\n      var _this3 = this;\n\n      var iArray = []; // used for getColour\n      function changeData(str) {\n        var _this2 = this;\n\n        this.el.$policeData.innerHTML = str;\n        setTimeout(function () {\n          // allows opacity transition to work corretly\n          _this2.el.$policeData.classList.add(\"map-overlay__police-data--show\");\n          _this2.overlay.isOpen = true;\n          _this2.dataClick(document.querySelector(\".map-overlay__police-data__section\"));\n        }, 0);\n      }\n\n      function getColour(i) {\n\n        var whiteListedColours = [\n        //\"#780f2d\",\n        \"#f2c61c\", \"#e16635\", \"#bae654\", \"#fc455e\",\n        //\"#e64c4c\",\n        \"#2c967b\"];\n\n        if (iArray.length < whiteListedColours.length) {\n          var found = false;\n          while (found === false) {\n            var val = Math.floor(Math.random() * whiteListedColours.length);\n            if (iArray.indexOf(whiteListedColours[val]) === -1) {\n              iArray.push(whiteListedColours[val]);\n              found = whiteListedColours[val];\n            }\n          }\n\n          return found;\n        } else {\n          var hex = (Math.random() * 0xFFFFFF << 0).toString(16); //Was sometimes returning hex with less then 6 chars. http://stackoverflow.com/questions/5092808/how-do-i-randomly-generate-html-hex-color-codes-using-javascript\n          if (hex.length !== 6) {\n            for (var _i = 0; _i <= 6 - hex.length; _i++) {\n              hex = \"0\" + hex;\n            }\n          }\n          return \"#\" + hex;\n        }\n      }\n\n      if (err || res.hasOwnProperty(\"status\")) {\n\n        if (res.status == 503) {\n          (0, _popup2.default)(\"More than 10,000 crimes in this area, please select a smaller area.\");\n        } else {\n          (0, _popup2.default)(\"An Unknown Error Occoured\");\n        }\n      } else {\n        (function () {\n          var crimes = {};\n          var str = \"\";\n          var requestDiff = void 0;\n\n          _this3.policeData.requestEnd = Date.now();\n\n          res.forEach(function (data) {\n            var category = data.category.replace(/-/g, \" \").split(\" \").map(function (text) {\n              return text.charAt(0).toUpperCase() + text.substr(1);\n            }).join(\" \");\n\n            if (!crimes.hasOwnProperty(category)) {\n              crimes[category] = [];\n            }\n            crimes[category].push(data);\n          });\n\n          var i = 0;\n          for (var key in crimes) {\n            //const colour = '#'+ Math.floor(Math.random()*16777215).toString(16);\n            var colour = getColour(i);\n            str += \"<div class='map-overlay__police-data__section' data-category=\\\"\" + key + \"\\\" data-colour=\\\"\" + colour + \"\\\"><span></span>\" + crimes[key].length + \" x \" + key + \"</div>\";\n            i++;\n          }\n          str += \"<p class=\\\"map-overlay__police-data__total\\\">Total: \" + res.length + \"</p>\";\n\n          requestDiff = _this3.policeData.requestEnd - _this3.policeData.requestStart;\n          _this3.policeData.crimes = crimes;\n\n          if (_this3.overlay.isClosing === false) {\n            changeData.call(_this3, [str]);\n          } else {\n            _this3.once(\"OVERLAY-CLOSED\", function () {\n              changeData.call(this, [str]);\n            });\n          }\n        })();\n      }\n    }\n  }, {\n    key: \"createPoly\",\n    value: function createPoly(north, east, south, west) {\n      var poly = north + \",\" + east + \":\" + south + \",\" + east + \":\" + south + \",\" + west + \":\" + north + \",\" + west;\n      return poly;\n    }\n  }, {\n    key: \"submitClick\",\n    value: function submitClick() {\n      if (this.el.$place.value.trim() === \"\") {\n        (0, _popup2.default)(\"Please select a valid place\");\n      } else {\n        var formattedDate = this.el.$year.value + \"-\" + this.el.$month.value;\n        this.el.$submit.classList.add(\"map-overlay__button--loading\");\n        this.map.updateMap(this.mapData.place);\n        this.loading = true;\n        this.policeData.requestStart = Date.now();\n\n        if (this.overlay.isOpen) {\n          this.closeOverlay();\n        }\n\n        (0, _policeApi.getData)({\n          poly: this.mapData.poly,\n          date: formattedDate,\n          callback: this.policeDataFn.bind(this)\n        });\n      }\n    }\n  }, {\n    key: \"closeOverlay\",\n    value: function closeOverlay() {\n      var _this4 = this;\n\n      this.map.removeMarkers(\"all\");\n      this.overlay.isClosing = true;\n      this.el.$policeData.classList.add(\"map-overlay__police-data--closing\");\n      this.el.$policeData.style.transitionDelay = \"0.1s\";\n      setTimeout(function () {\n        _this4.el.$policeData.classList.remove(\"map-overlay__police-data--show\");\n      }, 0);\n\n      setTimeout(function () {\n        _this4.el.$policeData.style.transitionDelay = null;\n        _this4.el.$policeData.classList.remove(\"map-overlay__police-data--closing\");\n\n        setTimeout(function () {\n          _this4.overlay.isOpen = false;\n          _this4.overlay.isClosing = false;\n          _this4.emit(\"OVERLAY-CLOSED\");\n        }, 400);\n      }, 100);\n    }\n  }, {\n    key: \"dataClick\",\n    value: function dataClick(target) {\n      var key = target.getAttribute(\"data-category\");\n      if (target.classList.contains(\"map-overlay__police-data__section--active\")) {\n        // remove markers\n        target.classList.remove(\"map-overlay__police-data__section--active\");\n        target.children[0].style.background = null;\n        this.map.removeMarkers(key);\n      } else {\n        // add markers\n        var colour = target.getAttribute(\"data-colour\");\n        var child = target.children[0];\n\n        var crimes = this.policeData.crimes[key].map(function (obj) {\n          return {\n            lat: parseFloat(obj.location.latitude),\n            lng: parseFloat(obj.location.longitude)\n          };\n        });\n        target.classList.add(\"map-overlay__police-data__section--active\");\n        target.children[0].style.background = colour;\n        this.map.addMarkers({\n          key: key,\n          data: crimes,\n          colour: colour\n        });\n      }\n    }\n  }, {\n    key: \"yearChange\",\n    value: function yearChange() {\n      var year = this.el.$year.value;\n      var month = this.el.$month.value;\n      this.setMonths(year, month);\n    }\n\n    // one main eventHandler function\n\n  }, {\n    key: \"eventHandler\",\n    value: function eventHandler(root, e) {\n      var target = e.target;\n\n      var oTarget = target;\n      var fns = this.eventFns[e.type];\n      var _ = this;\n\n      if (Array.isArray(fns)) {\n        fns.forEach(function (obj) {\n          var found = false;\n          target = oTarget;\n\n          while (!found && target !== root) {\n\n            if (typeof obj.el === \"string\") {\n\n              if (target.classList.contains(obj.el)) {\n                found = true;\n              } else {\n                target = target.parentElement;\n              }\n            } else {\n              if (target === obj.el) {\n                found = true;\n              } else {\n                target = target.parentElement;\n              }\n            }\n          }\n\n          if (found) {\n            obj.fn.call(_, target);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"toggleClick\",\n    value: function toggleClick(e) {\n      this.el.$toggle.classList.toggle(\"map-overlay-toggle--open\");\n      this.el.$overlay.classList.toggle(\"map-overlay--show\");\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.el.$overlay = document.getElementsByClassName(\"map-overlay\")[0];\n      this.el.$submit = this.el.$overlay.getElementsByClassName(\"map-overlay__button\")[0];\n      this.el.$place = this.el.$overlay.getElementsByClassName(\"map-overlay__input\")[0];\n      this.el.$year = this.el.$overlay.getElementsByClassName(\"map-overlay__year-select\")[0];\n      this.el.$month = this.el.$overlay.getElementsByClassName(\"map-overlay__month-select\")[0];\n      this.el.$policeData = this.el.$overlay.getElementsByClassName(\"map-overlay__police-data\")[0];\n      this.el.$toggle = document.getElementsByClassName(\"map-overlay-toggle\")[0];\n\n      this.generateDates();\n\n      this.map.on(\"gotPlace\", this.gotPlace.bind(this)).on(\"error\", this.mapError.bind(this));\n\n      this.el.$toggle.addEventListener(\"click\", this.toggleClick.bind(this));\n\n      // trying something new with event handlers - don't hate\n      this.el.$overlay.addEventListener(\"click\", this.eventHandler.bind(this, this.el.$overlay));\n      this.el.$overlay.addEventListener(\"change\", this.eventHandler.bind(this, this.el.$overlay));\n\n      this.eventFns.change.push({\n        el: this.el.$year,\n        fn: this.yearChange\n      });\n\n      this.eventFns.click.push({\n        el: this.el.$submit,\n        fn: this.submitClick\n      });\n\n      this.eventFns.click.push({\n        el: \"map-overlay__police-data__section\",\n        fn: this.dataClick\n      });\n\n      this.el.$overlay.classList.add(\"map-overlay--show\");\n    }\n  }]);\n\n  return Overlay;\n}(_events.EventEmitter);\n\nexports.default = Overlay;\n\n},{\"./police-api.js\":15,\"./popup.js\":16,\"events\":2}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getData = getData;\nexports.lastUpdated = lastUpdated;\n\nrequire(\"whatwg-fetch\");\n\nvar endpoint = \"https://data.police.uk/api/crimes-street/all-crime\";\nvar queries = {}; // used to cache responses\n\nfunction getData(obj) {\n  var date = obj.date;\n  var poly = obj.poly;\n  var callback = obj.callback;\n\n  var query = \"?poly=\" + poly + \"&date=\" + date;\n\n  if (!queries.hasOwnProperty(query)) {\n    fetch(endpoint + query).then(function (res) {\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        return {\n          status: res.status,\n          statusText: res.statusText\n        };\n      }\n    }).then(function (data) {\n      queries[query] = [null, data];\n      callback(null, data);\n    }).catch(function (err) {\n      queries[query] = [err];\n      callback(err);\n    });\n  } else {\n    callback.apply(null, queries[query]);\n  }\n}\n\nfunction lastUpdated(callback) {\n\n  fetch(\"https://data.police.uk/api/crime-last-updated\").then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    callback(null, data);\n  }).catch(function (err) {\n    callback(err);\n  });\n}\n\n},{\"whatwg-fetch\":11}],16:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = alert;\nvar body = document.body;\nvar $alert = document.createElement(\"DIV\");\nvar $alertContainer = document.createElement(\"DIV\");\nvar $alertClose = document.createElement(\"BUTTON\");\nvar $alertContent = document.createElement(\"DIV\");\n\n$alertContainer.classList.add(\"alert__container\");\n$alertClose.classList.add(\"alert__close\");\n$alertClose.addEventListener(\"click\", close);\n$alertContent.classList.add(\"alert__content\");\n$alertClose.innerHTML = \"Close\";\n\n$alert.classList.add(\"alert\");\n$alert.appendChild($alertContainer);\n$alertContainer.appendChild($alertClose);\n$alertContainer.appendChild($alertContent);\n\nbody.appendChild($alert);\n\nfunction close() {\n  body.classList.remove(\"alert--open\");\n}\n\nfunction open() {\n  body.classList.add(\"alert--open\");\n}\n\nfunction alert(msg) {\n  $alertContent.innerHTML = msg;\n  setTimeout(function () {\n    open();\n  }, 0);\n}\n\n},{}]},{},[12])\n\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","var implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keys = require('object-keys');\n\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; }\n\tif (keys(obj).length !== 0) { return false; }\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = require('object-keys');\nvar bind = require('function-bind');\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = require('./hasSymbols')();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tsyms = getSymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import Map from \"./map.js\";\nimport Overlay from  \"./overlay.js\";\n\nrequire('es6-promise').polyfill();\n\n\n\n\nconst $map = document.getElementsByClassName(\"map\")[0];\nconst $input = document.getElementById(\"input\");\nconst mapDefaults = {\n  center: {\n    lat: 52.3942358,\n    lng: -2.2905\n  },\n  zoom: 7\n};\n\nconst map = new Map({\n  el:$map,\n  defaults:mapDefaults,\n  input:$input,\n  countryCode:\"GB\"\n});\n\nconst overlay = new Overlay(map);\n\n$input.value = \"\"; // fixed bug with firefox\n\nwindow.App = overlay;\n","import {\n  EventEmitter\n} from \"events\";\n\nimport Assign from \"object.assign/polyfill\";\nimport alert from \"./popup.js\";\n\nconst assign = Assign();\n\nexport default class Map extends EventEmitter {\n  constructor() {\n    super();\n    const date = Date.now();\n    this.body = document.body;\n    this.settings = arguments[0];\n    this.markers = {}; // stores markers\n    this.previousSettings = {\n      bounds: {\n        north: null,\n        east: null,\n        south: null,\n        west: null\n      },\n      lat: null,\n      lng: null\n    };\n\n    // used for working out zoom level\n    let zoomLevelData = {};\n    const tileSize = 256;\n    const initialLatToPx = 256 / 180;\n    const initialLngToPx = 256 / 360;\n    let fakeTileSize = tileSize;\n    let zoom = 0;\n\n    while (zoom < 20) {\n\n      zoomLevelData[zoom] = {\n        latToPx: initialLatToPx * (fakeTileSize / tileSize),\n        lngToPx: initialLngToPx * (fakeTileSize / tileSize)\n      }\n      fakeTileSize = fakeTileSize * 2;\n      zoom++;\n    }\n\n    this.zoomLevelData = zoomLevelData;\n\n\n    if (!(typeof google === \"object\" && google.hasOwnProperty(\"maps\"))) { // if no google script\n      const script = document.createElement(\"SCRIPT\");\n      if(window.debug === true){\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&libraries=places&callback=Map\" + date;\n      }\n      else{\n      script.src = \"https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyA21Xad94gjpC7J0BIdJgBhE0awlNSJuB4&libraries=places&callback=Map\" + date;\n      }\n      script.defer = true;\n      script.async = true;\n      this.body.appendChild(script);\n\n      window[\"Map\" + date] = this.initMap.bind(this);\n    } else {\n      this.initMap();\n    }\n  }\n\n  initMap() {\n    let settings = assign(this.settings.defaults, {\n      streetViewControl: false,\n    });\n    //this.settings.defaults.streetViewControl = false;\n\n    this.map = new google.maps.Map(this.settings.el, settings);\n    this.geocoder = new google.maps.Geocoder();\n    this.autocomplete = new google.maps.places.Autocomplete(this.settings.input, {\n      types: [\"(cities)\"],\n      componentRestrictions: {\n        country: this.settings.countryCode\n      }\n    });\n\n    this.autocomplete.addListener(\"place_changed\", this.placeChanged.bind(this));\n    this.emit(\"loaded\");\n  }\n\n\n  placeChanged() {\n    const place = this.autocomplete.getPlace();\n\n    if (place.hasOwnProperty(\"geometry\")) {\n      //this.updateMap(place);\n      this.emit(\"gotPlace\", place);\n    } else {\n      this.emit(\"error\", {\n        code: 1,\n        msg: \"No geometry property on place object\",\n        data: place\n      });\n    }\n  }\n\n  getZoom(obj) {\n    // lat north to south\n    //long east to west\n    const { north, east, south, west } = obj\n    const zoomLevelData = this.zoomLevelData;\n    const lngDiff = east - west;\n    const latDiff = north - south;\n\n    function getMaxZoom(key, diff, maxValue) {\n      let loop = true;\n      let maxZoom = 0;\n\n      while(loop){\n        const zoom = maxZoom + 1;\n        const width = diff * zoomLevelData[zoom][key];\n\n        if(width < maxValue){\n          maxZoom = zoom;\n        }\n        else{\n          loop = false;\n        }\n      }\n\n      return maxZoom;\n    }\n\n    const maxLngZoom = getMaxZoom(\"lngToPx\", lngDiff, window.innerWidth);\n    const maxLatZoom = getMaxZoom(\"latToPx\", latDiff, window.innerHeight);\n\n    return Math.min(maxLngZoom, maxLatZoom);\n  }\n\n  updateMap(obj) {\n\n    if (obj !== null) {\n\n      const bounds = obj.geometry.viewport.toJSON();\n      const lat = obj.geometry.location.lat();\n      const lng = obj.geometry.location.lng();\n\n      const {\n        north,\n        east,\n        south,\n        west\n      } = bounds;\n\n\n\n      obj.bounds = bounds;\n\n        this.map.setOptions({\n          center: obj.geometry.viewport.getCenter().toJSON(),\n          zoom: this.getZoom(bounds)\n        });\n\n      if (!this.hasOwnProperty(\"rectangle\")) {\n        this.rectangle = new google.maps.Rectangle({\n          bounds,\n          map: this.map,\n          fillColor: \"#000000\",\n          fillOpacity: 0,\n          strokeColor: \"#e64c4c\",\n          strokeOpacity: 0.8,\n          strokeWeight: 2\n        });\n\n        this.previousSettings.bounds = {\n          north,\n          east,\n          south,\n          west\n        }\n\n      } else if (north !== this.previousSettings.bounds.north, east !== this.previousSettings.bounds.east, south !== this.previousSettings.bounds.south, west !== this.previousSettings.bounds.west) {\n        this.previousSettings.bounds = {\n          north,\n          east,\n          south,\n          west\n        }\n        this.rectangle.setBounds(bounds);\n      }\n\n      this.emit(\"updated\", obj);\n    } else {\n      alert(\"Try reselecting the place you wish to see data for.\")\n    }\n  }\n\n  addMarkers({key, data, colour}) {\n    const markerColour = colour.replace(/#/g, \"%23\");\n    // const {\n    //   key,\n    //   data\n    // } = obj;\n\n    if (key === \"all\") throw \"can't use the key all\";\n    if (this.markers.hasOwnProperty(key)) throw \"already a property with the key \" + key;\n    let prevCoords = [];\n    this.markers[key] = [];\n\n    data.forEach(function(data) {\n\n      let {\n        lat,\n        lng\n      } = data;\n\n      let coords = lat + \"-\" + lng;\n\n      if(prevCoords.indexOf(coords !== -1)){\n        lat = lat +(Math.random() * 0.0001);\n        lng = lng +(Math.random() * 0.0001);\n        coords = lat + \"-\" + lng;\n      }\n\n\n\n      prevCoords.push(coords);\n\n      //const markerColour = \"#333333\";\n\n        //console.log(lat, lng);\n      const marker = new google.maps.Marker({\n        position: {\n          lat,\n          lng\n        },\n        map: this.map,\n        //icon:\"/images/location.svg\",\n        icon:`data:image/svg+xml;charset=UTF-8,<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Capa_1\" width=\"32\" height=\"32\" viewBox=\"0 0 21.1 33\"><style>.st0{fill:${markerColour};stroke:%23000000;stroke-miterlimit:10;}</style><path class=\"st0\" d=\"M10.6.5C5 .5.5 5 .5 10.5c0 3.6 1.6 8.4 4.9 14.2 2.4 4.3 4.9 7.6 4.9 7.6.1.1.2.1.3.1.1 0 .2-.1.3-.2 0 0 2.5-3.7 4.8-8.2 3.2-6.1 4.9-10.6 4.9-13.6 0-5.4-4.5-9.9-10-9.9zm4.6 10.3c0 2.6-2.1 4.6-4.6 4.6C8 15.4 6 13.3 6 10.8s2-4.7 4.5-4.7c2.6 0 4.7 2.1 4.7 4.7z\"/></svg>`\n        //animation:google.maps.Animation.DROP\n\n      });\n\n      this.markers[key].push(marker);\n\n    }.bind(this));\n  }\n\n  removeMarkers(key) {\n\n    function clearMarkers(arr) {\n      arr.forEach(function(marker) {\n        marker.setMap(null);\n      });\n    }\n\n    if (key === \"all\") {\n      for (let key in this.markers) {\n        clearMarkers(this.markers[key]);\n      }\n      this.markers = [];\n    } else {\n      clearMarkers(this.markers[key]);\n      //this.markers[key] = [];\n      delete this.markers[key];\n    }\n\n  }\n\n};\n","import {\n  EventEmitter\n} from \"events\";\nimport {\n  getData,\n  lastUpdated\n} from \"./police-api.js\";\n\nimport alert from \"./popup.js\";\n\nexport default class Overlay extends EventEmitter {\n  constructor(map) {\n\n    super();\n    this.map = map;\n    this.mapData = {\n      place: null,\n      poly:null\n    };\n    this.el = {\n      $place:null,\n      $overlay: null,\n      $submit: null,\n      $year: null,\n      $month: null,\n      $policeData:null\n    }\n    this.eventFns = {\n      click: [],\n      change: []\n    }\n    this.possibleDates = null;\n    this.loading = false;\n    this.maxDate = null;\n    this.policeData = {\n      requestEnd:null,\n      requestStart:null,\n      crimes:null\n    }\n    this.overlay = {\n      isOpen:false,\n      requestStart:null,\n      requestEnd:null,\n      isClosing:false\n    };\n\n    lastUpdated(function(err, obj) {\n      if (!err) {\n        let date = obj.date.split(\"-\").slice(0, 2);\n        date = new Date(date[0], date[1] - 1);\n        this.maxDate = date.getTime();\n        this.init();\n      }\n    }.bind(this));\n\n  }\n\n\n\n  generateDates() {\n\n    let possibleDates = {};\n    let currentDate = new Date(2012, 0);\n    let keys;\n    let year;\n    let month;\n    let $options;\n    const endDate = this.maxDate;\n\n    while (currentDate.getTime() < endDate) {\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth() + 1; // change to 1 based\n      if (!possibleDates.hasOwnProperty(year)) {\n        possibleDates[year] = [];\n      }\n      possibleDates[year].push(month);\n      currentDate.setMonth(currentDate.getMonth() + 1);\n    }\n\n    keys = Object.keys(possibleDates);\n    year = keys[keys.length - 1];\n    month = possibleDates[year];\n    month = month[month.length - 1];\n\n\n    this.el.$year.innerHTML = keys.map(function(key) {\n      return `<option value=\"${key}\">${key}</option>`;\n    }).join(\"\");\n\n    $options = this.el.$year.getElementsByTagName(\"option\");\n    this.el.$year.value = $options[$options.length - 1].value;\n    this.possibleDates = possibleDates;\n    this.setMonths(year, month);\n    this.currentDate = year + \"-\" + month;\n  }\n\n  setMonths(year, monthToSelect) {\n    const months = this.possibleDates[year];\n\n    this.el.$month.innerHTML = months.map(function(key) {\n      return `<option value=\"${key}\">${key}</option>`;\n    }).join(\"\");\n\n\n    if (monthToSelect) {\n      let i = monthToSelect;\n      if (!months[monthToSelect - 1]) {\n        i = 1;\n      }\n      const $months = this.el.$month.getElementsByTagName(\"option\");\n      this.el.$month.value = i;\n    }\n\n  }\n\n\n\n  gotPlace(place) {\n    const { north, south, east, west } = place.geometry.viewport.toJSON();\n    this.mapData.place = place;\n\n    this.mapData.poly = this.createPoly(north, east, south, west);\n  }\n\n  mapError() {\n    alert(\"An Unknown Error Occurred\");\n  }\n\n  policeDataFn(err, res){\n    const iArray = []; // used for getColour\n    function changeData(str) {\n\n      this.el.$policeData.innerHTML = str;\n      setTimeout(() => { // allows opacity transition to work corretly\n        this.el.$policeData.classList.add(\"map-overlay__police-data--show\");\n        this.overlay.isOpen = true;\n        this.dataClick(document.querySelector(\".map-overlay__police-data__section\"));\n      }, 0);\n    }\n\n\n    function getColour(i) {\n\n      const whiteListedColours = [\n        //\"#780f2d\",\n        \"#f2c61c\",\n        \"#e16635\",\n        \"#bae654\",\n        \"#fc455e\",\n        //\"#e64c4c\",\n        \"#2c967b\"\n      ];\n\n      if(iArray.length < whiteListedColours.length){\n        let found = false;\n        while(found === false){\n            const val = Math.floor(Math.random() * whiteListedColours.length);\n            if(iArray.indexOf(whiteListedColours[val]) === -1){\n            iArray.push(whiteListedColours[val]);\n            found = whiteListedColours[val];\n          }\n        }\n\n        return found;\n\n      }\n      else{\n        let hex = (Math.random()*0xFFFFFF<<0).toString(16);//Was sometimes returning hex with less then 6 chars. http://stackoverflow.com/questions/5092808/how-do-i-randomly-generate-html-hex-color-codes-using-javascript\n        if(hex.length !== 6){\n          for ( let i = 0; i <= 6 - hex.length; i++){\n            hex = \"0\" + hex;\n          }\n        }\n        return \"#\" + hex;\n      }\n\n    }\n\n\n    if (err || res.hasOwnProperty(\"status\")) {\n\n      if(res.status == 503){\n        alert(\"More than 10,000 crimes in this area, please select a smaller area.\");\n      }\n      else{\n        alert(\"An Unknown Error Occoured\");\n      }\n\n    } else {\n      let crimes = {};\n      let str = \"\";\n      let requestDiff;\n\n      this.policeData.requestEnd = Date.now();\n\n      res.forEach(function(data) {\n        let category = data.category.replace(/-/g, \" \")\n          .split(\" \").map(function(text) {\n            return text.charAt(0).toUpperCase() + text.substr(1);\n          }).join(\" \");\n\n        if (!crimes.hasOwnProperty(category)) {\n          crimes[category] = [];\n        }\n        crimes[category].push(data);\n      });\n\n      let i = 0;\n      for (let key in crimes) {\n        //const colour = '#'+ Math.floor(Math.random()*16777215).toString(16);\n        const colour = getColour(i);\n        str += `<div class='map-overlay__police-data__section' data-category=\"${key}\" data-colour=\"${colour}\"><span></span>${crimes[key].length} x ${key}</div>`;\n        i++;\n      }\n      str += `<p class=\"map-overlay__police-data__total\">Total: ${res.length}</p>`\n\n      requestDiff = this.policeData.requestEnd - this.policeData.requestStart;\n      this.policeData.crimes = crimes;\n\n\n      if(this.overlay.isClosing === false){\n        changeData.call(this, [str]);\n      }\n      else{\n        this.once(\"OVERLAY-CLOSED\", function() {\n          changeData.call(this, [str]);\n        });\n      }\n\n    }\n  }\n\n   createPoly(north, east, south, west) {\n    const poly = `${north},${east}:${south},${east}:${south},${west}:${north},${west}`;\n    return poly;\n  }\n\n  submitClick() {\n    if (this.el.$place.value.trim() === \"\") {\n      alert(\"Please select a valid place\");\n    } else {\n      const formattedDate = this.el.$year.value + \"-\" + this.el.$month.value;\n      this.el.$submit.classList.add(\"map-overlay__button--loading\");\n      this.map.updateMap(this.mapData.place);\n      this.loading = true;\n      this.policeData.requestStart = Date.now();\n\n      if(this.overlay.isOpen){\n        this.closeOverlay();\n      }\n\n\n      getData({\n        poly:this.mapData.poly,\n        date:formattedDate,\n        callback:this.policeDataFn.bind(this)\n      });\n\n    }\n  }\n\n  closeOverlay(){\n    this.map.removeMarkers(\"all\");\n    this.overlay.isClosing = true;\n    this.el.$policeData.classList.add(\"map-overlay__police-data--closing\");\n    this.el.$policeData.style.transitionDelay = \"0.1s\";\n    setTimeout(()=> {\n      this.el.$policeData.classList.remove(\"map-overlay__police-data--show\");\n    },0);\n\n    setTimeout(()=> {\n        this.el.$policeData.style.transitionDelay = null;\n        this.el.$policeData.classList.remove(\"map-overlay__police-data--closing\");\n\n        setTimeout(()=>{\n          this.overlay.isOpen = false;\n          this.overlay.isClosing = false;\n          this.emit(\"OVERLAY-CLOSED\");\n\n        },400);\n\n    },100);\n\n  }\n\n  dataClick(target){\n    let key = target.getAttribute(\"data-category\");\n    if (target.classList.contains(\"map-overlay__police-data__section--active\")) { // remove markers\n      target.classList.remove(\"map-overlay__police-data__section--active\");\n      target.children[0].style.background = null;\n      this.map.removeMarkers(key);\n    } else { // add markers\n      const colour = target.getAttribute(\"data-colour\");\n      const child = target.children[0];\n\n      let crimes = this.policeData.crimes[key].map(function(obj) {\n        return {\n          lat: parseFloat(obj.location.latitude),\n          lng: parseFloat(obj.location.longitude)\n        };\n      });\n      target.classList.add(\"map-overlay__police-data__section--active\");\n      target.children[0].style.background = colour;\n      this.map.addMarkers({\n        key,\n        data: crimes,\n        colour\n      });\n    }\n  }\n\n  yearChange() {\n    const year = this.el.$year.value;\n    const month = this.el.$month.value\n    this.setMonths(year, month);\n  }\n\n  // one main eventHandler function\n  eventHandler(root, e) {\n\n    let {\n      target\n    } = e;\n    const oTarget = target;\n    const fns = this.eventFns[e.type];\n    const _ = this;\n\n    if (Array.isArray(fns)) {\n      fns.forEach(function(obj) {\n        let found = false;\n        target = oTarget;\n\n        while (!found && target !== root) {\n\n          if(typeof obj.el === \"string\"){\n\n            if(target.classList.contains(obj.el)){\n              found = true;\n            }\n            else{\n              target = target.parentElement;\n            }\n          }\n          else{\n            if (target === obj.el) {\n              found = true;\n            } else {\n              target = target.parentElement;\n            }\n          }\n\n        }\n\n\n        if (found) {\n          obj.fn.call(_, target);\n        }\n      });\n    }\n\n\n  }\n\n  toggleClick(e){\n    this.el.$toggle.classList.toggle(\"map-overlay-toggle--open\");\n    this.el.$overlay.classList.toggle(\"map-overlay--show\");\n  }\n\n  init() {\n    this.el.$overlay = document.getElementsByClassName(\"map-overlay\")[0];\n    this.el.$submit = this.el.$overlay.getElementsByClassName(\"map-overlay__button\")[0];\n    this.el.$place = this.el.$overlay.getElementsByClassName(\"map-overlay__input\")[0];\n    this.el.$year = this.el.$overlay.getElementsByClassName(\"map-overlay__year-select\")[0];\n    this.el.$month = this.el.$overlay.getElementsByClassName(\"map-overlay__month-select\")[0];\n    this.el.$policeData = this.el.$overlay.getElementsByClassName(\"map-overlay__police-data\")[0];\n    this.el.$toggle = document.getElementsByClassName(\"map-overlay-toggle\")[0];\n\n    this.generateDates();\n\n    this.map\n      .on(\"gotPlace\", this.gotPlace.bind(this))\n      .on(\"error\", this.mapError.bind(this));\n\n\n    this.el.$toggle.addEventListener(\"click\", this.toggleClick.bind(this));\n\n    // trying something new with event handlers - don't hate\n    this.el.$overlay.addEventListener(\"click\", this.eventHandler.bind(this, this.el.$overlay));\n    this.el.$overlay.addEventListener(\"change\", this.eventHandler.bind(this, this.el.$overlay));\n\n    this.eventFns.change.push({\n      el: this.el.$year,\n      fn: this.yearChange\n    });\n\n    this.eventFns.click.push({\n      el: this.el.$submit,\n      fn: this.submitClick\n    });\n\n    this.eventFns.click.push({\n      el:\"map-overlay__police-data__section\",\n      fn:this.dataClick\n    })\n\n\n\n    this.el.$overlay.classList.add(\"map-overlay--show\");\n  }\n\n\n\n}\n","import 'whatwg-fetch';\n\nconst endpoint = \"https://data.police.uk/api/crimes-street/all-crime\";\nlet queries = {}; // used to cache responses\n\nexport function getData(obj) {\n  const {\n    date,\n    poly,\n    callback\n  } = obj;\n  const query = `?poly=${poly}&date=${date}`;\n\n  if (!queries.hasOwnProperty(query)) {\n    fetch(endpoint + query)\n      .then(function(res) {\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          return {\n            status: res.status,\n            statusText: res.statusText\n          }\n        }\n      })\n      .then(function(data) {\n        queries[query] = [null, data];\n        callback(null, data);\n      })\n      .catch(function(err) {\n        queries[query] = [err];\n        callback(err);\n      });\n  }\n  else{\n    callback.apply(null, queries[query]);\n  }\n}\n\nexport function lastUpdated(callback) {\n\n  fetch(\"https://data.police.uk/api/crime-last-updated\")\n    .then(function(res) {\n      return res.json();\n    })\n    .then(function(data) {\n      callback(null, data);\n    })\n    .catch(function(err) {\n      callback(err);\n    });\n\n}\n","const body = document.body;\nconst $alert = document.createElement(\"DIV\");\nconst $alertContainer = document.createElement(\"DIV\");\nconst $alertClose = document.createElement(\"BUTTON\");\nconst $alertContent = document.createElement(\"DIV\");\n\n$alertContainer.classList.add(\"alert__container\");\n$alertClose.classList.add(\"alert__close\");\n$alertClose.addEventListener(\"click\", close);\n$alertContent.classList.add(\"alert__content\");\n$alertClose.innerHTML = \"Close\";\n\n$alert.classList.add(\"alert\");\n$alert.appendChild($alertContainer);\n$alertContainer.appendChild($alertClose);\n$alertContainer.appendChild($alertContent);\n\nbody.appendChild($alert);\n\nfunction close() {\n  body.classList.remove(\"alert--open\");\n}\n\nfunction open() {\n  body.classList.add(\"alert--open\");\n}\n\nexport default function alert(msg){\n  $alertContent.innerHTML = msg;\n  setTimeout(function() {\n    open();\n  },0);\n}\n"],"sourceRoot":"/"}