{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/browserify/node_modules/events/events.js","main.js","node_modules/browserify/node_modules/process/browser.js","node_modules/es6-promise/dist/es6-promise.js","node_modules/object.assign/hasSymbols.js","node_modules/object.assign/implementation.js","node_modules/object.assign/node_modules/function-bind/implementation.js","node_modules/object.assign/node_modules/function-bind/index.js","node_modules/object.assign/node_modules/object-keys/index.js","node_modules/object.assign/node_modules/object-keys/isArguments.js","node_modules/object.assign/polyfill.js","node_modules/whatwg-fetch/fetch.js","src/js/main.js","src/js/map.js","src/js/overlay.js","src/js/police-api.js","src/js/popup.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","2","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","cachedSetTimeout","run","cachedClearTimeout","Item","fun","array","noop","process","setTimeout","clearTimeout","nextTick","title","browser","env","argv","version","versions","off","binding","name","cwd","chdir","dir","umask","3","global","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","node","document","createTextNode","observe","characterData","data","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$asap$$len","callback","lib$es6$promise$asap$$queue","lib$es6$promise$asap$$attemptVertx","vertx","runOnLoop","runOnContext","lib$es6$promise$then$$then","onFulfillment","onRejection","parent","child","constructor","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$PROMISE_ID","lib$es6$promise$$internal$$makePromise","state","_state","lib$es6$promise$$internal$$invokeCallback","_result","lib$es6$promise$$internal$$subscribe","lib$es6$promise$promise$resolve$$resolve","object","Constructor","promise","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$selfFulfillment","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","then","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$FULFILLED","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$then$$default","resolve","lib$es6$promise$promise$resolve$$default","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","subscribers","settled","detail","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$$internal$$nextId","lib$es6$promise$$internal$$id","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","reject","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","lib$es6$promise$enumerator$$Enumerator","input","_instanceConstructor","_input","_remaining","_enumerate","lib$es6$promise$enumerator$$validationError","lib$es6$promise$polyfill$$polyfill","local","self","Function","P","Promise","Object","toString","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","window","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","Math","random","substring","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$reject$$default","all","race","_setScheduler","_setAsap","_asap","catch","_eachEntry","entry","c","_settledAt","_willSettleAt","enumerator","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","define","_process","4","keys","Symbol","getOwnPropertySymbols","iterator","obj","sym","symObj","symVal","getOwnPropertyNames","syms","propertyIsEnumerable","getOwnPropertyDescriptor","descriptor","enumerable","object-keys","5","bind","canBeObject","hasSymbols","toObject","propIsEnumerable","originalGetSymbols","target","source1","source","props","objTarget","getSymbols","./hasSymbols","function-bind","6","ERROR_MESSAGE","toStr","funcType","that","bound","binder","result","boundLength","max","boundArgs","join","Empty","7","implementation","./implementation","8","has","hasOwnProperty","isArgs","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","equalsConstructorPrototypeIfNotBuggy","keysShim","isArguments","isString","theKeys","skipProto","String","j","skipConstructor","shim","keysWorksWithArguments","originalKeys","./isArguments","9","str","callee","10","lacksProperEnumerationOrder","assign","letters","split","map","actual","assignHasPendingExceptions","preventExtensions","thrower","11","normalizeName","test","toLowerCase","normalizeValue","Headers","headers","forEach","append","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","get","set","rejected","text","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","indexOf","Request","options","url","credentials","mode","referrer","form","trim","bytes","shift","replace","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","Response","bodyInit","status","ok","statusText","fetch","values","getAll","thisArg","clone","response","redirectStatuses","redirect","RangeError","location","init","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","12","_interopRequireDefault","__esModule","default","_map","_map2","_overlay","_overlay2","$map","getElementsByClassName","$input","getElementById","mapDefaults","center","lat","lng","zoom","el","defaults","countryCode","overlay","App","./map.js","./overlay.js","es6-promise","13","_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","writable","configurable","setPrototypeOf","__proto__","defineProperty","_typeof","_createClass","defineProperties","protoProps","staticProps","_polyfill","_polyfill2","_popup","_popup2","Map","_EventEmitter","_this","getPrototypeOf","date","Date","now","settings","markers","previousSettings","bounds","north","east","south","west","zoomLevelData","tileSize","initialLatToPx","initialLngToPx","fakeTileSize","latToPx","lngToPx","google","initMap","script","createElement","debug","src","defer","async","appendChild","streetViewControl","maps","geocoder","Geocoder","autocomplete","places","Autocomplete","types","componentRestrictions","country","placeChanged","place","getPlace","msg","getMaxZoom","diff","maxValue","loop","maxZoom","_zoom","width","lngDiff","latDiff","maxLngZoom","innerWidth","maxLatZoom","innerHeight","min","geometry","viewport","toJSON","setOptions","getCenter","getZoom","rectangle","setBounds","Rectangle","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","prevCoords","coords","marker","Marker","clearMarkers","arr","setMap","_key","./popup.js","events","object.assign/polyfill","14","_policeApi","Overlay","mapData","poly","$place","$overlay","$submit","$year","$month","$policeData","eventFns","click","change","possibleDates","loading","maxDate","policeData","requestEnd","requestStart","crimes","isOpen","isClosing","lastUpdated","getTime","currentDate","year","month","$options","endDate","_year","getFullYear","_month","getMonth","setMonth","innerHTML","getElementsByTagName","setMonths","monthToSelect","months","_place$geometry$viewp","createPoly","res","changeData","_this2","classList","add","_this3","requestDiff","category","charAt","substr","formattedDate","updateMap","closeOverlay","getData","policeDataFn","_this4","removeMarkers","style","transitionDelay","remove","getAttribute","contains","parseFloat","latitude","longitude","addMarkers","root","oTarget","fns","_","found","parentElement","fn","$toggle","toggle","generateDates","gotPlace","mapError","addEventListener","toggleClick","eventHandler","yearChange","submitClick","dataClick","./police-api.js","15","query","queries","endpoint","whatwg-fetch","16","close","alert","$alertContent","$alert","$alertContainer","$alertClose"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],2:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],3:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":2}],4:[function(require,module,exports){\n'use strict';\n\nvar keys = require('object-keys');\n\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; }\n\tif (keys(obj).length !== 0) { return false; }\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n\n},{\"object-keys\":8}],5:[function(require,module,exports){\n'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = require('object-keys');\nvar bind = require('function-bind');\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = require('./hasSymbols')();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tsyms = getSymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n\n},{\"./hasSymbols\":4,\"function-bind\":7,\"object-keys\":8}],6:[function(require,module,exports){\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n\n},{}],7:[function(require,module,exports){\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n\n},{\"./implementation\":6}],8:[function(require,module,exports){\n'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n\n},{\"./isArguments\":9}],9:[function(require,module,exports){\n'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n\n},{\"./implementation\":5}],11:[function(require,module,exports){\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _map = require(\"./map.js\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _overlay = require(\"./overlay.js\");\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire('es6-promise').polyfill();\n\nvar $map = document.getElementsByClassName(\"map\")[0];\nvar $input = document.getElementById(\"input\");\nvar mapDefaults = {\n  center: {\n    lat: 52.3942358,\n    lng: -2.2905\n  },\n  zoom: 7\n};\n\nvar map = new _map2.default({\n  el: $map,\n  defaults: mapDefaults,\n  input: $input,\n  countryCode: \"GB\"\n});\n\nvar overlay = new _overlay2.default(map);\n\n$input.value = \"\"; // fixed bug with firefox\n\nwindow.App = overlay;\n\n},{\"./map.js\":13,\"./overlay.js\":14,\"es6-promise\":3}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require(\"events\");\n\nvar _polyfill = require(\"object.assign/polyfill\");\n\nvar _polyfill2 = _interopRequireDefault(_polyfill);\n\nvar _popup = require(\"./popup.js\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar assign = (0, _polyfill2.default)();\n\nvar Map = function (_EventEmitter) {\n  _inherits(Map, _EventEmitter);\n\n  function Map() {\n    _classCallCheck(this, Map);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Map).call(this));\n\n    var date = Date.now();\n    _this.body = document.body;\n    _this.settings = arguments[0];\n    _this.markers = {}; // stores markers\n    _this.previousSettings = {\n      bounds: {\n        north: null,\n        east: null,\n        south: null,\n        west: null\n      },\n      lat: null,\n      lng: null\n    };\n\n    // used for working out zoom level\n    var zoomLevelData = {};\n    var tileSize = 256;\n    var initialLatToPx = 256 / 180;\n    var initialLngToPx = 256 / 360;\n    var fakeTileSize = tileSize;\n    var zoom = 0;\n\n    while (zoom < 20) {\n\n      zoomLevelData[zoom] = {\n        latToPx: initialLatToPx * (fakeTileSize / tileSize),\n        lngToPx: initialLngToPx * (fakeTileSize / tileSize)\n      };\n      fakeTileSize = fakeTileSize * 2;\n      zoom++;\n    }\n\n    _this.zoomLevelData = zoomLevelData;\n\n    if (!((typeof google === \"undefined\" ? \"undefined\" : _typeof(google)) === \"object\" && google.hasOwnProperty(\"maps\"))) {\n      // if no google script\n      var script = document.createElement(\"SCRIPT\");\n      if (window.debug === true) {\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&libraries=places&callback=Map\" + date;\n      } else {\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyA21Xad94gjpC7J0BIdJgBhE0awlNSJuB4&libraries=places&callback=Map\" + date;\n      }\n      script.defer = true;\n      script.async = true;\n      _this.body.appendChild(script);\n\n      window[\"Map\" + date] = _this.initMap.bind(_this);\n    } else {\n      _this.initMap();\n    }\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"initMap\",\n    value: function initMap() {\n      var settings = assign(this.settings.defaults, {\n        streetViewControl: false\n      });\n      //this.settings.defaults.streetViewControl = false;\n\n      this.map = new google.maps.Map(this.settings.el, settings);\n      this.geocoder = new google.maps.Geocoder();\n      this.autocomplete = new google.maps.places.Autocomplete(this.settings.input, {\n        types: [\"(cities)\"],\n        componentRestrictions: {\n          country: this.settings.countryCode\n        }\n      });\n\n      this.autocomplete.addListener(\"place_changed\", this.placeChanged.bind(this));\n      this.emit(\"loaded\");\n    }\n  }, {\n    key: \"placeChanged\",\n    value: function placeChanged() {\n      var place = this.autocomplete.getPlace();\n\n      if (place.hasOwnProperty(\"geometry\")) {\n        //this.updateMap(place);\n        this.emit(\"gotPlace\", place);\n      } else {\n        this.emit(\"error\", {\n          code: 1,\n          msg: \"No geometry property on place object\",\n          data: place\n        });\n      }\n    }\n  }, {\n    key: \"getZoom\",\n    value: function getZoom(obj) {\n      // lat north to south\n      //long east to west\n      var north = obj.north;\n      var east = obj.east;\n      var south = obj.south;\n      var west = obj.west;\n\n      var zoomLevelData = this.zoomLevelData;\n      var lngDiff = east - west;\n      var latDiff = north - south;\n\n      function getMaxZoom(key, diff, maxValue) {\n        var loop = true;\n        var maxZoom = 0;\n\n        while (loop) {\n          var _zoom = maxZoom + 1;\n          var width = diff * zoomLevelData[_zoom][key];\n\n          if (width < maxValue) {\n            maxZoom = _zoom;\n          } else {\n            loop = false;\n          }\n        }\n\n        return maxZoom;\n      }\n\n      var maxLngZoom = getMaxZoom(\"lngToPx\", lngDiff, window.innerWidth);\n      var maxLatZoom = getMaxZoom(\"latToPx\", latDiff, window.innerHeight);\n\n      return Math.min(maxLngZoom, maxLatZoom);\n    }\n  }, {\n    key: \"updateMap\",\n    value: function updateMap(obj) {\n\n      if (obj !== null) {\n\n        var bounds = obj.geometry.viewport.toJSON();\n        var lat = obj.geometry.location.lat();\n        var lng = obj.geometry.location.lng();\n\n        var north = bounds.north;\n        var east = bounds.east;\n        var south = bounds.south;\n        var west = bounds.west;\n\n\n        obj.bounds = bounds;\n\n        this.map.setOptions({\n          center: obj.geometry.viewport.getCenter().toJSON(),\n          zoom: this.getZoom(bounds)\n        });\n\n        if (!this.hasOwnProperty(\"rectangle\")) {\n          this.rectangle = new google.maps.Rectangle({\n            bounds: bounds,\n            map: this.map,\n            fillColor: \"#000000\",\n            fillOpacity: 0,\n            strokeColor: \"#e64c4c\",\n            strokeOpacity: 0.8,\n            strokeWeight: 2\n          });\n\n          this.previousSettings.bounds = {\n            north: north,\n            east: east,\n            south: south,\n            west: west\n          };\n        } else if (north !== this.previousSettings.bounds.north, east !== this.previousSettings.bounds.east, south !== this.previousSettings.bounds.south, west !== this.previousSettings.bounds.west) {\n          this.previousSettings.bounds = {\n            north: north,\n            east: east,\n            south: south,\n            west: west\n          };\n          this.rectangle.setBounds(bounds);\n        }\n\n        this.emit(\"updated\", obj);\n      } else {\n        (0, _popup2.default)(\"Try reselecting the place you wish to see data for.\");\n      }\n    }\n  }, {\n    key: \"addMarkers\",\n    value: function addMarkers(obj) {\n      var key = obj.key;\n      var data = obj.data;\n\n\n      if (key === \"all\") throw \"can't use the key all\";\n      if (this.markers.hasOwnProperty(key)) throw \"already a property with the key \" + key;\n      var prevCoords = [];\n      this.markers[key] = [];\n\n      data.forEach(function (data) {\n        var lat = data.lat;\n        var lng = data.lng;\n\n\n        var coords = lat + \"-\" + lng;\n\n        if (prevCoords.indexOf(coords !== -1)) {\n          lat = lat + Math.random() * 0.0002;\n          lng = lng + Math.random() * 0.0002;\n          coords = lat + \"-\" + lng;\n        }\n\n        prevCoords.push(coords);\n\n        //console.log(lat, lng);\n        var marker = new google.maps.Marker({\n          position: {\n            lat: lat,\n            lng: lng\n          },\n          map: this.map\n        });\n\n        this.markers[key].push(marker);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeMarkers\",\n    value: function removeMarkers(key) {\n\n      function clearMarkers(arr) {\n        arr.forEach(function (marker) {\n          marker.setMap(null);\n        });\n      }\n\n      if (key === \"all\") {\n        for (var _key in this.markers) {\n          clearMarkers(this.markers[_key]);\n        }\n        this.markers = [];\n      } else {\n        clearMarkers(this.markers[key]);\n        //this.markers[key] = [];\n        delete this.markers[key];\n      }\n    }\n  }]);\n\n  return Map;\n}(_events.EventEmitter);\n\nexports.default = Map;\n;\n\n},{\"./popup.js\":16,\"events\":1,\"object.assign/polyfill\":10}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require(\"events\");\n\nvar _policeApi = require(\"./police-api.js\");\n\nvar _popup = require(\"./popup.js\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Overlay = function (_EventEmitter) {\n  _inherits(Overlay, _EventEmitter);\n\n  function Overlay(map) {\n    _classCallCheck(this, Overlay);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Overlay).call(this));\n\n    _this.map = map;\n    _this.mapData = {\n      place: null,\n      poly: null\n    };\n    _this.el = {\n      $place: null,\n      $overlay: null,\n      $submit: null,\n      $year: null,\n      $month: null,\n      $policeData: null\n    };\n    _this.eventFns = {\n      click: [],\n      change: []\n    };\n    _this.possibleDates = null;\n    _this.loading = false;\n    _this.maxDate = null;\n    _this.policeData = {\n      requestEnd: null,\n      requestStart: null,\n      crimes: null\n    };\n    _this.overlay = {\n      isOpen: false,\n      requestStart: null,\n      requestEnd: null,\n      isClosing: false\n    };\n\n    (0, _policeApi.lastUpdated)(function (err, obj) {\n      if (!err) {\n        var date = obj.date.split(\"-\").slice(0, 2);\n        date = new Date(date[0], date[1] - 1);\n        this.maxDate = date.getTime();\n        this.init();\n      }\n    }.bind(_this));\n\n    return _this;\n  }\n\n  _createClass(Overlay, [{\n    key: \"generateDates\",\n    value: function generateDates() {\n\n      var possibleDates = {};\n      var currentDate = new Date(2012, 0);\n      var keys = void 0;\n      var year = void 0;\n      var month = void 0;\n      var $options = void 0;\n      var endDate = this.maxDate;\n\n      while (currentDate.getTime() < endDate) {\n        var _year = currentDate.getFullYear();\n        var _month = currentDate.getMonth() + 1; // change to 1 based\n        if (!possibleDates.hasOwnProperty(_year)) {\n          possibleDates[_year] = [];\n        }\n        possibleDates[_year].push(_month);\n        currentDate.setMonth(currentDate.getMonth() + 1);\n      }\n\n      keys = Object.keys(possibleDates);\n      year = keys[keys.length - 1];\n      month = possibleDates[year];\n      month = month[month.length - 1];\n\n      this.el.$year.innerHTML = keys.map(function (key) {\n        return \"<option value=\\\"\" + key + \"\\\">\" + key + \"</option>\";\n      }).join(\"\");\n\n      $options = this.el.$year.getElementsByTagName(\"option\");\n      this.el.$year.value = $options[$options.length - 1].value;\n      this.possibleDates = possibleDates;\n      this.setMonths(year, month);\n      this.currentDate = year + \"-\" + month;\n    }\n  }, {\n    key: \"setMonths\",\n    value: function setMonths(year, monthToSelect) {\n      var months = this.possibleDates[year];\n\n      this.el.$month.innerHTML = months.map(function (key) {\n        return \"<option value=\\\"\" + key + \"\\\">\" + key + \"</option>\";\n      }).join(\"\");\n\n      if (monthToSelect) {\n        var i = monthToSelect;\n        if (!months[monthToSelect - 1]) {\n          i = 1;\n        }\n        var $months = this.el.$month.getElementsByTagName(\"option\");\n        this.el.$month.value = i;\n      }\n    }\n  }, {\n    key: \"gotPlace\",\n    value: function gotPlace(place) {\n      var _place$geometry$viewp = place.geometry.viewport.toJSON();\n\n      var north = _place$geometry$viewp.north;\n      var south = _place$geometry$viewp.south;\n      var east = _place$geometry$viewp.east;\n      var west = _place$geometry$viewp.west;\n\n      this.mapData.place = place;\n\n      this.mapData.poly = this.createPoly(north, east, south, west);\n    }\n  }, {\n    key: \"mapError\",\n    value: function mapError() {\n      (0, _popup2.default)(\"An Unknown Error Occurred\");\n    }\n  }, {\n    key: \"policeDataFn\",\n    value: function policeDataFn(err, res) {\n      var _this3 = this;\n\n      function changeData(str) {\n        var _this2 = this;\n\n        this.el.$policeData.innerHTML = str;\n        setTimeout(function () {\n          // allows opacity transition to work corretly\n          _this2.el.$policeData.classList.add(\"map-overlay__police-data--show\");\n          _this2.overlay.isOpen = true;\n        }, 0);\n      }\n\n      if (err || res.hasOwnProperty(\"status\")) {\n\n        if (res.status == 503) {\n          (0, _popup2.default)(\"More than 10,000 crimes in this area, please select a smaller area.\");\n        } else {\n          (0, _popup2.default)(\"An Unknown Error Occoured\");\n        }\n      } else {\n        (function () {\n          var crimes = {};\n          var str = \"\";\n          var requestDiff = void 0;\n\n          _this3.policeData.requestEnd = Date.now();\n\n          res.forEach(function (data) {\n            var category = data.category.replace(/-/g, \" \").split(\" \").map(function (text) {\n              return text.charAt(0).toUpperCase() + text.substr(1);\n            }).join(\" \");\n\n            if (!crimes.hasOwnProperty(category)) {\n              crimes[category] = [];\n            }\n            crimes[category].push(data);\n          });\n\n          for (var key in crimes) {\n            str += \"<div class='map-overlay__police-data__section' data-category=\\\"\" + key + \"\\\">\" + crimes[key].length + \" x \" + key + \"</div>\";\n          }\n          str += \"<p class=\\\"map-overlay__police-data__total\\\">Total: \" + res.length + \"</p>\";\n\n          requestDiff = _this3.policeData.requestEnd - _this3.policeData.requestStart;\n          _this3.policeData.crimes = crimes;\n\n          if (_this3.overlay.isClosing === false) {\n            changeData.call(_this3, [str]);\n          } else {\n            _this3.once(\"OVERLAY-CLOSED\", function () {\n              changeData.call(this, [str]);\n            });\n          }\n        })();\n      }\n    }\n  }, {\n    key: \"createPoly\",\n    value: function createPoly(north, east, south, west) {\n      var poly = north + \",\" + east + \":\" + south + \",\" + east + \":\" + south + \",\" + west + \":\" + north + \",\" + west;\n      return poly;\n    }\n  }, {\n    key: \"submitClick\",\n    value: function submitClick() {\n      if (this.el.$place.value.trim() === \"\") {\n        (0, _popup2.default)(\"Please select a valid place\");\n      } else {\n        var formattedDate = this.el.$year.value + \"-\" + this.el.$month.value;\n        this.el.$submit.classList.add(\"map-overlay__button--loading\");\n        this.map.updateMap(this.mapData.place);\n        this.loading = true;\n        this.policeData.requestStart = Date.now();\n\n        if (this.overlay.isOpen) {\n          this.closeOverlay();\n        }\n\n        (0, _policeApi.getData)({\n          poly: this.mapData.poly,\n          date: formattedDate,\n          callback: this.policeDataFn.bind(this)\n        });\n      }\n    }\n  }, {\n    key: \"closeOverlay\",\n    value: function closeOverlay() {\n      var _this4 = this;\n\n      this.map.removeMarkers(\"all\");\n      this.overlay.isClosing = true;\n      this.el.$policeData.classList.add(\"map-overlay__police-data--closing\");\n      this.el.$policeData.style.transitionDelay = \"0.1s\";\n      setTimeout(function () {\n        _this4.el.$policeData.classList.remove(\"map-overlay__police-data--show\");\n      }, 0);\n\n      setTimeout(function () {\n        _this4.el.$policeData.style.transitionDelay = null;\n        _this4.el.$policeData.classList.remove(\"map-overlay__police-data--closing\");\n\n        setTimeout(function () {\n          _this4.overlay.isOpen = false;\n          _this4.overlay.isClosing = false;\n          _this4.emit(\"OVERLAY-CLOSED\");\n        }, 400);\n      }, 100);\n    }\n  }, {\n    key: \"dataClick\",\n    value: function dataClick(target) {\n      var key = target.getAttribute(\"data-category\");\n      if (target.classList.contains(\"map-overlay__police-data__section--active\")) {\n        // remove markers\n        target.classList.remove(\"map-overlay__police-data__section--active\");\n        this.map.removeMarkers(key);\n      } else {\n        // add markers\n        var crimes = this.policeData.crimes[key].map(function (obj) {\n          return {\n            lat: parseFloat(obj.location.latitude),\n            lng: parseFloat(obj.location.longitude)\n          };\n        });\n        target.classList.add(\"map-overlay__police-data__section--active\");\n        this.map.addMarkers({\n          key: key,\n          data: crimes\n        });\n      }\n    }\n  }, {\n    key: \"yearChange\",\n    value: function yearChange() {\n      var year = this.el.$year.value;\n      var month = this.el.$month.value;\n      this.setMonths(year, month);\n    }\n\n    // one main eventHandler function\n\n  }, {\n    key: \"eventHandler\",\n    value: function eventHandler(root, e) {\n      var target = e.target;\n\n      var oTarget = target;\n      var fns = this.eventFns[e.type];\n      var _ = this;\n\n      if (Array.isArray(fns)) {\n        fns.forEach(function (obj) {\n          var found = false;\n          target = oTarget;\n\n          while (!found && target !== root) {\n\n            if (typeof obj.el === \"string\") {\n\n              if (target.classList.contains(obj.el)) {\n                found = true;\n              } else {\n                target = target.parentElement;\n              }\n            } else {\n              if (target === obj.el) {\n                found = true;\n              } else {\n                target = target.parentElement;\n              }\n            }\n          }\n\n          if (found) {\n            obj.fn.call(_, target);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"toggleClick\",\n    value: function toggleClick(e) {\n      this.el.$toggle.classList.toggle(\"map-overlay-toggle--open\");\n      this.el.$overlay.classList.toggle(\"map-overlay--show\");\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.el.$overlay = document.getElementsByClassName(\"map-overlay\")[0];\n      this.el.$submit = this.el.$overlay.getElementsByClassName(\"map-overlay__button\")[0];\n      this.el.$place = this.el.$overlay.getElementsByClassName(\"map-overlay__input\")[0];\n      this.el.$year = this.el.$overlay.getElementsByClassName(\"map-overlay__year-select\")[0];\n      this.el.$month = this.el.$overlay.getElementsByClassName(\"map-overlay__month-select\")[0];\n      this.el.$policeData = this.el.$overlay.getElementsByClassName(\"map-overlay__police-data\")[0];\n      this.el.$toggle = document.getElementsByClassName(\"map-overlay-toggle\")[0];\n\n      this.generateDates();\n\n      this.map.on(\"gotPlace\", this.gotPlace.bind(this)).on(\"error\", this.mapError.bind(this));\n\n      this.el.$toggle.addEventListener(\"click\", this.toggleClick.bind(this));\n\n      // trying something new with event handlers - don't hate\n      this.el.$overlay.addEventListener(\"click\", this.eventHandler.bind(this, this.el.$overlay));\n      this.el.$overlay.addEventListener(\"change\", this.eventHandler.bind(this, this.el.$overlay));\n\n      this.eventFns.change.push({\n        el: this.el.$year,\n        fn: this.yearChange\n      });\n\n      this.eventFns.click.push({\n        el: this.el.$submit,\n        fn: this.submitClick\n      });\n\n      this.eventFns.click.push({\n        el: \"map-overlay__police-data__section\",\n        fn: this.dataClick\n      });\n\n      this.el.$overlay.classList.add(\"map-overlay--show\");\n    }\n  }]);\n\n  return Overlay;\n}(_events.EventEmitter);\n\nexports.default = Overlay;\n\n},{\"./police-api.js\":15,\"./popup.js\":16,\"events\":1}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getData = getData;\nexports.lastUpdated = lastUpdated;\n\nrequire(\"whatwg-fetch\");\n\nvar endpoint = \"https://data.police.uk/api/crimes-street/all-crime\";\nvar queries = {}; // used to cache responses\n\nfunction getData(obj) {\n  var date = obj.date;\n  var poly = obj.poly;\n  var callback = obj.callback;\n\n  var query = \"?poly=\" + poly + \"&date=\" + date;\n\n  if (!queries.hasOwnProperty(query)) {\n    fetch(endpoint + query).then(function (res) {\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        return {\n          status: res.status,\n          statusText: res.statusText\n        };\n      }\n    }).then(function (data) {\n      queries[query] = [null, data];\n      callback(null, data);\n    }).catch(function (err) {\n      queries[query] = [err];\n      callback(err);\n    });\n  } else {\n    callback.apply(null, queries[query]);\n  }\n}\n\nfunction lastUpdated(callback) {\n\n  fetch(\"https://data.police.uk/api/crime-last-updated\").then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    callback(null, data);\n  }).catch(function (err) {\n    callback(err);\n  });\n}\n\n},{\"whatwg-fetch\":11}],16:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = alert;\nvar body = document.body;\nvar $alert = document.createElement(\"DIV\");\nvar $alertContainer = document.createElement(\"DIV\");\nvar $alertClose = document.createElement(\"BUTTON\");\nvar $alertContent = document.createElement(\"DIV\");\n\n$alertContainer.classList.add(\"alert__container\");\n$alertClose.classList.add(\"alert__close\");\n$alertClose.addEventListener(\"click\", close);\n$alertContent.classList.add(\"alert__content\");\n$alertClose.innerHTML = \"Close\";\n\n$alert.classList.add(\"alert\");\n$alert.appendChild($alertContainer);\n$alertContainer.appendChild($alertClose);\n$alertContainer.appendChild($alertContent);\n\nbody.appendChild($alert);\n\nfunction close() {\n  body.classList.remove(\"alert--open\");\n}\n\nfunction open() {\n  body.classList.add(\"alert--open\");\n}\n\nfunction alert(msg) {\n  $alertContent.innerHTML = msg;\n  setTimeout(function () {\n    open();\n  }, 0);\n}\n\n},{}]},{},[12])\n\n","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n","'use strict';\n\nvar keys = require('object-keys');\n\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; }\n\tif (keys(obj).length !== 0) { return false; }\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = require('object-keys');\nvar bind = require('function-bind');\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = require('./hasSymbols')();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tsyms = getSymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n","var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","var implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import Map from \"./map.js\";\nimport Overlay from  \"./overlay.js\";\n\nrequire('es6-promise').polyfill();\n\n\n\n\nconst $map = document.getElementsByClassName(\"map\")[0];\nconst $input = document.getElementById(\"input\");\nconst mapDefaults = {\n  center: {\n    lat: 52.3942358,\n    lng: -2.2905\n  },\n  zoom: 7\n};\n\nconst map = new Map({\n  el:$map,\n  defaults:mapDefaults,\n  input:$input,\n  countryCode:\"GB\"\n});\n\nconst overlay = new Overlay(map);\n\n$input.value = \"\"; // fixed bug with firefox\n\nwindow.App = overlay;\n","import {\n  EventEmitter\n} from \"events\";\n\nimport Assign from \"object.assign/polyfill\";\nimport alert from \"./popup.js\";\n\nconst assign = Assign();\n\nexport default class Map extends EventEmitter {\n  constructor() {\n    super();\n    const date = Date.now();\n    this.body = document.body;\n    this.settings = arguments[0];\n    this.markers = {}; // stores markers\n    this.previousSettings = {\n      bounds: {\n        north: null,\n        east: null,\n        south: null,\n        west: null\n      },\n      lat: null,\n      lng: null\n    };\n\n    // used for working out zoom level\n    let zoomLevelData = {};\n    const tileSize = 256;\n    const initialLatToPx = 256 / 180;\n    const initialLngToPx = 256 / 360;\n    let fakeTileSize = tileSize;\n    let zoom = 0;\n\n    while (zoom < 20) {\n\n      zoomLevelData[zoom] = {\n        latToPx: initialLatToPx * (fakeTileSize / tileSize),\n        lngToPx: initialLngToPx * (fakeTileSize / tileSize)\n      }\n      fakeTileSize = fakeTileSize * 2;\n      zoom++;\n    }\n\n    this.zoomLevelData = zoomLevelData;\n\n\n    if (!(typeof google === \"object\" && google.hasOwnProperty(\"maps\"))) { // if no google script\n      const script = document.createElement(\"SCRIPT\");\n      if(window.debug === true){\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&libraries=places&callback=Map\" + date;\n      }\n      else{\n      script.src = \"https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyA21Xad94gjpC7J0BIdJgBhE0awlNSJuB4&libraries=places&callback=Map\" + date;\n      }\n      script.defer = true;\n      script.async = true;\n      this.body.appendChild(script);\n\n      window[\"Map\" + date] = this.initMap.bind(this);\n    } else {\n      this.initMap();\n    }\n  }\n\n  initMap() {\n    let settings = assign(this.settings.defaults, {\n      streetViewControl: false,\n    });\n    //this.settings.defaults.streetViewControl = false;\n\n    this.map = new google.maps.Map(this.settings.el, settings);\n    this.geocoder = new google.maps.Geocoder();\n    this.autocomplete = new google.maps.places.Autocomplete(this.settings.input, {\n      types: [\"(cities)\"],\n      componentRestrictions: {\n        country: this.settings.countryCode\n      }\n    });\n\n    this.autocomplete.addListener(\"place_changed\", this.placeChanged.bind(this));\n    this.emit(\"loaded\");\n  }\n\n\n  placeChanged() {\n    const place = this.autocomplete.getPlace();\n\n    if (place.hasOwnProperty(\"geometry\")) {\n      //this.updateMap(place);\n      this.emit(\"gotPlace\", place);\n    } else {\n      this.emit(\"error\", {\n        code: 1,\n        msg: \"No geometry property on place object\",\n        data: place\n      });\n    }\n  }\n\n  getZoom(obj) {\n    // lat north to south\n    //long east to west\n    const { north, east, south, west } = obj\n    const zoomLevelData = this.zoomLevelData;\n    const lngDiff = east - west;\n    const latDiff = north - south;\n\n    function getMaxZoom(key, diff, maxValue) {\n      let loop = true;\n      let maxZoom = 0;\n\n      while(loop){\n        const zoom = maxZoom + 1;\n        const width = diff * zoomLevelData[zoom][key];\n\n        if(width < maxValue){\n          maxZoom = zoom;\n        }\n        else{\n          loop = false;\n        }\n      }\n\n      return maxZoom;\n    }\n\n    const maxLngZoom = getMaxZoom(\"lngToPx\", lngDiff, window.innerWidth);\n    const maxLatZoom = getMaxZoom(\"latToPx\", latDiff, window.innerHeight);\n\n    return Math.min(maxLngZoom, maxLatZoom);\n  }\n\n  updateMap(obj) {\n\n    if (obj !== null) {\n\n      const bounds = obj.geometry.viewport.toJSON();\n      const lat = obj.geometry.location.lat();\n      const lng = obj.geometry.location.lng();\n\n      const {\n        north,\n        east,\n        south,\n        west\n      } = bounds;\n\n\n\n      obj.bounds = bounds;\n\n        this.map.setOptions({\n          center: obj.geometry.viewport.getCenter().toJSON(),\n          zoom: this.getZoom(bounds)\n        });\n\n      if (!this.hasOwnProperty(\"rectangle\")) {\n        this.rectangle = new google.maps.Rectangle({\n          bounds,\n          map: this.map,\n          fillColor: \"#000000\",\n          fillOpacity: 0,\n          strokeColor: \"#e64c4c\",\n          strokeOpacity: 0.8,\n          strokeWeight: 2\n        });\n\n        this.previousSettings.bounds = {\n          north,\n          east,\n          south,\n          west\n        }\n\n      } else if (north !== this.previousSettings.bounds.north, east !== this.previousSettings.bounds.east, south !== this.previousSettings.bounds.south, west !== this.previousSettings.bounds.west) {\n        this.previousSettings.bounds = {\n          north,\n          east,\n          south,\n          west\n        }\n        this.rectangle.setBounds(bounds);\n      }\n\n      this.emit(\"updated\", obj);\n    } else {\n      alert(\"Try reselecting the place you wish to see data for.\")\n    }\n  }\n\n  addMarkers(obj) {\n    const {\n      key,\n      data\n    } = obj;\n\n    if (key === \"all\") throw \"can't use the key all\";\n    if (this.markers.hasOwnProperty(key)) throw \"already a property with the key \" + key;\n    let prevCoords = [];\n    this.markers[key] = [];\n\n    data.forEach(function(data) {\n\n      let {\n        lat,\n        lng\n      } = data;\n\n      let coords = lat + \"-\" + lng;\n\n      if(prevCoords.indexOf(coords !== -1)){\n        lat = lat +(Math.random() * 0.0002);\n        lng = lng +(Math.random() * 0.0002);\n        coords = lat + \"-\" + lng;\n      }\n\n\n\n      prevCoords.push(coords);\n\n        //console.log(lat, lng);\n      const marker = new google.maps.Marker({\n        position: {\n          lat,\n          lng\n        },\n        map: this.map,\n        //icon:\"/images/location.svg\",\n        //animation:google.maps.Animation.DROP\n\n      });\n\n      this.markers[key].push(marker);\n\n    }.bind(this));\n  }\n\n  removeMarkers(key) {\n\n    function clearMarkers(arr) {\n      arr.forEach(function(marker) {\n        marker.setMap(null);\n      });\n    }\n\n    if (key === \"all\") {\n      for (let key in this.markers) {\n        clearMarkers(this.markers[key]);\n      }\n      this.markers = [];\n    } else {\n      clearMarkers(this.markers[key]);\n      //this.markers[key] = [];\n      delete this.markers[key];\n    }\n\n  }\n\n};\n","import {\n  EventEmitter\n} from \"events\";\nimport {\n  getData,\n  lastUpdated\n} from \"./police-api.js\";\n\nimport alert from \"./popup.js\";\n\nexport default class Overlay extends EventEmitter {\n  constructor(map) {\n\n    super();\n    this.map = map;\n    this.mapData = {\n      place: null,\n      poly:null\n    };\n    this.el = {\n      $place:null,\n      $overlay: null,\n      $submit: null,\n      $year: null,\n      $month: null,\n      $policeData:null\n    }\n    this.eventFns = {\n      click: [],\n      change: []\n    }\n    this.possibleDates = null;\n    this.loading = false;\n    this.maxDate = null;\n    this.policeData = {\n      requestEnd:null,\n      requestStart:null,\n      crimes:null\n    }\n    this.overlay = {\n      isOpen:false,\n      requestStart:null,\n      requestEnd:null,\n      isClosing:false\n    };\n\n    lastUpdated(function(err, obj) {\n      if (!err) {\n        let date = obj.date.split(\"-\").slice(0, 2);\n        date = new Date(date[0], date[1] - 1);\n        this.maxDate = date.getTime();\n        this.init();\n      }\n    }.bind(this));\n\n  }\n\n\n\n  generateDates() {\n\n    let possibleDates = {};\n    let currentDate = new Date(2012, 0);\n    let keys;\n    let year;\n    let month;\n    let $options;\n    const endDate = this.maxDate;\n\n    while (currentDate.getTime() < endDate) {\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth() + 1; // change to 1 based\n      if (!possibleDates.hasOwnProperty(year)) {\n        possibleDates[year] = [];\n      }\n      possibleDates[year].push(month);\n      currentDate.setMonth(currentDate.getMonth() + 1);\n    }\n\n    keys = Object.keys(possibleDates);\n    year = keys[keys.length - 1];\n    month = possibleDates[year];\n    month = month[month.length - 1];\n\n\n    this.el.$year.innerHTML = keys.map(function(key) {\n      return `<option value=\"${key}\">${key}</option>`;\n    }).join(\"\");\n\n    $options = this.el.$year.getElementsByTagName(\"option\");\n    this.el.$year.value = $options[$options.length - 1].value;\n    this.possibleDates = possibleDates;\n    this.setMonths(year, month);\n    this.currentDate = year + \"-\" + month;\n  }\n\n  setMonths(year, monthToSelect) {\n    const months = this.possibleDates[year];\n\n    this.el.$month.innerHTML = months.map(function(key) {\n      return `<option value=\"${key}\">${key}</option>`;\n    }).join(\"\");\n\n\n    if (monthToSelect) {\n      let i = monthToSelect;\n      if (!months[monthToSelect - 1]) {\n        i = 1;\n      }\n      const $months = this.el.$month.getElementsByTagName(\"option\");\n      this.el.$month.value = i;\n    }\n\n  }\n\n\n\n  gotPlace(place) {\n    const { north, south, east, west } = place.geometry.viewport.toJSON();\n    this.mapData.place = place;\n\n    this.mapData.poly = this.createPoly(north, east, south, west);\n  }\n\n  mapError() {\n    alert(\"An Unknown Error Occurred\");\n  }\n\n  policeDataFn(err, res){\n    function changeData(str) {\n\n      this.el.$policeData.innerHTML = str;\n      setTimeout(() => { // allows opacity transition to work corretly\n        this.el.$policeData.classList.add(\"map-overlay__police-data--show\");\n        this.overlay.isOpen = true;\n      }, 0);\n    }\n\n\n    if (err || res.hasOwnProperty(\"status\")) {\n\n      if(res.status == 503){\n        alert(\"More than 10,000 crimes in this area, please select a smaller area.\");\n      }\n      else{\n        alert(\"An Unknown Error Occoured\");\n      }\n\n    } else {\n      let crimes = {};\n      let str = \"\";\n      let requestDiff;\n\n      this.policeData.requestEnd = Date.now();\n\n      res.forEach(function(data) {\n        let category = data.category.replace(/-/g, \" \")\n          .split(\" \").map(function(text) {\n            return text.charAt(0).toUpperCase() + text.substr(1);\n          }).join(\" \");\n\n        if (!crimes.hasOwnProperty(category)) {\n          crimes[category] = [];\n        }\n        crimes[category].push(data);\n      });\n\n\n      for (let key in crimes) {\n        str += `<div class='map-overlay__police-data__section' data-category=\"${key}\">${crimes[key].length} x ${key}</div>`;\n      }\n      str += `<p class=\"map-overlay__police-data__total\">Total: ${res.length}</p>`\n\n      requestDiff = this.policeData.requestEnd - this.policeData.requestStart;\n      this.policeData.crimes = crimes;\n\n\n      if(this.overlay.isClosing === false){\n        changeData.call(this, [str]);\n      }\n      else{\n        this.once(\"OVERLAY-CLOSED\", function() {\n          changeData.call(this, [str]);\n        });\n      }\n\n    }\n  }\n\n   createPoly(north, east, south, west) {\n    const poly = `${north},${east}:${south},${east}:${south},${west}:${north},${west}`;\n    return poly;\n  }\n\n  submitClick() {\n    if (this.el.$place.value.trim() === \"\") {\n      alert(\"Please select a valid place\");\n    } else {\n      const formattedDate = this.el.$year.value + \"-\" + this.el.$month.value;\n      this.el.$submit.classList.add(\"map-overlay__button--loading\");\n      this.map.updateMap(this.mapData.place);\n      this.loading = true;\n      this.policeData.requestStart = Date.now();\n\n      if(this.overlay.isOpen){\n        this.closeOverlay();\n      }\n\n\n      getData({\n        poly:this.mapData.poly,\n        date:formattedDate,\n        callback:this.policeDataFn.bind(this)\n      });\n\n    }\n  }\n\n  closeOverlay(){\n    this.map.removeMarkers(\"all\");\n    this.overlay.isClosing = true;\n    this.el.$policeData.classList.add(\"map-overlay__police-data--closing\");\n    this.el.$policeData.style.transitionDelay = \"0.1s\";\n    setTimeout(()=> {\n      this.el.$policeData.classList.remove(\"map-overlay__police-data--show\");\n    },0);\n\n    setTimeout(()=> {\n        this.el.$policeData.style.transitionDelay = null;\n        this.el.$policeData.classList.remove(\"map-overlay__police-data--closing\");\n\n        setTimeout(()=>{\n          this.overlay.isOpen = false;\n          this.overlay.isClosing = false;\n          this.emit(\"OVERLAY-CLOSED\");\n\n        },400);\n\n    },100);\n\n  }\n\n  dataClick(target){\n    let key = target.getAttribute(\"data-category\");\n    if (target.classList.contains(\"map-overlay__police-data__section--active\")) { // remove markers\n      target.classList.remove(\"map-overlay__police-data__section--active\");\n      this.map.removeMarkers(key);\n    } else { // add markers\n      let crimes = this.policeData.crimes[key].map(function(obj) {\n        return {\n          lat: parseFloat(obj.location.latitude),\n          lng: parseFloat(obj.location.longitude)\n        };\n      });\n      target.classList.add(\"map-overlay__police-data__section--active\");\n      this.map.addMarkers({\n        key,\n        data: crimes\n      });\n    }\n  }\n\n  yearChange() {\n    const year = this.el.$year.value;\n    const month = this.el.$month.value\n    this.setMonths(year, month);\n  }\n\n  // one main eventHandler function\n  eventHandler(root, e) {\n\n    let {\n      target\n    } = e;\n    const oTarget = target;\n    const fns = this.eventFns[e.type];\n    const _ = this;\n\n    if (Array.isArray(fns)) {\n      fns.forEach(function(obj) {\n        let found = false;\n        target = oTarget;\n\n        while (!found && target !== root) {\n\n          if(typeof obj.el === \"string\"){\n\n            if(target.classList.contains(obj.el)){\n              found = true;\n            }\n            else{\n              target = target.parentElement;\n            }\n          }\n          else{\n            if (target === obj.el) {\n              found = true;\n            } else {\n              target = target.parentElement;\n            }\n          }\n\n        }\n\n\n        if (found) {\n          obj.fn.call(_, target);\n        }\n      });\n    }\n\n\n  }\n\n  toggleClick(e){\n    this.el.$toggle.classList.toggle(\"map-overlay-toggle--open\");\n    this.el.$overlay.classList.toggle(\"map-overlay--show\");\n  }\n\n  init() {\n    this.el.$overlay = document.getElementsByClassName(\"map-overlay\")[0];\n    this.el.$submit = this.el.$overlay.getElementsByClassName(\"map-overlay__button\")[0];\n    this.el.$place = this.el.$overlay.getElementsByClassName(\"map-overlay__input\")[0];\n    this.el.$year = this.el.$overlay.getElementsByClassName(\"map-overlay__year-select\")[0];\n    this.el.$month = this.el.$overlay.getElementsByClassName(\"map-overlay__month-select\")[0];\n    this.el.$policeData = this.el.$overlay.getElementsByClassName(\"map-overlay__police-data\")[0];\n    this.el.$toggle = document.getElementsByClassName(\"map-overlay-toggle\")[0];\n\n    this.generateDates();\n\n    this.map\n      .on(\"gotPlace\", this.gotPlace.bind(this))\n      .on(\"error\", this.mapError.bind(this));\n\n\n    this.el.$toggle.addEventListener(\"click\", this.toggleClick.bind(this));\n\n    // trying something new with event handlers - don't hate\n    this.el.$overlay.addEventListener(\"click\", this.eventHandler.bind(this, this.el.$overlay));\n    this.el.$overlay.addEventListener(\"change\", this.eventHandler.bind(this, this.el.$overlay));\n\n    this.eventFns.change.push({\n      el: this.el.$year,\n      fn: this.yearChange\n    });\n\n    this.eventFns.click.push({\n      el: this.el.$submit,\n      fn: this.submitClick\n    });\n\n    this.eventFns.click.push({\n      el:\"map-overlay__police-data__section\",\n      fn:this.dataClick\n    })\n\n\n\n    this.el.$overlay.classList.add(\"map-overlay--show\");\n  }\n\n\n\n}\n","import 'whatwg-fetch';\n\nconst endpoint = \"https://data.police.uk/api/crimes-street/all-crime\";\nlet queries = {}; // used to cache responses\n\nexport function getData(obj) {\n  const {\n    date,\n    poly,\n    callback\n  } = obj;\n  const query = `?poly=${poly}&date=${date}`;\n\n  if (!queries.hasOwnProperty(query)) {\n    fetch(endpoint + query)\n      .then(function(res) {\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          return {\n            status: res.status,\n            statusText: res.statusText\n          }\n        }\n      })\n      .then(function(data) {\n        queries[query] = [null, data];\n        callback(null, data);\n      })\n      .catch(function(err) {\n        queries[query] = [err];\n        callback(err);\n      });\n  }\n  else{\n    callback.apply(null, queries[query]);\n  }\n}\n\nexport function lastUpdated(callback) {\n\n  fetch(\"https://data.police.uk/api/crime-last-updated\")\n    .then(function(res) {\n      return res.json();\n    })\n    .then(function(data) {\n      callback(null, data);\n    })\n    .catch(function(err) {\n      callback(err);\n    });\n\n}\n","const body = document.body;\nconst $alert = document.createElement(\"DIV\");\nconst $alertContainer = document.createElement(\"DIV\");\nconst $alertClose = document.createElement(\"BUTTON\");\nconst $alertContent = document.createElement(\"DIV\");\n\n$alertContainer.classList.add(\"alert__container\");\n$alertClose.classList.add(\"alert__close\");\n$alertClose.addEventListener(\"click\", close);\n$alertContent.classList.add(\"alert__content\");\n$alertClose.innerHTML = \"Close\";\n\n$alert.classList.add(\"alert\");\n$alert.appendChild($alertContainer);\n$alertContainer.appendChild($alertClose);\n$alertContainer.appendChild($alertContent);\n\nbody.appendChild($alert);\n\nfunction close() {\n  body.classList.remove(\"alert--open\");\n}\n\nfunction open() {\n  body.classList.add(\"alert--open\");\n}\n\nexport default function alert(msg){\n  $alertContent.innerHTML = msg;\n  setTimeout(function() {\n    open();\n  },0);\n}\n"],"sourceRoot":"/"}