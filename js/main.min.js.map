{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.js","node_modules/es6-promise/dist/es6-promise.js","node_modules/events/events.js","node_modules/function-bind/implementation.js","node_modules/function-bind/index.js","node_modules/object-keys/index.js","node_modules/object-keys/isArguments.js","node_modules/object.assign/hasSymbols.js","node_modules/object.assign/implementation.js","node_modules/object.assign/polyfill.js","node_modules/process/browser.js","node_modules/whatwg-fetch/fetch.js","src/js/main.js","src/js/map.js","src/js/overlay.js","src/js/police-api.js","src/js/popup.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","process","global","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","nextTick","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","node","document","createTextNode","observe","characterData","data","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","setTimeout","lib$es6$promise$asap$$len","callback","lib$es6$promise$asap$$queue","arg","undefined","lib$es6$promise$asap$$attemptVertx","vertx","runOnLoop","runOnContext","lib$es6$promise$then$$then","onFulfillment","onRejection","parent","this","state","_state","lib$es6$promise$$internal$$FULFILLED","lib$es6$promise$$internal$$REJECTED","child","constructor","lib$es6$promise$$internal$$noop","result","_result","arguments","lib$es6$promise$$internal$$invokeCallback","lib$es6$promise$$internal$$subscribe","lib$es6$promise$promise$resolve$$resolve","object","Constructor","promise","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$selfFulfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","then","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$then$$default","resolve","lib$es6$promise$promise$resolve$$default","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","subscribers","settled","detail","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","_id","lib$es6$promise$promise$$counter","lib$es6$promise$enumerator$$Enumerator","input","_instanceConstructor","Array","isArray","_input","_remaining","_enumerate","_validationError","lib$es6$promise$polyfill$$polyfill","local","self","Function","P","Promise","Object","prototype","toString","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","window","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$reject$$default","all","race","reject","_setScheduler","_setAsap","_asap","catch","_eachEntry","entry","c","_settledAt","_willSettleAt","enumerator","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","define","_process",2,"EventEmitter","_events","_maxListeners","isFunction","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","emit","type","er","handler","len","args","listeners","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter",3,"ERROR_MESSAGE","toStr","funcType","that","target","bound","binder","concat","boundLength","Math","max","boundArgs","join","Empty",4,"implementation","bind","./implementation",5,"has","hasOwnProperty","isArgs","hasDontEnumBug","propertyIsEnumerable","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","blacklistedKeys","$console","$frame","$frameElement","$frames","$parent","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","equalsConstructorPrototypeIfNotBuggy","keysShim","isArguments","isString","theKeys","skipProto","String","j","name","skipConstructor","shim","keys","keysWorksWithArguments","originalKeys","./isArguments",6,"str","callee",7,"Symbol","getOwnPropertySymbols","iterator","obj","sym","symVal","getOwnPropertyNames","syms","getOwnPropertyDescriptor","descriptor","enumerable","object-keys",8,"canBeObject","hasSymbols","toObject","propIsEnumerable","source1","source","props","objTarget","./hasSymbols","function-bind",9,"lacksProperEnumerationOrder","assign","letters","split","map","actual","assignHasPendingExceptions","preventExtensions","thrower",10,"cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","clearTimeout","Item","fun","array","noop","title","browser","env","argv","version","versions","off","binding","cwd","chdir","dir","umask",11,"normalizeName","test","toLowerCase","normalizeValue","Headers","headers","forEach","append","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","get","set","rejected","text","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","indexOf","Request","options","url","credentials","mode","referrer","form","trim","bytes","shift","replace","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","Response","bodyInit","status","ok","statusText","fetch","values","getAll","thisArg","clone","response","redirectStatuses","redirect","RangeError","location","init","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","open","withCredentials","responseType","setRequestHeader","send",12,"_interopRequireDefault","__esModule","default","_map","_map2","_overlay","_overlay2","$map","getElementsByClassName","$input","getElementById","mapDefaults","center","lat","lng","zoom","el","defaults","countryCode","overlay","App","./map.js","./overlay.js","es6-promise",13,"_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","writable","configurable","setPrototypeOf","__proto__","defineProperty","_typeof","_createClass","defineProperties","protoProps","staticProps","_polyfill","_polyfill2","_popup","_popup2","Map","_EventEmitter","_this","getPrototypeOf","date","Date","now","settings","markers","previousSettings","bounds","north","east","south","west","zoomLevelData","tileSize","initialLatToPx","initialLngToPx","fakeTileSize","latToPx","lngToPx","google","initMap","script","createElement","debug","src","defer","async","appendChild","streetViewControl","maps","geocoder","Geocoder","autocomplete","places","Autocomplete","types","componentRestrictions","country","placeChanged","place","getPlace","msg","getMaxZoom","diff","maxValue","loop","maxZoom","width","lngDiff","latDiff","maxLngZoom","innerWidth","maxLatZoom","innerHeight","min","geometry","viewport","toJSON","setOptions","getCenter","getZoom","rectangle","setBounds","Rectangle","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","marker","Marker","clearMarkers","arr","setMap","_key","./popup.js","events","object.assign/polyfill",14,"_policeApi","Overlay","mapData","poly","$place","$overlay","$submit","$year","$month","$policeData","eventFns","click","change","possibleDates","loading","maxDate","policeData","requestEnd","requestStart","crimes","isOpen","isClosing","lastUpdated","err","getTime","currentDate","year","month","$options","endDate","_year","getFullYear","_month","getMonth","setMonth","innerHTML","getElementsByTagName","setMonths","monthToSelect","months","createPoly","R","log","res","changeData","_this2","classList","add","_this3","requestDiff","category","charAt","substr","formattedDate","updateMap","closeOverlay","getData","policeDataFn","_this4","removeMarkers","style","transitionDelay","remove","getAttribute","contains","parseFloat","latitude","longitude","addMarkers","root","oTarget","fns","_","found","parentElement","fn","$toggle","toggle","generateDates","gotPlace","mapError","addEventListener","toggleClick","eventHandler","yearChange","submitClick","dataClick","./police-api.js",15,"query","queries","endpoint","whatwg-fetch",16,"close","alert","$alertContent","$alert","$alertContainer","$alertClose"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,EAAAU,EAAAJ,ICCA,SAAWK,EAAQC,ICOnB,WACA,YACA,SAAAC,GAAAC,GACA,MAAA,kBAAAA,IAAA,gBAAAA,IAAA,OAAAA,EAGA,QAAAC,GAAAD,GACA,MAAA,kBAAAA,GAqCA,QAAAE,GAAAC,GACAC,EAAAD,EAGA,QAAAE,GAAAC,GACAC,EAAAD,EAcA,QAAAE,KAGA,MAAA,YACAX,EAAAY,SAAAC,IAKA,QAAAC,KACA,MAAA,YACAC,EAAAF,IAIA,QAAAG,KACA,GAAAC,GAAA,EACAC,EAAA,GAAAC,GAAAN,GACAO,EAAAC,SAAAC,eAAA,GAGA,OAFAJ,GAAAK,QAAAH,GAAAI,eAAA,IAEA,WACAJ,EAAAK,KAAAR,IAAAA,EAAA,GAKA,QAAAS,KACA,GAAAC,GAAA,GAAAC,eAEA,OADAD,GAAAE,MAAAC,UAAAjB,EACA,WACAc,EAAAI,MAAAC,YAAA,IAIA,QAAAC,KACA,MAAA,YACAC,WAAArB,EAAA,IAKA,QAAAA,KACA,IAAA,GAAAvB,GAAA,EAAA6C,EAAA7C,EAAAA,GAAA,EAAA,CACA,GAAA8C,GAAAC,GAAA/C,GACAgD,EAAAD,GAAA/C,EAAA,EAEA8C,GAAAE,GAEAD,GAAA/C,GAAAiD,OACAF,GAAA/C,EAAA,GAAAiD,OAGAJ,EAAA,EAGA,QAAAK,KACA,IACA,GAAAxD,GAAAK,EACAoD,EAAAzD,EAAA,QAEA,OADA+B,GAAA0B,EAAAC,WAAAD,EAAAE,aACA7B,IACA,MAAAjC,GACA,MAAAoD,MAiBA,QAAAW,GAAAC,EAAAC,GACA,GAAAC,GAAAC,KACAC,EAAAF,EAAAG,MAEA,IAAAD,IAAAE,KAAAN,GAAAI,IAAAG,KAAAN,EACA,MAAAE,KAGA,IAAAK,GAAA,GAAAL,MAAAM,YAAAC,GACAC,EAAAT,EAAAU,OAEA,IAAAR,EAAA,CACA,GAAAb,GAAAsB,UAAAT,EAAA,EACAvC,GAAA,WACAiD,EAAAV,EAAAI,EAAAjB,EAAAoB,SAGAI,GAAAb,EAAAM,EAAAR,EAAAC,EAGA,OAAAO,GAGA,QAAAQ,GAAAC,GAEA,GAAAC,GAAAf,IAEA,IAAAc,GAAA,gBAAAA,IAAAA,EAAAR,cAAAS,EACA,MAAAD,EAGA,IAAAE,GAAA,GAAAD,GAAAR,EAEA,OADAU,GAAAD,EAAAF,GACAE,EAIA,QAAAT,MAQA,QAAAW,KACA,MAAA,IAAAC,WAAA,4CAGA,QAAAC,KACA,MAAA,IAAAD,WAAA,wDAGA,QAAAE,GAAAL,GACA,IACA,MAAAA,GAAAM,KACA,MAAAC,GAEA,MADAC,IAAAD,MAAAA,EACAC,IAIA,QAAAC,GAAAH,EAAAI,EAAAC,EAAAC,GACA,IACAN,EAAA1E,KAAA8E,EAAAC,EAAAC,GACA,MAAA/F,GACA,MAAAA,IAIA,QAAAgG,GAAAb,EAAAc,EAAAR,GACA5D,EAAA,SAAAsD,GACA,GAAAe,IAAA,EACAR,EAAAE,EAAAH,EAAAQ,EAAA,SAAAJ,GACAK,IACAA,GAAA,EACAD,IAAAJ,EACAT,EAAAD,EAAAU,GAEAM,EAAAhB,EAAAU,KAEA,SAAAO,GACAF,IACAA,GAAA,EAEAG,EAAAlB,EAAAiB,KACA,YAAAjB,EAAAmB,QAAA,sBAEAJ,GAAAR,IACAQ,GAAA,EACAG,EAAAlB,EAAAO,KAEAP,GAGA,QAAAoB,GAAApB,EAAAc,GACAA,EAAA5B,SAAAC,GACA6B,EAAAhB,EAAAc,EAAArB,SACAqB,EAAA5B,SAAAE,GACA8B,EAAAlB,EAAAc,EAAArB,SAEAG,EAAAkB,EAAAvC,OAAA,SAAAmC,GACAT,EAAAD,EAAAU,IACA,SAAAO,GACAC,EAAAlB,EAAAiB,KAKA,QAAAI,GAAArB,EAAAsB,EAAAhB,GACAgB,EAAAhC,cAAAU,EAAAV,aACAgB,IAAAiB,IACAjC,YAAAkC,UAAAC,GACAL,EAAApB,EAAAsB,GAEAhB,IAAAE,GACAU,EAAAlB,EAAAQ,GAAAD,OACAhC,SAAA+B,EACAU,EAAAhB,EAAAsB,GACAlF,EAAAkE,GACAO,EAAAb,EAAAsB,EAAAhB,GAEAU,EAAAhB,EAAAsB,GAKA,QAAArB,GAAAD,EAAAU,GACAV,IAAAU,EACAQ,EAAAlB,EAAAE,KACAhE,EAAAwE,GACAW,EAAArB,EAAAU,EAAAL,EAAAK,IAEAM,EAAAhB,EAAAU,GAIA,QAAAgB,GAAA1B,GACAA,EAAA2B,UACA3B,EAAA2B,SAAA3B,EAAAP,SAGAmC,EAAA5B,GAGA,QAAAgB,GAAAhB,EAAAU,GACAV,EAAAd,SAAA2C,KAEA7B,EAAAP,QAAAiB,EACAV,EAAAd,OAAAC,GAEA,IAAAa,EAAA8B,aAAAjG,QACAa,EAAAkF,EAAA5B,IAIA,QAAAkB,GAAAlB,EAAAiB,GACAjB,EAAAd,SAAA2C,KACA7B,EAAAd,OAAAE,GACAY,EAAAP,QAAAwB,EAEAvE,EAAAgF,EAAA1B,IAGA,QAAAJ,GAAAb,EAAAM,EAAAR,EAAAC,GACA,GAAAiD,GAAAhD,EAAA+C,aACAjG,EAAAkG,EAAAlG,MAEAkD,GAAA4C,SAAA,KAEAI,EAAAlG,GAAAwD,EACA0C,EAAAlG,EAAAsD,IAAAN,EACAkD,EAAAlG,EAAAuD,IAAAN,EAEA,IAAAjD,GAAAkD,EAAAG,QACAxC,EAAAkF,EAAA7C,GAIA,QAAA6C,GAAA5B,GACA,GAAA+B,GAAA/B,EAAA8B,aACAE,EAAAhC,EAAAd,MAEA,IAAA,IAAA6C,EAAAlG,OAAA,CAIA,IAAA,GAFAwD,GAAAjB,EAAA6D,EAAAjC,EAAAP,QAEAnE,EAAA,EAAAA,EAAAyG,EAAAlG,OAAAP,GAAA,EACA+D,EAAA0C,EAAAzG,GACA8C,EAAA2D,EAAAzG,EAAA0G,GAEA3C,EACAM,EAAAqC,EAAA3C,EAAAjB,EAAA6D,GAEA7D,EAAA6D,EAIAjC,GAAA8B,aAAAjG,OAAA,GAGA,QAAAqG,KACAlD,KAAAuB,MAAA,KAKA,QAAA4B,GAAA/D,EAAA6D,GACA,IACA,MAAA7D,GAAA6D,GACA,MAAApH,GAEA,MADAuH,IAAA7B,MAAA1F,EACAuH,IAIA,QAAAzC,GAAAqC,EAAAhC,EAAA5B,EAAA6D,GACA,GACAvB,GAAAH,EAAA8B,EAAAC,EADAC,EAAAnG,EAAAgC,EAGA,IAAAmE,GAWA,GAVA7B,EAAAyB,EAAA/D,EAAA6D,GAEAvB,IAAA0B,IACAE,GAAA,EACA/B,EAAAG,EAAAH,MACAG,EAAA,MAEA2B,GAAA,EAGArC,IAAAU,EAEA,WADAQ,GAAAlB,EAAAI,SAKAM,GAAAuB,EACAI,GAAA,CAGArC,GAAAd,SAAA2C,KAEAU,GAAAF,EACApC,EAAAD,EAAAU,GACA4B,EACApB,EAAAlB,EAAAO,GACAyB,IAAA7C,GACA6B,EAAAhB,EAAAU,GACAsB,IAAA5C,IACA8B,EAAAlB,EAAAU,IAIA,QAAA8B,GAAAxC,EAAAyC,GACA,IACAA,EAAA,SAAA/B,GACAT,EAAAD,EAAAU,IACA,SAAAO,GACAC,EAAAlB,EAAAiB,KAEA,MAAApG,GACAqG,EAAAlB,EAAAnF,IAIA,QAAA6H,GAAAC,GACA,MAAA,IAAAC,IAAA5D,KAAA2D,GAAA3C,QAGA,QAAA6C,GAAAF,GAaA,QAAA9D,GAAA6B,GACAT,EAAAD,EAAAU,GAGA,QAAA5B,GAAAmC,GACAC,EAAAlB,EAAAiB,GAhBA,GAAAlB,GAAAf,KAEAgB,EAAA,GAAAD,GAAAR,EAEA,KAAAuD,EAAAH,GAEA,MADAzB,GAAAlB,EAAA,GAAAG,WAAA,oCACAH,CAaA,KAAA,GAVAnE,GAAA8G,EAAA9G,OAUAP,EAAA,EAAA0E,EAAAd,SAAA2C,IAAAhG,EAAAP,EAAAA,IACAsE,EAAAG,EAAAyB,QAAAmB,EAAArH,IAAAiD,OAAAM,EAAAC,EAGA,OAAAkB,GAGA,QAAA+C,GAAA9B,GAEA,GAAAlB,GAAAf,KACAgB,EAAA,GAAAD,GAAAR,EAEA,OADA2B,GAAAlB,EAAAiB,GACAjB,EAMA,QAAAgD,KACA,KAAA,IAAA7C,WAAA,sFAGA,QAAA8C,KACA,KAAA,IAAA9C,WAAA,yHA2GA,QAAA+C,GAAAT,GACAzD,KAAAmE,IAAAC,KACApE,KAAAE,OAAAX,OACAS,KAAAS,QAAAlB,OACAS,KAAA8C,gBAEAvC,IAAAkD,IACA,kBAAAA,IAAAO,IACAhE,eAAAkE,GAAAV,EAAAxD,KAAAyD,GAAAQ,KAkPA,QAAAI,GAAAtD,EAAAuD,GACAtE,KAAAuE,qBAAAxD,EACAf,KAAAgB,QAAA,GAAAD,GAAAR,GAEAiE,MAAAC,QAAAH,IACAtE,KAAA0E,OAAAJ,EACAtE,KAAAnD,OAAAyH,EAAAzH,OACAmD,KAAA2E,WAAAL,EAAAzH,OAEAmD,KAAAS,QAAA,GAAA+D,OAAAxE,KAAAnD,QAEA,IAAAmD,KAAAnD,OACAmF,EAAAhC,KAAAgB,QAAAhB,KAAAS,UAEAT,KAAAnD,OAAAmD,KAAAnD,QAAA,EACAmD,KAAA4E,aACA,IAAA5E,KAAA2E,YACA3C,EAAAhC,KAAAgB,QAAAhB,KAAAS,WAIAyB,EAAAlC,KAAAgB,QAAAhB,KAAA6E,oBAqEA,QAAAC,KACA,GAAAC,EAEA,IAAA,mBAAA9H,GACA8H,EAAA9H,MACA,IAAA,mBAAA+H,MACAD,EAAAC,SAEA,KACAD,EAAAE,SAAA,iBACA,MAAApJ,GACA,KAAA,IAAAW,OAAA,4EAIA,GAAA0I,GAAAH,EAAAI,OAEAD,IAAA,qBAAAE,OAAAC,UAAAC,SAAA1I,KAAAsI,EAAA1C,aAAA0C,EAAAK,OAIAR,EAAAI,QAAAK,IA/4BA,GAAAC,EAMAA,GALAjB,MAAAC,QAKAD,MAAAC,QAJA,SAAAtH,GACA,MAAA,mBAAAiI,OAAAC,UAAAC,SAAA1I,KAAAO,GAMA,IAEAY,GACAR,EAwGAmI,EA3GA5B,EAAA2B,EACAtG,EAAA,EAIAzB,EAAA,SAAA0B,EAAAE,GACAD,GAAAF,GAAAC,EACAC,GAAAF,EAAA,GAAAG,EACAH,GAAA,EACA,IAAAA,IAIA5B,EACAA,EAAAM,GAEA6H,MAaAC,EAAA,mBAAAC,QAAAA,OAAArG,OACAsG,EAAAF,MACAxH,EAAA0H,EAAAC,kBAAAD,EAAAE,uBACAC,EAAA,mBAAAhJ,IAAA,wBAAAsI,SAAA1I,KAAAI,GAGAiJ,GAAA,mBAAAC,oBACA,mBAAAC,gBACA,mBAAAvH,gBA4CAS,GAAA,GAAAmF,OAAA,IA6BAkB,GADAM,EACArI,IACAQ,EACAH,IACAiI,GACAvH,IACAa,SAAAoG,GAAA,kBAAAtJ,GACAmD,IAEAP,GAwBA,IAAAsD,IAAA3C,EAaA6C,GAAA5B,EAIAgC,GAAA,OACA1C,GAAA,EACAC,GAAA,EAEAoB,GAAA,GAAA0B,GAkKAE,GAAA,GAAAF,GAgEAkD,GAAA1C,EA4BA2C,GAAAxC,EAQAyC,GAAAvC,EAEAK,GAAA,EAUAoB,GAAAtB,CAoHAA,GAAAqC,IAAAH,GACAlC,EAAAsC,KAAAH,GACAnC,EAAA1B,QAAAC,GACAyB,EAAAuC,OAAAH,GACApC,EAAAwC,cAAArJ,EACA6G,EAAAyC,SAAAnJ,EACA0G,EAAA0C,MAAAlJ,EAEAwG,EAAAmB,WACA/E,YAAA4D,EAmMA5C,KAAAiB,GA6BAsE,QAAA,SAAA/G,GACA,MAAAE,MAAAsB,KAAA,KAAAxB,IAGA,IAAA8D,IAAAS,CA0BAA,GAAAgB,UAAAR,iBAAA,WACA,MAAA,IAAArI,OAAA,4CAGA6H,EAAAgB,UAAAT,WAAA,WAIA,IAAA,GAHA/H,GAAAmD,KAAAnD,OACAyH,EAAAtE,KAAA0E,OAEApI,EAAA,EAAA0D,KAAAE,SAAA2C,IAAAhG,EAAAP,EAAAA,IACA0D,KAAA8G,WAAAxC,EAAAhI,GAAAA,IAIA+H,EAAAgB,UAAAyB,WAAA,SAAAC,EAAAzK,GACA,GAAA0K,GAAAhH,KAAAuE,qBACA/B,EAAAwE,EAAAxE,OAEA,IAAAA,IAAAC,GAAA,CACA,GAAAnB,GAAAD,EAAA0F,EAEA,IAAAzF,IAAAiB,IACAwE,EAAA7G,SAAA2C,GACA7C,KAAAiH,WAAAF,EAAA7G,OAAA5D,EAAAyK,EAAAtG,aACA,IAAA,kBAAAa,GACAtB,KAAA2E,aACA3E,KAAAS,QAAAnE,GAAAyK,MACA,IAAAC,IAAAxB,GAAA,CACA,GAAAxE,GAAA,GAAAgG,GAAAzG,EACA8B,GAAArB,EAAA+F,EAAAzF,GACAtB,KAAAkH,cAAAlG,EAAA1E,OAEA0D,MAAAkH,cAAA,GAAAF,GAAA,SAAAxE,GAAAA,EAAAuE,KAAAzK,OAGA0D,MAAAkH,cAAA1E,EAAAuE,GAAAzK,IAIA+H,EAAAgB,UAAA4B,WAAA,SAAAhH,EAAA3D,EAAAoF,GACA,GAAAV,GAAAhB,KAAAgB,OAEAA,GAAAd,SAAA2C,KACA7C,KAAA2E,aAEA1E,IAAAG,GACA8B,EAAAlB,EAAAU,GAEA1B,KAAAS,QAAAnE,GAAAoF,GAIA,IAAA1B,KAAA2E,YACA3C,EAAAhB,EAAAhB,KAAAS,UAIA4D,EAAAgB,UAAA6B,cAAA,SAAAlG,EAAA1E,GACA,GAAA6K,GAAAnH,IAEAY,GAAAI,EAAAzB,OAAA,SAAAmC,GACAyF,EAAAF,WAAA9G,GAAA7D,EAAAoF,IACA,SAAAO,GACAkF,EAAAF,WAAA7G,GAAA9D,EAAA2F,KA0BA,IAAAmF,IAAAtC,EAEAuC,IACAlC,QAAAK,GACA8B,SAAAF,GAIA,mBAAAG,SAAAA,OAAA,IACAA,OAAA,WAAA,MAAAF,MACA,mBAAAtK,IAAAA,EAAA,QACAA,EAAA,QAAAsK,GACA,mBAAArH,QACAA,KAAA,WAAAqH,IAGAD,OACAxK,KAAAoD,QDKGpD,KAAKoD,KAAK3D,EAAQ,YAA8B,mBAAXY,QAAyBA,OAAyB,mBAAT+H,MAAuBA,KAAyB,mBAAXY,QAAyBA,aAE5I4B,SAAW,KAAKC,GAAG,SAASpL,EAAQU,EAAOJ,GE16B9C,QAAA+K,KACA1H,KAAA2H,QAAA3H,KAAA2H,YACA3H,KAAA4H,cAAA5H,KAAA4H,eAAArI,OAoQA,QAAAsI,GAAAvI,GACA,MAAA,kBAAAA,GAGA,QAAAwI,GAAAxI,GACA,MAAA,gBAAAA,GAGA,QAAAyI,GAAAzI,GACA,MAAA,gBAAAA,IAAA,OAAAA,EAGA,QAAA0I,GAAA1I,GACA,MAAA,UAAAA,EA/QAvC,EAAAJ,QAAA+K,EAGAA,EAAAA,aAAAA,EAEAA,EAAArC,UAAAsC,QAAApI,OACAmI,EAAArC,UAAAuC,cAAArI,OAIAmI,EAAAO,oBAAA,GAIAP,EAAArC,UAAA6C,gBAAA,SAAAnM,GACA,IAAA+L,EAAA/L,IAAA,EAAAA,GAAAoM,MAAApM,GACA,KAAAoF,WAAA,8BAEA,OADAnB,MAAA4H,cAAA7L,EACAiE,MAGA0H,EAAArC,UAAA+C,KAAA,SAAAC,GACA,GAAAC,GAAAC,EAAAC,EAAAC,EAAAnM,EAAAoM,CAMA,IAJA1I,KAAA2H,UACA3H,KAAA2H,YAGA,UAAAU,KACArI,KAAA2H,QAAApG,OACAwG,EAAA/H,KAAA2H,QAAApG,SAAAvB,KAAA2H,QAAApG,MAAA1E,QAAA,CAEA,GADAyL,EAAA5H,UAAA,GACA4H,YAAA9L,OACA,KAAA8L,EAEA,MAAAnH,WAAA,wCAMA,GAFAoH,EAAAvI,KAAA2H,QAAAU,GAEAL,EAAAO,GACA,OAAA,CAEA,IAAAV,EAAAU,GACA,OAAA7H,UAAA7D,QAEA,IAAA,GACA0L,EAAA3L,KAAAoD,KACA,MACA,KAAA,GACAuI,EAAA3L,KAAAoD,KAAAU,UAAA,GACA,MACA,KAAA,GACA6H,EAAA3L,KAAAoD,KAAAU,UAAA,GAAAA,UAAA,GACA,MAEA,SACA+H,EAAAjE,MAAAa,UAAAsD,MAAA/L,KAAA8D,UAAA,GACA6H,EAAAK,MAAA5I,KAAAyI,OAEA,IAAAV,EAAAQ,GAIA,IAHAE,EAAAjE,MAAAa,UAAAsD,MAAA/L,KAAA8D,UAAA,GACAgI,EAAAH,EAAAI,QACAH,EAAAE,EAAA7L,OACAP,EAAA,EAAAkM,EAAAlM,EAAAA,IACAoM,EAAApM,GAAAsM,MAAA5I,KAAAyI,EAGA,QAAA,GAGAf,EAAArC,UAAAwD,YAAA,SAAAR,EAAAS,GACA,GAAAC,EAEA,KAAAlB,EAAAiB,GACA,KAAA3H,WAAA,8BA2CA,OAzCAnB,MAAA2H,UACA3H,KAAA2H,YAIA3H,KAAA2H,QAAAqB,aACAhJ,KAAAoI,KAAA,cAAAC,EACAR,EAAAiB,EAAAA,UACAA,EAAAA,SAAAA,GAEA9I,KAAA2H,QAAAU,GAGAN,EAAA/H,KAAA2H,QAAAU,IAEArI,KAAA2H,QAAAU,GAAAY,KAAAH,GAGA9I,KAAA2H,QAAAU,IAAArI,KAAA2H,QAAAU,GAAAS,GANA9I,KAAA2H,QAAAU,GAAAS,EASAf,EAAA/H,KAAA2H,QAAAU,MAAArI,KAAA2H,QAAAU,GAAAa,SAIAH,EAHAf,EAAAhI,KAAA4H,eAGAF,EAAAO,oBAFAjI,KAAA4H,cAKAmB,GAAAA,EAAA,GAAA/I,KAAA2H,QAAAU,GAAAxL,OAAAkM,IACA/I,KAAA2H,QAAAU,GAAAa,QAAA,EACAC,QAAA5H,MAAA,mIAGAvB,KAAA2H,QAAAU,GAAAxL,QACA,kBAAAsM,SAAAC,OAEAD,QAAAC,UAKApJ,MAGA0H,EAAArC,UAAAgE,GAAA3B,EAAArC,UAAAwD,YAEAnB,EAAArC,UAAAiE,KAAA,SAAAjB,EAAAS,GAMA,QAAAS,KACAvJ,KAAAwJ,eAAAnB,EAAAkB,GAEAE,IACAA,GAAA,EACAX,EAAAF,MAAA5I,KAAAU,YAVA,IAAAmH,EAAAiB,GACA,KAAA3H,WAAA,8BAEA,IAAAsI,IAAA,CAcA,OAHAF,GAAAT,SAAAA,EACA9I,KAAAqJ,GAAAhB,EAAAkB,GAEAvJ,MAIA0H,EAAArC,UAAAmE,eAAA,SAAAnB,EAAAS,GACA,GAAAY,GAAAC,EAAA9M,EAAAP,CAEA,KAAAuL,EAAAiB,GACA,KAAA3H,WAAA,8BAEA,KAAAnB,KAAA2H,UAAA3H,KAAA2H,QAAAU,GACA,MAAArI,KAMA,IAJA0J,EAAA1J,KAAA2H,QAAAU,GACAxL,EAAA6M,EAAA7M,OACA8M,EAAA,GAEAD,IAAAZ,GACAjB,EAAA6B,EAAAZ,WAAAY,EAAAZ,WAAAA,QACA9I,MAAA2H,QAAAU,GACArI,KAAA2H,QAAA6B,gBACAxJ,KAAAoI,KAAA,iBAAAC,EAAAS,OAEA,IAAAf,EAAA2B,GAAA,CACA,IAAApN,EAAAO,EAAAP,KAAA,GACA,GAAAoN,EAAApN,KAAAwM,GACAY,EAAApN,GAAAwM,UAAAY,EAAApN,GAAAwM,WAAAA,EAAA,CACAa,EAAArN,CACA,OAIA,GAAA,EAAAqN,EACA,MAAA3J,KAEA,KAAA0J,EAAA7M,QACA6M,EAAA7M,OAAA,QACAmD,MAAA2H,QAAAU,IAEAqB,EAAAE,OAAAD,EAAA,GAGA3J,KAAA2H,QAAA6B,gBACAxJ,KAAAoI,KAAA,iBAAAC,EAAAS,GAGA,MAAA9I,OAGA0H,EAAArC,UAAAwE,mBAAA,SAAAxB,GACA,GAAAyB,GAAApB,CAEA,KAAA1I,KAAA2H,QACA,MAAA3H,KAGA,KAAAA,KAAA2H,QAAA6B,eAKA,MAJA,KAAA9I,UAAA7D,OACAmD,KAAA2H,WACA3H,KAAA2H,QAAAU,UACArI,MAAA2H,QAAAU,GACArI,IAIA,IAAA,IAAAU,UAAA7D,OAAA,CACA,IAAAiN,IAAA9J,MAAA2H,QACA,mBAAAmC,GACA9J,KAAA6J,mBAAAC,EAIA,OAFA9J,MAAA6J,mBAAA,kBACA7J,KAAA2H,WACA3H,KAKA,GAFA0I,EAAA1I,KAAA2H,QAAAU,GAEAR,EAAAa,GACA1I,KAAAwJ,eAAAnB,EAAAK,OACA,IAAAA,EAEA,KAAAA,EAAA7L,QACAmD,KAAAwJ,eAAAnB,EAAAK,EAAAA,EAAA7L,OAAA,GAIA,cAFAmD,MAAA2H,QAAAU,GAEArI,MAGA0H,EAAArC,UAAAqD,UAAA,SAAAL,GACA,GAAA0B,EAOA,OAHAA,GAHA/J,KAAA2H,SAAA3H,KAAA2H,QAAAU,GAEAR,EAAA7H,KAAA2H,QAAAU,KACArI,KAAA2H,QAAAU,IAEArI,KAAA2H,QAAAU,GAAAM,YAIAjB,EAAArC,UAAA2E,cAAA,SAAA3B,GACA,GAAArI,KAAA2H,QAAA,CACA,GAAAsC,GAAAjK,KAAA2H,QAAAU,EAEA,IAAAR,EAAAoC,GACA,MAAA,EACA,IAAAA,EACA,MAAAA,GAAApN,OAEA,MAAA,IAGA6K,EAAAsC,cAAA,SAAAE,EAAA7B,GACA,MAAA6B,GAAAF,cAAA3B,SFm9BM8B,GAAG,SAAS9N,EAAQU,EAAOJ,GG3uCjC,GAAAyN,GAAA,kDACAzB,EAAAnE,MAAAa,UAAAsD,MACA0B,EAAAjF,OAAAC,UAAAC,SACAgF,EAAA,mBAEAvN,GAAAJ,QAAA,SAAA4N,GACA,GAAAC,GAAAxK,IACA,IAAA,kBAAAwK,IAAAH,EAAAzN,KAAA4N,KAAAF,EACA,KAAA,IAAAnJ,WAAAiJ,EAAAI,EAyBA,KAAA,GArBAC,GAFAhC,EAAAE,EAAA/L,KAAA8D,UAAA,GAGAgK,EAAA,WACA,GAAA1K,eAAAyK,GAAA,CACA,GAAAjK,GAAAgK,EAAA5B,MACA5I,KACAyI,EAAAkC,OAAAhC,EAAA/L,KAAA8D,YAEA,OAAA0E,QAAA5E,KAAAA,EACAA,EAEAR,KAEA,MAAAwK,GAAA5B,MACA2B,EACA9B,EAAAkC,OAAAhC,EAAA/L,KAAA8D,cAKAkK,EAAAC,KAAAC,IAAA,EAAAN,EAAA3N,OAAA4L,EAAA5L,QACAkO,KACAzO,EAAA,EAAAsO,EAAAtO,EAAAA,IACAyO,EAAA9B,KAAA,IAAA3M,EAKA,IAFAmO,EAAAxF,SAAA,SAAA,oBAAA8F,EAAAC,KAAA,KAAA,6CAAAN,GAEAF,EAAAnF,UAAA,CACA,GAAA4F,GAAA,YACAA,GAAA5F,UAAAmF,EAAAnF,UACAoF,EAAApF,UAAA,GAAA4F,GACAA,EAAA5F,UAAA,KAGA,MAAAoF,SH+uCMS,GAAG,SAAS7O,EAAQU,EAAOJ,GI7xCjC,GAAAwO,GAAA9O,EAAA,mBAEAU,GAAAJ,QAAAsI,SAAAI,UAAA+F,MAAAD,IJgyCGE,mBAAmB,IAAIC,GAAG,SAASjP,EAAQU,EAAOJ,GKlyCrD,YAGA,IAAA4O,GAAAnG,OAAAC,UAAAmG,eACAnB,EAAAjF,OAAAC,UAAAC,SACAqD,EAAAnE,MAAAa,UAAAsD,MACA8C,EAAApP,EAAA,iBACAqP,IAAApG,SAAA,MAAAqG,qBAAA,YACAC,EAAA,aAAAD,qBAAA,aACAE,GACA,WACA,iBACA,UACA,iBACA,gBACA,uBACA,eAEAC,EAAA,SAAA5P,GACA,GAAA6P,GAAA7P,EAAAoE,WACA,OAAAyL,IAAAA,EAAA1G,YAAAnJ,GAEA8P,GACAC,UAAA,EACAC,QAAA,EACAC,eAAA,EACAC,SAAA,EACAC,SAAA,EACAC,OAAA,EACAC,kBAAA,EACAC,oBAAA,EACAC,SAAA,GAEAC,EAAA,WAEA,GAAA,mBAAA9G,QAAA,OAAA,CACA,KAAA,GAAA+G,KAAA/G,QACA,IACA,IAAAoG,EAAA,IAAAW,IAAApB,EAAA3O,KAAAgJ,OAAA+G,IAAA,OAAA/G,OAAA+G,IAAA,gBAAA/G,QAAA+G,GACA,IACAb,EAAAlG,OAAA+G,IACA,MAAA9Q,GACA,OAAA,GAGA,MAAAA,GACA,OAAA,EAGA,OAAA,KAEA+Q,EAAA,SAAA1Q,GAEA,GAAA,mBAAA0J,UAAA8G,EACA,MAAAZ,GAAA5P,EAEA,KACA,MAAA4P,GAAA5P,GACA,MAAAL,GACA,OAAA,IAIAgR,EAAA,SAAA/L,GACA,GAAAiH,GAAA,OAAAjH,GAAA,gBAAAA,GACA+G,EAAA,sBAAAwC,EAAAzN,KAAAkE,GACAgM,EAAArB,EAAA3K,GACAiM,EAAAhF,GAAA,oBAAAsC,EAAAzN,KAAAkE,GACAkM,IAEA,KAAAjF,IAAAF,IAAAiF,EACA,KAAA,IAAA3L,WAAA,qCAGA,IAAA8L,GAAArB,GAAA/D,CACA,IAAAkF,GAAAjM,EAAAjE,OAAA,IAAA0O,EAAA3O,KAAAkE,EAAA,GACA,IAAA,GAAAxE,GAAA,EAAAA,EAAAwE,EAAAjE,SAAAP,EACA0Q,EAAA/D,KAAAiE,OAAA5Q,GAIA,IAAAwQ,GAAAhM,EAAAjE,OAAA,EACA,IAAA,GAAAsQ,GAAA,EAAAA,EAAArM,EAAAjE,SAAAsQ,EACAH,EAAA/D,KAAAiE,OAAAC,QAGA,KAAA,GAAAC,KAAAtM,GACAmM,GAAA,cAAAG,IAAA7B,EAAA3O,KAAAkE,EAAAsM,IACAJ,EAAA/D,KAAAiE,OAAAE,GAKA,IAAA1B,EAGA,IAAA,GAFA2B,GAAAT,EAAA9L,GAEA6L,EAAA,EAAAA,EAAAd,EAAAhP,SAAA8P,EACAU,GAAA,gBAAAxB,EAAAc,KAAApB,EAAA3O,KAAAkE,EAAA+K,EAAAc,KACAK,EAAA/D,KAAA4C,EAAAc,GAIA,OAAAK,GAGAH,GAAAS,KAAA,WACA,GAAAlI,OAAAmI,KAAA,CACA,GAAAC,GAAA,WAEA,MAAA,MAAApI,OAAAmI,KAAA7M,YAAA,IAAA7D,QACA,EAAA,EACA,KAAA2Q,EAAA,CACA,GAAAC,GAAArI,OAAAmI,IACAnI,QAAAmI,KAAA,SAAAzM,GACA,MACA2M,GADAhC,EAAA3K,GACA6H,EAAA/L,KAAAkE,GAEAA,SAKAsE,QAAAmI,KAAAV,CAEA,OAAAzH,QAAAmI,MAAAV,GAGA9P,EAAAJ,QAAAkQ,ILqyCGa,gBAAgB,IAAIC,GAAG,SAAStR,EAAQU,EAAOJ,GMp6ClD,YAEA,IAAA0N,GAAAjF,OAAAC,UAAAC,QAEAvI,GAAAJ,QAAA,SAAA+E,GACA,GAAAkM,GAAAvD,EAAAzN,KAAA8E,GACA+J,EAAA,uBAAAmC,CASA,OARAnC,KACAA,EAAA,mBAAAmC,GACA,OAAAlM,GACA,gBAAAA,IACA,gBAAAA,GAAA7E,QACA6E,EAAA7E,QAAA,GACA,sBAAAwN,EAAAzN,KAAA8E,EAAAmM,SAEApC,QNw6CMqC,GAAG,SAASzR,EAAQU,EAAOJ,GOv7CjC,YAEA,IAAA4Q,GAAAlR,EAAA,cAEAU,GAAAJ,QAAA,WACA,GAAA,kBAAAoR,SAAA,kBAAA3I,QAAA4I,sBAAA,OAAA,CACA,IAAA,gBAAAD,QAAAE,SAAA,OAAA,CAEA,IAAAC,MACAC,EAAAJ,OAAA,OACA,IAAA,gBAAAI,GAAA,OAAA,CAOA,IAAAC,GAAA,EACAF,GAAAC,GAAAC,CACA,KAAAD,IAAAD,GAAA,OAAA,CACA,IAAA,IAAAX,EAAAW,GAAArR,OAAA,OAAA,CACA,IAAA,kBAAAuI,QAAAmI,MAAA,IAAAnI,OAAAmI,KAAAW,GAAArR,OAAA,OAAA,CAEA,IAAA,kBAAAuI,QAAAiJ,qBAAA,IAAAjJ,OAAAiJ,oBAAAH,GAAArR,OAAA,OAAA,CAEA,IAAAyR,GAAAlJ,OAAA4I,sBAAAE,EACA,IAAA,IAAAI,EAAAzR,QAAAyR,EAAA,KAAAH,EAAA,OAAA,CAEA,KAAA/I,OAAAC,UAAAsG,qBAAA/O,KAAAsR,EAAAC,GAAA,OAAA,CAEA,IAAA,kBAAA/I,QAAAmJ,yBAAA,CACA,GAAAC,GAAApJ,OAAAmJ,yBAAAL,EAAAC,EACA,IAAAK,EAAA9M,QAAA0M,GAAAI,EAAAC,cAAA,EAAA,OAAA,EAGA,OAAA,KP27CGC,cAAc,IAAIC,GAAG,SAAStS,EAAQU,EAAOJ,GQ99ChD,YAGA,IAAA4Q,GAAAlR,EAAA,eACA+O,EAAA/O,EAAA,iBACAuS,EAAA,SAAAV,GACA,MAAA,mBAAAA,IAAA,OAAAA,GAEAW,EAAAxS,EAAA,kBACAyS,EAAA1J,OACA6D,EAAAmC,EAAAxO,KAAAqI,SAAArI,KAAA4H,MAAAa,UAAA4D,MACA8F,EAAA3D,EAAAxO,KAAAqI,SAAArI,KAAAwI,OAAAC,UAAAsG,qBAEA5O,GAAAJ,QAAA,SAAA6N,EAAAwE,GACA,IAAAJ,EAAApE,GAAA,KAAA,IAAArJ,WAAA,2BACA,IACAlF,GAAAgT,EAAA3S,EAAA4S,EAAAZ,EAAA5M,EAAAoI,EADAqF,EAAAL,EAAAtE,EAEA,KAAAvO,EAAA,EAAAA,EAAAyE,UAAA7D,SAAAZ,EAAA,CAGA,GAFAgT,EAAAH,EAAApO,UAAAzE,IACAiT,EAAA3B,EAAA0B,GACAJ,GAAAzJ,OAAA4I,sBAEA,IADAM,EAAAlJ,OAAA4I,sBAAAiB,GACA3S,EAAA,EAAAA,EAAAgS,EAAAzR,SAAAP,EACAwN,EAAAwE,EAAAhS,GACAyS,EAAAE,EAAAnF,IACAb,EAAAiG,EAAApF,EAIA,KAAAxN,EAAA,EAAAA,EAAA4S,EAAArS,SAAAP,EACAwN,EAAAoF,EAAA5S,GACAoF,EAAAuN,EAAAnF,GACAiF,EAAAE,EAAAnF,KACAqF,EAAArF,GAAApI,GAIA,MAAAyN,MRk+CGC,eAAe,EAAEC,gBAAgB,EAAEX,cAAc,IAAIY,GAAG,SAASjT,EAAQU,EAAOJ,GSvgDnF,YAEA,IAAAwO,GAAA9O,EAAA,oBAEAkT,EAAA,WACA,IAAAnK,OAAAoK,OACA,OAAA,CAOA,KAAA,GAHA5B,GAAA,uBACA6B,EAAA7B,EAAA8B,MAAA,IACAC,KACArT,EAAA,EAAAA,EAAAmT,EAAA5S,SAAAP,EACAqT,EAAAF,EAAAnT,IAAAmT,EAAAnT,EAEA,IAAA4R,GAAA9I,OAAAoK,UAAAG,GACAC,EAAA,EACA,KAAA,GAAAjD,KAAAuB,GACA0B,GAAAjD,CAEA,OAAAiB,KAAAgC,GAGAC,EAAA,WACA,IAAAzK,OAAAoK,SAAApK,OAAA0K,kBACA,OAAA,CAIA,IAAAC,GAAA3K,OAAA0K,mBAAAhT,EAAA,GACA,KACAsI,OAAAoK,OAAAO,EAAA,MACA,MAAAlU,GACA,MAAA,MAAAkU,EAAA,IAIAhT,GAAAJ,QAAA,WACA,MAAAyI,QAAAoK,OAGAD,IACApE,EAEA0E,IACA1E,EAEA/F,OAAAoK,OARArE,KTmhDGE,mBAAmB,IAAI2E,IAAI,SAAS3T,EAAQU,EAAOJ,GUnjDtD,QAAAsT,KACAC,GAAA,EACAC,EAAAtT,OACAuT,EAAAD,EAAAxF,OAAAyF,GAEAC,EAAA,GAEAD,EAAAvT,QACAyT,IAIA,QAAAA,KACA,IAAAJ,EAAA,CAGA,GAAAK,GAAArR,WAAA+Q,EACAC,IAAA,CAGA,KADA,GAAA1H,GAAA4H,EAAAvT,OACA2L,GAAA,CAGA,IAFA2H,EAAAC,EACAA,OACAC,EAAA7H,GACA2H,GACAA,EAAAE,GAAAG,KAGAH,GAAA,GACA7H,EAAA4H,EAAAvT,OAEAsT,EAAA,KACAD,GAAA,EACAO,aAAAF,IAiBA,QAAAG,GAAAC,EAAAC,GACA5Q,KAAA2Q,IAAAA,EACA3Q,KAAA4Q,MAAAA,EAYA,QAAAC,MAtEA,GAGAV,GAHAnT,EAAAD,EAAAJ,WACAyT,KACAF,GAAA,EAEAG,EAAA,EAsCArT,GAAAY,SAAA,SAAA+S,GACA,GAAAlI,GAAA,GAAAjE,OAAA9D,UAAA7D,OAAA,EACA,IAAA6D,UAAA7D,OAAA,EACA,IAAA,GAAAP,GAAA,EAAAA,EAAAoE,UAAA7D,OAAAP,IACAmM,EAAAnM,EAAA,GAAAoE,UAAApE,EAGA8T,GAAAnH,KAAA,GAAAyH,GAAAC,EAAAlI,IACA,IAAA2H,EAAAvT,QAAAqT,GACAhR,WAAAoR,EAAA,IASAI,EAAArL,UAAAmL,IAAA,WACAxQ,KAAA2Q,IAAA/H,MAAA,KAAA5I,KAAA4Q,QAEA5T,EAAA8T,MAAA,UACA9T,EAAA+T,SAAA,EACA/T,EAAAgU,OACAhU,EAAAiU,QACAjU,EAAAkU,QAAA,GACAlU,EAAAmU,YAIAnU,EAAAqM,GAAAwH,EACA7T,EAAA6L,YAAAgI,EACA7T,EAAAsM,KAAAuH,EACA7T,EAAAoU,IAAAP,EACA7T,EAAAwM,eAAAqH,EACA7T,EAAA6M,mBAAAgH,EACA7T,EAAAoL,KAAAyI,EAEA7T,EAAAqU,QAAA,SAAAjE,GACA,KAAA,IAAA5Q,OAAA,qCAGAQ,EAAAsU,IAAA,WAAA,MAAA,KACAtU,EAAAuU,MAAA,SAAAC,GACA,KAAA,IAAAhV,OAAA,mCAEAQ,EAAAyU,MAAA,WAAA,MAAA,SV8jDMC,IAAI,SAASrV,EAAQU,EAAOJ,IWxpDlC,SAAAqI,GACA,YAMA,SAAA2M,GAAAvE,GAIA,GAHA,gBAAAA,KACAA,EAAAF,OAAAE,IAEA,6BAAAwE,KAAAxE,GACA,KAAA,IAAAjM,WAAA,yCAEA,OAAAiM,GAAAyE,cAGA,QAAAC,GAAApQ,GAIA,MAHA,gBAAAA,KACAA,EAAAwL,OAAAxL,IAEAA,EAGA,QAAAqQ,GAAAC,GACAhS,KAAA2P,OAEAqC,YAAAD,GACAC,EAAAC,QAAA,SAAAvQ,EAAA0L,GACApN,KAAAkS,OAAA9E,EAAA1L,IACA1B,MAEAgS,GACA5M,OAAAiJ,oBAAA2D,GAAAC,QAAA,SAAA7E,GACApN,KAAAkS,OAAA9E,EAAA4E,EAAA5E,KACApN,MA4CA,QAAAmS,GAAAC,GACA,MAAAA,GAAAC,SACAlN,QAAAsB,OAAA,GAAAtF,WAAA,sBAEAiR,EAAAC,UAAA,GAGA,QAAAC,GAAAC,GACA,MAAA,IAAApN,SAAA,SAAA3C,EAAAiE,GACA8L,EAAAC,OAAA,WACAhQ,EAAA+P,EAAA/R,SAEA+R,EAAAE,QAAA,WACAhM,EAAA8L,EAAAhR,UAKA,QAAAmR,GAAAC,GACA,GAAAJ,GAAA,GAAAK,WAEA,OADAL,GAAAM,kBAAAF,GACAL,EAAAC,GAGA,QAAAO,GAAAH,GACA,GAAAJ,GAAA,GAAAK,WAEA,OADAL,GAAAQ,WAAAJ,GACAL,EAAAC,GAgBA,QAAAS,KAiFA,MAhFAhT,MAAAqS,UAAA,EAGArS,KAAAiT,UAAA,SAAAb,GAEA,GADApS,KAAAkT,UAAAd,EACA,gBAAAA,GACApS,KAAAmT,UAAAf,MACA,IAAAgB,EAAAT,MAAAU,KAAAhO,UAAAiO,cAAAlB,GACApS,KAAAuT,UAAAnB,MACA,IAAAgB,EAAAI,UAAAC,SAAApO,UAAAiO,cAAAlB,GACApS,KAAA0T,cAAAtB,MACA,IAAAA,GAEA,IAAAgB,EAAAO,cAAAC,YAAAvO,UAAAiO,cAAAlB,GAIA,KAAA,IAAA5V,OAAA,iCALAwD,MAAAmT,UAAA,EAQAnT,MAAAgS,QAAA6B,IAAA,kBACA,gBAAAzB,GACApS,KAAAgS,QAAA8B,IAAA,eAAA,4BACA9T,KAAAuT,WAAAvT,KAAAuT,UAAAlL,MACArI,KAAAgS,QAAA8B,IAAA,eAAA9T,KAAAuT,UAAAlL,QAKA+K,EAAAT,MACA3S,KAAA2S,KAAA,WACA,GAAAoB,GAAA5B,EAAAnS,KACA,IAAA+T,EACA,MAAAA,EAGA,IAAA/T,KAAAuT,UACA,MAAApO,SAAA3C,QAAAxC,KAAAuT,UACA,IAAAvT,KAAA0T,cACA,KAAA,IAAAlX,OAAA,uCAEA,OAAA2I,SAAA3C,QAAA,GAAA6Q,OAAArT,KAAAmT,cAIAnT,KAAA2T,YAAA,WACA,MAAA3T,MAAA2S,OAAArR,KAAAoR,IAGA1S,KAAAgU,KAAA,WACA,GAAAD,GAAA5B,EAAAnS,KACA,IAAA+T,EACA,MAAAA,EAGA,IAAA/T,KAAAuT,UACA,MAAAT,GAAA9S,KAAAuT,UACA,IAAAvT,KAAA0T,cACA,KAAA,IAAAlX,OAAA,uCAEA,OAAA2I,SAAA3C,QAAAxC,KAAAmT,aAIAnT,KAAAgU,KAAA,WACA,GAAAD,GAAA5B,EAAAnS,KACA,OAAA+T,GAAAA,EAAA5O,QAAA3C,QAAAxC,KAAAmT,YAIAC,EAAAI,WACAxT,KAAAwT,SAAA,WACA,MAAAxT,MAAAgU,OAAA1S,KAAA2S,KAIAjU,KAAAkU,KAAA,WACA,MAAAlU,MAAAgU,OAAA1S,KAAA6S,KAAAC,QAGApU,KAMA,QAAAqU,GAAAC,GACA,GAAAC,GAAAD,EAAAE,aACA,OAAAC,GAAAC,QAAAH,GAAA,GAAAA,EAAAD,EAGA,QAAAK,GAAArQ,EAAAsQ,GACAA,EAAAA,KACA,IAAAxC,GAAAwC,EAAAxC,IACA,IAAAuC,EAAAtP,UAAAiO,cAAAhP,GAAA,CACA,GAAAA,EAAA+N,SACA,KAAA,IAAAlR,WAAA,eAEAnB,MAAA6U,IAAAvQ,EAAAuQ,IACA7U,KAAA8U,YAAAxQ,EAAAwQ,YACAF,EAAA5C,UACAhS,KAAAgS,QAAA,GAAAD,GAAAzN,EAAA0N,UAEAhS,KAAAsU,OAAAhQ,EAAAgQ,OACAtU,KAAA+U,KAAAzQ,EAAAyQ,KACA3C,IACAA,EAAA9N,EAAA4O,UACA5O,EAAA+N,UAAA,OAGArS,MAAA6U,IAAAvQ,CAWA,IARAtE,KAAA8U,YAAAF,EAAAE,aAAA9U,KAAA8U,aAAA,QACAF,EAAA5C,SAAAhS,KAAAgS,UACAhS,KAAAgS,QAAA,GAAAD,GAAA6C,EAAA5C,UAEAhS,KAAAsU,OAAAD,EAAAO,EAAAN,QAAAtU,KAAAsU,QAAA,OACAtU,KAAA+U,KAAAH,EAAAG,MAAA/U,KAAA+U,MAAA,KACA/U,KAAAgV,SAAA,MAEA,QAAAhV,KAAAsU,QAAA,SAAAtU,KAAAsU,SAAAlC,EACA,KAAA,IAAAjR,WAAA,4CAEAnB,MAAAiT,UAAAb,GAOA,QAAA6B,GAAA7B,GACA,GAAA6C,GAAA,GAAAxB,SASA,OARArB,GAAA8C,OAAAxF,MAAA,KAAAuC,QAAA,SAAAkD,GACA,GAAAA,EAAA,CACA,GAAAzF,GAAAyF,EAAAzF,MAAA,KACAtC,EAAAsC,EAAA0F,QAAAC,QAAA,MAAA,KACA3T,EAAAgO,EAAA1E,KAAA,KAAAqK,QAAA,MAAA,IACAJ,GAAA/C,OAAAoD,mBAAAlI,GAAAkI,mBAAA5T,OAGAuT,EAGA,QAAAjD,GAAAuD,GACA,GAAAC,GAAA,GAAAzD,GACA0D,EAAAF,EAAAG,wBAAAR,OAAAxF,MAAA,KAOA,OANA+F,GAAAxD,QAAA,SAAA0D,GACA,GAAAjG,GAAAiG,EAAAT,OAAAxF,MAAA,KACA5F,EAAA4F,EAAA0F,QAAAF,OACAxT,EAAAgO,EAAA1E,KAAA,KAAAkK,MACAM,GAAAtD,OAAApI,EAAApI,KAEA8T,EAKA,QAAAI,GAAAC,EAAAjB,GACAA,IACAA,MAGA5U,KAAAqI,KAAA,UACArI,KAAA8V,OAAAlB,EAAAkB,OACA9V,KAAA+V,GAAA/V,KAAA8V,QAAA,KAAA9V,KAAA8V,OAAA,IACA9V,KAAAgW,WAAApB,EAAAoB,WACAhW,KAAAgS,QAAA4C,EAAA5C,kBAAAD,GAAA6C,EAAA5C,QAAA,GAAAD,GAAA6C,EAAA5C,SACAhS,KAAA6U,IAAAD,EAAAC,KAAA,GACA7U,KAAAiT,UAAA4C,GAjSA,IAAA7Q,EAAAiR,MAAA,CAoCAlE,EAAA1M,UAAA6M,OAAA,SAAA9E,EAAA1L,GACA0L,EAAAuE,EAAAvE,GACA1L,EAAAoQ,EAAApQ,EACA,IAAAgI,GAAA1J,KAAA2P,IAAAvC,EACA1D,KACAA,KACA1J,KAAA2P,IAAAvC,GAAA1D,GAEAA,EAAAT,KAAAvH,IAGAqQ,EAAA1M,UAAA,UAAA,SAAA+H,SACApN,MAAA2P,IAAAgC,EAAAvE,KAGA2E,EAAA1M,UAAAwO,IAAA,SAAAzG,GACA,GAAA8I,GAAAlW,KAAA2P,IAAAgC,EAAAvE,GACA,OAAA8I,GAAAA,EAAA,GAAA,MAGAnE,EAAA1M,UAAA8Q,OAAA,SAAA/I,GACA,MAAApN,MAAA2P,IAAAgC,EAAAvE,SAGA2E,EAAA1M,UAAAkG,IAAA,SAAA6B,GACA,MAAApN,MAAA2P,IAAAnE,eAAAmG,EAAAvE,KAGA2E,EAAA1M,UAAAyO,IAAA,SAAA1G,EAAA1L,GACA1B,KAAA2P,IAAAgC,EAAAvE,KAAA0E,EAAApQ,KAGAqQ,EAAA1M,UAAA4M,QAAA,SAAA7S,EAAAgX,GACAhR,OAAAiJ,oBAAArO,KAAA2P,KAAAsC,QAAA,SAAA7E,GACApN,KAAA2P,IAAAvC,GAAA6E,QAAA,SAAAvQ,GACAtC,EAAAxC,KAAAwZ,EAAA1U,EAAA0L,EAAApN,OACAA,OACAA,MAiCA,IAAAoT,IACAT,KAAA,cAAA3N,IAAA,QAAAA,IAAA,WACA,IAEA,MADA,IAAAqO,OACA,EACA,MAAAxX,GACA,OAAA,MAGA2X,SAAA,YAAAxO,GACA2O,YAAA,eAAA3O,IAwFAyP,GAAA,SAAA,MAAA,OAAA,UAAA,OAAA,MA2CAE,GAAAtP,UAAAgR,MAAA,WACA,MAAA,IAAA1B,GAAA3U,OA4BAgT,EAAApW,KAAA+X,EAAAtP,WAgBA2N,EAAApW,KAAAgZ,EAAAvQ,WAEAuQ,EAAAvQ,UAAAgR,MAAA,WACA,MAAA,IAAAT,GAAA5V,KAAAkT,WACA4C,OAAA9V,KAAA8V,OACAE,WAAAhW,KAAAgW,WACAhE,QAAA,GAAAD,GAAA/R,KAAAgS,SACA6C,IAAA7U,KAAA6U,OAIAe,EAAArU,MAAA,WACA,GAAA+U,GAAA,GAAAV,GAAA,MAAAE,OAAA,EAAAE,WAAA,IAEA,OADAM,GAAAjO,KAAA,QACAiO,EAGA,IAAAC,IAAA,IAAA,IAAA,IAAA,IAAA,IAEAX,GAAAY,SAAA,SAAA3B,EAAAiB,GACA,GAAA,KAAAS,EAAA7B,QAAAoB,GACA,KAAA,IAAAW,YAAA,sBAGA,OAAA,IAAAb,GAAA,MAAAE,OAAAA,EAAA9D,SAAA0E,SAAA7B,MAGA7P,EAAA+M,QAAAA,EACA/M,EAAA2P,QAAAA,EACA3P,EAAA4Q,SAAAA,EAEA5Q,EAAAiR,MAAA,SAAA3R,EAAAqS,GACA,MAAA,IAAAxR,SAAA,SAAA3C,EAAAiE,GAUA,QAAAmQ,KACA,MAAA,eAAArB,GACAA,EAAAqB,YAIA,mBAAAhF,KAAA2D,EAAAG,yBACAH,EAAAsB,kBAAA,iBADA,OAfA,GAAAC,EAEAA,GADAnC,EAAAtP,UAAAiO,cAAAhP,KAAAqS,EACArS,EAEA,GAAAqQ,GAAArQ,EAAAqS,EAGA,IAAApB,GAAA,GAAAwB,eAeAxB,GAAA/C,OAAA,WACA,GAAAsD,GAAA,OAAAP,EAAAO,OAAA,IAAAP,EAAAO,MACA,IAAA,IAAAA,GAAAA,EAAA,IAEA,WADArP,GAAA,GAAAtF,WAAA,0BAGA,IAAAyT,IACAkB,OAAAA,EACAE,WAAAT,EAAAS,WACAhE,QAAAA,EAAAuD,GACAV,IAAA+B,KAEAxE,EAAA,YAAAmD,GAAAA,EAAAe,SAAAf,EAAAyB,YACAxU,GAAA,GAAAoT,GAAAxD,EAAAwC,KAGAW,EAAA9C,QAAA,WACAhM,EAAA,GAAAtF,WAAA,4BAGAoU,EAAA0B,KAAAH,EAAAxC,OAAAwC,EAAAjC,KAAA,GAEA,YAAAiC,EAAAhC,cACAS,EAAA2B,iBAAA,GAGA,gBAAA3B,IAAAnC,EAAAT,OACA4C,EAAA4B,aAAA,QAGAL,EAAA9E,QAAAC,QAAA,SAAAvQ,EAAA0L,GACAmI,EAAA6B,iBAAAhK,EAAA1L,KAGA6T,EAAA8B,KAAA,mBAAAP,GAAA5D,UAAA,KAAA4D,EAAA5D,cAGAlO,EAAAiR,MAAA3O,UAAA,IACA,mBAAAtC,MAAAA,KAAAhF,WX2pDMsX,IAAI,SAASjb,EAAQU,EAAOJ,GAClC,YAUA,SAAS4a,GAAuBrJ,GAAO,MAAOA,IAAOA,EAAIsJ,WAAatJ,GAAQuJ,UAASvJ,GY1iEvF,GAAAwJ,GAAArb,EAAA,YZoiEIsb,EAAQJ,EAAuBG,GYniEnCE,EAAAvb,EAAA,gBZuiEIwb,EAAYN,EAAuBK,EYriEvCvb,GAAQ,eAAeiL,UAKvB,IAAMwQ,GAAOzZ,SAAS0Z,uBAAuB,OAAO,GAC9CC,EAAS3Z,SAAS4Z,eAAe,SACjCC,GACJC,QACEC,IAAK,WACLC,IAAK,SAEPC,KAAM,GAGF3I,EAAM,GAAAgI,GAAAA,YACVY,GAAGT,EACHU,SAASN,EACT5T,MAAM0T,EACNS,YAAY,OAGRC,EAAU,GAAAb,GAAAA,WAAYlI,EAE5BqI,GAAOtW,MAAQ,GAEfkE,OAAO+S,IAAMD,IZwiEVE,WAAW,GAAGC,eAAe,GAAGC,cAAc,IAAIC,IAAI,SAAS1c,EAAQU,EAAOJ,GACjF,YAoBA,SAAS4a,GAAuBrJ,GAAO,MAAOA,IAAOA,EAAIsJ,WAAatJ,GAAQuJ,UAASvJ,GAEvF,QAAS8K,GAAgBC,EAAUlY,GAAe,KAAMkY,YAAoBlY,IAAgB,KAAM,IAAII,WAAU,qCAEhH,QAAS+X,GAA2BlU,EAAMpI,GAAQ,IAAKoI,EAAQ,KAAM,IAAImU,gBAAe,4DAAgE,QAAOvc,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BoI,EAAPpI,EAElO,QAASwc,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAInY,WAAU,iEAAoEmY,GAAeD,GAAShU,UAAYD,OAAOmU,OAAOD,GAAcA,EAAWjU,WAAa/E,aAAeoB,MAAO2X,EAAU5K,YAAY,EAAO+K,UAAU,EAAMC,cAAc,KAAeH,IAAYlU,OAAOsU,eAAiBtU,OAAOsU,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GAxBjelU,OAAOwU,eAAejd,EAAS,cAC7B+E,OAAO,GAGT,IAAImY,GAA4B,kBAAX9L,SAAoD,gBAApBA,QAAOE,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXH,SAAyBG,EAAI5N,cAAgByN,OAAS,eAAkBG,IAEtO4L,EAAe,WAAc,QAASC,GAAiBvP,EAAQ0E,GAAS,IAAK,GAAI5S,GAAI,EAAGA,EAAI4S,EAAMrS,OAAQP,IAAK,CAAE,GAAIkS,GAAaU,EAAM5S,EAAIkS,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWiL,cAAe,EAAU,SAAWjL,KAAYA,EAAWgL,UAAW,GAAMpU,OAAOwU,eAAepP,EAAQgE,EAAW1E,IAAK0E,IAAiB,MAAO,UAAUzN,EAAaiZ,EAAYC,GAAiJ,MAA9HD,IAAYD,EAAiBhZ,EAAYsE,UAAW2U,GAAiBC,GAAaF,EAAiBhZ,EAAakZ,GAAqBlZ,Ma9kEhiB4G,EAAAtL,EAAA,UAIA6d,EAAA7d,EAAA,0BbglEI8d,EAAa5C,EAAuB2C,Ga/kExCE,EAAA/d,EAAA,cbmlEIge,EAAU9C,EAAuB6C,GajlE/B5K,GAAS,EAAA2K,EAAAA,cAEMG,EAAA,SAAAC,GACnB,QADmBD,Kb+lEjBtB,EAAgBhZ,Ka/lECsa,EbimEjB,IAAIE,GAAQtB,EAA2BlZ,KAAMoF,OAAOqV,eajmEnCH,GAAA1d,KAAAoD,OAGX0a,EAAOC,KAAKC,KAClBJ,GAAKpI,KAAO/T,SAAS+T,KACrBoI,EAAKK,SAAWna,UAAU,GAC1B8Z,EAAKM,WALON,EAMPO,kBACHC,QACEC,MAAO,KACPC,KAAM,KACNC,MAAO,KACPC,KAAM,MAERhD,IAAK,KACLC,IAAK,KAWP,KAzBY,GAkBRgD,MACEC,EAAW,IACXC,EAAiB,IAAM,IACvBC,EAAiB,IAAM,IACzBC,EAAeH,EACfhD,EAAO,EAEG,GAAPA,GAEL+C,EAAc/C,IACZoD,QAASH,GAAkBE,EAAeH,GAC1CK,QAASH,GAAkBC,EAAeH,IAE5CG,EAA8B,EAAfA,EACfnD,GAMF,IAHAkC,EAAKa,cAAgBA,EAGG,YAAX,mBAAAO,QAAA,YAAA/B,EAAA+B,UAAuBA,OAAOpQ,eAAe,QAcxDgP,EAAKqB,cAd6D,CAClE,GAAMC,GAASzd,SAAS0d,cAAc,SACnCnW,QAAOoW,SAAU,EAClBF,EAAOG,IAAM,4EAA8EvB,EAG7FoB,EAAOG,IAAM,wHAA0HvB,EAEvIoB,EAAOI,OAAQ,EACfJ,EAAOK,OAAQ,EACf3B,EAAKpI,KAAKgK,YAAYN,GAEtBlW,OAAO,MAAQ8U,GAAQF,EAAKqB,QAAQzQ,KAAboP,GbmmEzB,MAAOA,GAuLT,MAjPApB,GAAUkB,EAAKC,GA6DfT,EazpEmBQ,Ib0pEjBxQ,IAAK,UACLpI,MAAO,WajmEP,GAAImZ,GAAWrL,EAAOxP,KAAK6a,SAASrC,UAClC6D,mBAAmB,GAFbrc,MAMH2P,IAAM,GAAIiM,QAAOU,KAAKhC,IAAIta,KAAK6a,SAAStC,GAAIsC,GACjD7a,KAAKuc,SAAW,GAAIX,QAAOU,KAAKE,SAChCxc,KAAKyc,aAAe,GAAIb,QAAOU,KAAKI,OAAOC,aAAa3c,KAAK6a,SAASvW,OACpEsY,OAAQ,YACRC,uBACEC,QAAS9c,KAAK6a,SAASpC,eAI3BzY,KAAKyc,aAAa5T,YAAY,gBAAiB7I,KAAK+c,aAAa3R,KAAKpL,OACtEA,KAAKoI,KAAK,abqmEV0B,IAAK,eACLpI,MAAO,WajmEP,GAAMsb,GAAQhd,KAAKyc,aAAaQ,UAE5BD,GAAMxR,eAAe,YAEvBxL,KAAKoI,KAAK,WAAY4U,GAEtBhd,KAAKoI,KAAK,SACR3L,KAAM,EACNygB,IAAK,uCACLze,KAAMue,ObumEVlT,IAAK,UACLpI,MAAO,SanmEDwM,GAQN,QAASiP,GAAWrT,EAAKsT,EAAMC,GAI7B,IAHA,GAAIC,IAAO,EACPC,EAAU,EAERD,GAAK,CACT,GAAMhF,GAAOiF,EAAU,EACjBC,EAAQJ,EAAO/B,EAAc/C,GAAMxO,EAE9BuT,GAARG,EACDD,EAAUjF,EAGVgF,GAAO,EAIX,MAAOC,Gb8kEP,GanmEMtC,GAA6B/M,EAA7B+M,MAAOC,EAAsBhN,EAAtBgN,KAAMC,EAAgBjN,EAAhBiN,MAAOC,EAASlN,EAATkN,KACtBC,EAAgBrb,KAAKqb,cACrBoC,EAAUvC,EAAOE,EACjBsC,EAAUzC,EAAQE,EAqBlBwC,EAAaR,EAAW,UAAWM,EAAS7X,OAAOgY,YACnDC,EAAaV,EAAW,UAAWO,EAAS9X,OAAOkY,YAEzD,OAAOjT,MAAKkT,IAAIJ,EAAYE,MbymE5B/T,IAAK,YACLpI,MAAO,SavmECwM,GAER,GAAY,OAARA,EAAc,CAEhB,GAAM8M,GAAS9M,EAAI8P,SAASC,SAASC,SAKnCjD,GAJU/M,EAAI8P,SAAStH,SAAS0B,MACtBlK,EAAI8P,SAAStH,SAAS2B,MAO9B2C,EAJFC,OACAC,EAGEF,EAHFE,KACAC,EAEEH,EAFFG,MACAC,EACEJ,EADFI,IAKFlN,GAAI8M,OAASA,EAEXhb,KAAK2P,IAAIwO,YACPhG,OAAQjK,EAAI8P,SAASC,SAASG,YAAYF,SAC1C5F,KAAMtY,KAAKqe,QAAQrD,KAGlBhb,KAAKwL,eAAe,cAkBdyP,IAAUjb,KAAK+a,iBAAiBC,OAAOC,MAAOC,IAASlb,KAAK+a,iBAAiBC,OAAOE,KAAMC,IAAUnb,KAAK+a,iBAAiBC,OAAOG,MAAOC,IAASpb,KAAK+a,iBAAiBC,OAAOI,OACvLpb,KAAK+a,iBAAiBC,QACpBC,MAAAA,EACAC,KAAAA,EACAC,MAAAA,EACAC,KAAAA,GAEFpb,KAAKse,UAAUC,UAAUvD,MAxBzBhb,KAAKse,UAAY,GAAI1C,QAAOU,KAAKkC,WAC/BxD,OAAAA,EACArL,IAAK3P,KAAK2P,IACV8O,UAAW,UACXC,YAAa,EACbC,YAAa,UACbC,cAAe,GACfC,aAAc,IAGhB7e,KAAK+a,iBAAiBC,QACpBC,MAAAA,EACAC,KAAAA,EACAC,MAAAA,EACAC,KAAAA,IAaJpb,KAAKoI,KAAK,UAAW8F,QAErB,EAAAmM,EAAAA,YAAM,0DbumERvQ,IAAK,aACLpI,MAAO,SapmEEwM,GbqmEP,GanmEApE,GAEEoE,EAFFpE,IACArL,EACEyP,EADFzP,IAGF,IAAY,QAARqL,EAAe,KAAM,uBACzB,IAAI9J,KAAK8a,QAAQtP,eAAe1B,GAAM,KAAM,mCAAqCA,CACjF9J,MAAK8a,QAAQhR,MAEbrL,EAAKwT,QAAQ,SAASxT,GbomElB,GalmEA2Z,GAEE3Z,EAFF2Z,IACAC,EACE5Z,EADF4Z,IAEIyG,EAAS,GAAIlD,QAAOU,KAAKyC,QAC7BpV,UACEyO,IAAAA,EACAC,IAAAA,GAEF1I,IAAK3P,KAAK2P,KAMZ3P,MAAK8a,QAAQhR,GAAKb,KAAK6V,IAEvB1T,KAAKpL,UbomEP8J,IAAK,gBACLpI,MAAO,SalmEKoI,GAEZ,QAASkV,GAAaC,GACpBA,EAAIhN,QAAQ,SAAS6M,GACnBA,EAAOI,OAAO,QAIlB,GAAY,QAARpV,EAAe,CACjB,IAAK,GAAIqV,KAAOnf,MAAK8a,QACnBkE,EAAahf,KAAK8a,QAAQqE,GAE5Bnf,MAAK8a,eAELkE,GAAahf,KAAK8a,QAAQhR,UAEnB9J,MAAK8a,QAAQhR,OAtOLwQ,Gb80EnB3S,EAAQD,aAEV/K,GAAAA,WAAkB2d,IAGf8E,aAAa,GAAGC,OAAS,EAAEC,yBAAyB,IAAIC,IAAI,SAASljB,EAAQU,EAAOJ,GACvF,YAgBA,SAAS4a,GAAuBrJ,GAAO,MAAOA,IAAOA,EAAIsJ,WAAatJ,GAAQuJ,UAASvJ,GAEvF,QAAS8K,GAAgBC,EAAUlY,GAAe,KAAMkY,YAAoBlY,IAAgB,KAAM,IAAII,WAAU,qCAEhH,QAAS+X,GAA2BlU,EAAMpI,GAAQ,IAAKoI,EAAQ,KAAM,IAAImU,gBAAe,4DAAgE,QAAOvc,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BoI,EAAPpI,EAElO,QAASwc,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAInY,WAAU,iEAAoEmY,GAAeD,GAAShU,UAAYD,OAAOmU,OAAOD,GAAcA,EAAWjU,WAAa/E,aAAeoB,MAAO2X,EAAU5K,YAAY,EAAO+K,UAAU,EAAMC,cAAc,KAAeH,IAAYlU,OAAOsU,eAAiBtU,OAAOsU,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GApBjelU,OAAOwU,eAAejd,EAAS,cAC7B+E,OAAO,GAGT,IAAIoY,GAAe,WAAc,QAASC,GAAiBvP,EAAQ0E,GAAS,IAAK,GAAI5S,GAAI,EAAGA,EAAI4S,EAAMrS,OAAQP,IAAK,CAAE,GAAIkS,GAAaU,EAAM5S,EAAIkS,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWiL,cAAe,EAAU,SAAWjL,KAAYA,EAAWgL,UAAW,GAAMpU,OAAOwU,eAAepP,EAAQgE,EAAW1E,IAAK0E,IAAiB,MAAO,UAAUzN,EAAaiZ,EAAYC,GAAiJ,MAA9HD,IAAYD,EAAiBhZ,EAAYsE,UAAW2U,GAAiBC,GAAaF,EAAiBhZ,EAAakZ,GAAqBlZ,Mcn2EhiB4G,EAAAtL,EAAA,UAGAmjB,EAAAnjB,EAAA,mBAKA+d,EAAA/d,EAAA,cdm2EIge,EAAU9C,EAAuB6C,Gcj2EhBqF,EAAA,SAAAlF,GACnB,QADmBkF,GACP9P,Gd82EVqJ,EAAgBhZ,Kc/2ECyf,Edi3EjB,IAAIjF,GAAQtB,EAA2BlZ,KAAMoF,OAAOqV,ecj3EnCgF,GAAA7iB,KAAAoD,Md45EjB,Ocx5EAwa,GAAK7K,IAAMA,EACX6K,EAAKkF,SACH1C,MAAO,KACP2C,KAAK,MAEPnF,EAAKjC,IACHqH,OAAO,KACPC,SAAU,KACVC,QAAS,KACTC,MAAO,KACPC,OAAQ,KACRC,YAAY,MAEdzF,EAAK0F,UACHC,SACAC,WAEF5F,EAAK6F,cAAgB,KACrB7F,EAAK8F,SAAU,EACf9F,EAAK+F,QAAU,KACf/F,EAAKgG,YACHC,WAAW,KACXC,aAAa,KACbC,OAAO,MAETnG,EAAK9B,SACHkI,QAAO,EACPF,aAAa,KACbD,WAAW,KACXI,WAAU,IAGZ,EAAArB,EAAAsB,aAAY,SAASC,EAAK7S,GACxB,IAAK6S,EAAK,CACR,GAAIrG,GAAOxM,EAAIwM,KAAKhL,MAAM,KAAK/G,MAAM,EAAG,EACxC+R,GAAO,GAAIC,MAAKD,EAAK,GAAIA,EAAK,GAAK,GACnC1a,KAAKugB,QAAU7F,EAAKsG,UACpBhhB,KAAK2W,SAEPvL,KAPUoP,Idw3ELA,EA6ST,MA7VApB,GAAUqG,EAASlF,GAmDnBT,Ec/5EmB2F,Idg6EjB3V,IAAK,gBACLpI,MAAO,Wct2EP,IARA,GAAI2e,MACAY,EAAc,GAAItG,MAAK,KAAM,GAC7BpN,EAAA,OACA2T,EAAA,OACAC,EAAA,OACAC,EAAA,OACEC,EAAUrhB,KAAKugB,QAEdU,EAAYD,UAAYK,GAAS,CACtC,GAAMC,GAAOL,EAAYM,cACnBC,EAAQP,EAAYQ,WAAa,CAClCpB,GAAc7U,eAAe8V,KAChCjB,EAAciB,OAEhBjB,EAAciB,GAAMrY,KAAKuY,GACzBP,EAAYS,SAAST,EAAYQ,WAAa,GAGhDlU,EAAOnI,OAAOmI,KAAK8S,GACnBa,EAAO3T,EAAKA,EAAK1Q,OAAS,GAC1BskB,EAAQd,EAAca,GACtBC,EAAQA,EAAMA,EAAMtkB,OAAS,GAG7BmD,KAAKuY,GAAGwH,MAAM4B,UAAYpU,EAAKoC,IAAI,SAAS7F,GAC1C,MAAA,kBAAyBA,EAAA,KAAQA,EAAA,cAChCkB,KAAK,IAERoW,EAAWphB,KAAKuY,GAAGwH,MAAM6B,qBAAqB,UAC9C5hB,KAAKuY,GAAGwH,MAAMre,MAAQ0f,EAASA,EAASvkB,OAAS,GAAG6E,MACpD1B,KAAKqgB,cAAgBA,EACrBrgB,KAAK6hB,UAAUX,EAAMC,GACrBnhB,KAAKihB,YAAcC,EAAO,IAAMC,Kdk3EhCrX,IAAK,YACLpI,MAAO,Sch3ECwf,EAAMY,GACd,GAAMC,GAAS/hB,KAAKqgB,cAAca,EAOlC,IALAlhB,KAAKuY,GAAGyH,OAAO2B,UAAYI,EAAOpS,IAAI,SAAS7F,GAC7C,MAAA,kBAAyBA,EAAA,KAAQA,EAAA,cAChCkB,KAAK,IAGJ8W,EAAe,CACjB,GAAIxlB,GAAIwlB,CACHC,GAAOD,EAAgB,KAC1BxlB,EAAI,EAEU0D,MAAKuY,GAAGyH,OAAO4B,qBAAqB,SACpD5hB,MAAKuY,GAAGyH,OAAOte,MAAQpF,Mdm3EzBwN,IAAK,WACLpI,MAAO,Sc72EAsb,GACPhd,KAAK0f,QAAQ1C,MAAQA,EACrBhd,KAAK0f,QAAQC,KAAO3f,KAAKgiB,WAAWhF,EAAMgB,SAASC,SAASgE,EAAE9U,EAAE6P,EAAMgB,SAASC,SAAS9Q,EAAE8U,EAAEjF,EAAMgB,SAASC,SAASgE,EAAEA,EAAEjF,EAAMgB,SAASC,SAAS9Q,EAAEA,Mdg3ElJrD,IAAK,WACLpI,MAAO,Wc72EPyH,QAAQ+Y,IAAI,aACZ/Y,QAAQ+Y,IAAIxhB,YACZ,EAAA2Z,EAAAA,YAAM,gCdi3ENvQ,IAAK,eACLpI,MAAO,Sc/2EIqf,EAAKoB,GAChB,QAASC,GAAWxU,Gdk3EhB,GAAIyU,GAASriB,Ich3EfA,MAAKuY,GAAG0H,YAAY0B,UAAY/T,EAChC1O,WAAW,WACTmjB,EAAK9J,GAAG0H,YAAYqC,UAAUC,IAAI,kCAClCF,EAAK3J,QAAQkI,QAAS,GACrB,Gdy2EH,GAAI4B,GAASxiB,Icr2EX+gB,IAAOoB,EAAI3W,eAAe,UAEX,KAAd2W,EAAIrM,QACL,EAAAuE,EAAAA,YAAM,wEAGN,EAAAA,EAAAA,YAAM,8Bdo3EN,Wch3EF,GAAIsG,MACA/S,EAAM,GACN6U,EAAA,MAEJD,GAAKhC,WAAWC,WAAa9F,KAAKC,MAElCuH,EAAIlQ,QAAQ,SAASxT,GACnB,GAAIikB,GAAWjkB,EAAKikB,SAASrN,QAAQ,KAAM,KACxC3F,MAAM,KAAKC,IAAI,SAASqE,GACvB,MAAOA,GAAK2O,OAAO,GAAGnO,cAAgBR,EAAK4O,OAAO,KACjD5X,KAAK,IAEL2V,GAAOnV,eAAekX,KACzB/B,EAAO+B,OAET/B,EAAO+B,GAAUzZ,KAAKxK,IAIxB,KAAK,GAAIqL,KAAO6W,GACd/S,GAAA,kEAAwE9D,EAAA,KAAQ6W,EAAO7W,GAAKjN,OAAZ,MAAwBiN,EAAA,QAE1G8D,IAAA,qDAA4DuU,EAAItlB,OAAJ,OAE5D4lB,EAAcD,EAAKhC,WAAWC,WAAa+B,EAAKhC,WAAWE,aAC3D8B,EAAKhC,WAAWG,OAASA,EAGtB6B,EAAK9J,QAAQmI,aAAc,EAC5BuB,EAAWxlB,KAAX4lB,GAAuB5U,IAGvB4U,EAAKlZ,KAAK,iBAAkB,WAC1B8Y,EAAWxlB,KAAKoD,MAAO4N,Ydo3E7B9D,IAAK,aACLpI,MAAO,Sc92EGuZ,EAAOC,EAAMC,EAAOC,GAC9B,GAAMuE,GAAU1E,EAAA,IAASC,EAAA,IAAQC,EAAA,IAASD,EAAA,IAAQC,EAAA,IAASC,EAAA,IAAQH,EAAA,IAASG,CAC5E,OAAOuE,Mdi3EP7V,IAAK,cACLpI,MAAO,Wc92EP,GAAoC,KAAhC1B,KAAKuY,GAAGqH,OAAOle,MAAMwT,QACvB,EAAAmF,EAAAA,YAAM,mCACD,CACL,GAAMwI,GAAgB7iB,KAAKuY,GAAGwH,MAAMre,MAAQ,IAAM1B,KAAKuY,GAAGyH,OAAOte,KACjE1B,MAAKuY,GAAGuH,QAAQwC,UAAUC,IAAI,gCAC9BviB,KAAK2P,IAAImT,UAAU9iB,KAAK0f,QAAQ1C,OAChChd,KAAKsgB,SAAU,EACftgB,KAAKwgB,WAAWE,aAAe/F,KAAKC,MAEjC5a,KAAK0Y,QAAQkI,QACd5gB,KAAK+iB,gBAIP,EAAAvD,EAAAwD,UACErD,KAAK3f,KAAK0f,QAAQC,KAClBjF,KAAKmI,EACLzjB,SAASY,KAAKijB,aAAa7X,KAAKpL,Ydm3EpC8J,IAAK,eACLpI,MAAO,WACL,GAAIwhB,GAASljB,Ic92EfA,MAAK2P,IAAIwT,cAAc,OACvBnjB,KAAK0Y,QAAQmI,WAAY,EACzB7gB,KAAKuY,GAAG0H,YAAYqC,UAAUC,IAAI,qCAClCviB,KAAKuY,GAAG0H,YAAYmD,MAAMC,gBAAkB,OAC5CnkB,WAAW,WACTgkB,EAAK3K,GAAG0H,YAAYqC,UAAUgB,OAAO,mCACrC,GAEFpkB,WAAW,WACPgkB,EAAK3K,GAAG0H,YAAYmD,MAAMC,gBAAkB,KAC5CH,EAAK3K,GAAG0H,YAAYqC,UAAUgB,OAAO,qCAErCpkB,WAAW,WACTgkB,EAAKxK,QAAQkI,QAAS,EACtBsC,EAAKxK,QAAQmI,WAAY,EACzBqC,EAAK9a,KAAK,mBAEV,MAEJ,Qdi3EF0B,IAAK,YACLpI,MAAO,Sc92EC8I,GACR,GAAIV,GAAMU,EAAO+Y,aAAa,gBAC9B,IAAI/Y,EAAO8X,UAAUkB,SAAS,6CAC5BhZ,EAAO8X,UAAUgB,OAAO,6CACxBtjB,KAAK2P,IAAIwT,cAAcrZ,OAClB,CACL,GAAI6W,GAAS3gB,KAAKwgB,WAAWG,OAAO7W,GAAK6F,IAAI,SAASzB,GACpD,OACEkK,IAAKqL,WAAWvV,EAAIwI,SAASgN,UAC7BrL,IAAKoL,WAAWvV,EAAIwI,SAASiN,aAGjCnZ,GAAO8X,UAAUC,IAAI,6CACrBviB,KAAK2P,IAAIiU,YACP9Z,IAAAA,EACArL,KAAMkiB,Qdq3EV7W,IAAK,aACLpI,MAAO,Wch3EP,GAAMwf,GAAOlhB,KAAKuY,GAAGwH,MAAMre,MACrByf,EAAQnhB,KAAKuY,GAAGyH,OAAOte;AAC7B1B,KAAK6hB,UAAUX,EAAMC,Mdu3ErBrX,IAAK,eACLpI,MAAO,Scp3EImiB,EAAMhoB,Gdq3Ef,Gcl3EA2O,GACE3O,EADF2O,OAEIsZ,EAAUtZ,EACVuZ,EAAM/jB,KAAKkgB,SAASrkB,EAAEwM,MACtB2b,EAAIhkB,IAENwE,OAAMC,QAAQsf,IAChBA,EAAI9R,QAAQ,SAAS/D,GACnB,GAAI+V,IAAQ,CAGZ,KAFAzZ,EAASsZ,GAEDG,GAASzZ,IAAWqZ,GAEL,gBAAX3V,GAAIqK,GAET/N,EAAO8X,UAAUkB,SAAStV,EAAIqK,IAC/B0L,GAAQ,EAGRzZ,EAASA,EAAO0Z,cAId1Z,IAAW0D,EAAIqK,GACjB0L,GAAQ,EAERzZ,EAASA,EAAO0Z,aAOlBD,IACF/V,EAAIiW,GAAGvnB,KAAKonB,EAAGxZ,Qdo3ErBV,IAAK,cACLpI,MAAO,Sc72EG7F,GACVmE,KAAKuY,GAAG6L,QAAQ9B,UAAU+B,OAAO,4BACjCrkB,KAAKuY,GAAGsH,SAASyC,UAAU+B,OAAO,wBdg3ElCva,IAAK,OACLpI,MAAO,Wc72EP1B,KAAKuY,GAAGsH,SAAWxhB,SAAS0Z,uBAAuB,eAAe,GAClE/X,KAAKuY,GAAGuH,QAAU9f,KAAKuY,GAAGsH,SAAS9H,uBAAuB,uBAAuB,GACjF/X,KAAKuY,GAAGqH,OAAS5f,KAAKuY,GAAGsH,SAAS9H,uBAAuB,sBAAsB,GAC/E/X,KAAKuY,GAAGwH,MAAQ/f,KAAKuY,GAAGsH,SAAS9H,uBAAuB,4BAA4B,GACpF/X,KAAKuY,GAAGyH,OAAShgB,KAAKuY,GAAGsH,SAAS9H,uBAAuB,6BAA6B,GACtF/X,KAAKuY,GAAG0H,YAAcjgB,KAAKuY,GAAGsH,SAAS9H,uBAAuB,4BAA4B,GAC1F/X,KAAKuY,GAAG6L,QAAU/lB,SAAS0Z,uBAAuB,sBAAsB,GAExE/X,KAAKskB,gBAELtkB,KAAK2P,IACFtG,GAAG,WAAYrJ,KAAKukB,SAASnZ,KAAKpL,OAClCqJ,GAAG,QAASrJ,KAAKwkB,SAASpZ,KAAKpL,OAGlCA,KAAKuY,GAAG6L,QAAQK,iBAAiB,QAASzkB,KAAK0kB,YAAYtZ,KAAKpL,OAhB3DA,KAmBAuY,GAAGsH,SAAS4E,iBAAiB,QAASzkB,KAAK2kB,aAAavZ,KAAKpL,KAAMA,KAAKuY,GAAGsH,WAChF7f,KAAKuY,GAAGsH,SAAS4E,iBAAiB,SAAUzkB,KAAK2kB,aAAavZ,KAAKpL,KAAMA,KAAKuY,GAAGsH,WAEjF7f,KAAKkgB,SAASE,OAAOnX,MACnBsP,GAAIvY,KAAKuY,GAAGwH,MACZoE,GAAInkB,KAAK4kB,aAGX5kB,KAAKkgB,SAASC,MAAMlX,MAClBsP,GAAIvY,KAAKuY,GAAGuH,QACZqE,GAAInkB,KAAK6kB,cAGX7kB,KAAKkgB,SAASC,MAAMlX,MAClBsP,GAAG,oCACH4L,GAAGnkB,KAAK8kB,YAKV9kB,KAAKuY,GAAGsH,SAASyC,UAAUC,IAAI,yBA5Vd9C,Gd0sFnB9X,EAAQD,aAEV/K,GAAAA,WAAkB8iB,IAEfsF,kBAAkB,GAAG3F,aAAa,GAAGC,OAAS,IAAI2F,IAAI,SAAS3oB,EAAQU,EAAOJ,GACjF,YeptFO,SAASqmB,GAAQ9U,GfkuFtB,GehuFEwM,GAGExM,EAHFwM,KACAiF,EAEEzR,EAFFyR,KACAvgB,EACE8O,EADF9O,SAEI6lB,EAAA,SAAiBtF,EAAA,SAAajF,CAE/BwK,GAAQ1Z,eAAeyZ,GAsB1B7lB,EAASwJ,MAAM,KAAMsc,EAAQD,IArB7BhP,MAAMkP,EAAWF,GACd3jB,KAAK,SAAS6gB,GACb,MAAmB,OAAfA,EAAIrM,OACCqM,EAAIjO,QAGT4B,OAAQqM,EAAIrM,OACZE,WAAYmM,EAAInM,cAIrB1U,KAAK,SAAS7C,GACbymB,EAAQD,IAAU,KAAMxmB,GACxBW,EAAS,KAAMX,KAbnBwX,SAeS,SAAS8K,GACdmE,EAAQD,IAAUlE,GAClB3hB,EAAS2hB,KAQV,QAASD,GAAY1hB,GAE1B6W,MAAM,iDACH3U,KAAK,SAAS6gB,GACb,MAAOA,GAAIjO,SAEZ5S,KAAK,SAAS7C,GACbW,EAAS,KAAMX,KALnBwX,SAOS,SAAS8K,GACd3hB,EAAS2hB,Kf0qFf3b,OAAOwU,eAAejd,EAAS,cAC7B+E,OAAO,IAET/E,EeztFgBqmB,QAAAA,Ef0tFhBrmB,EexrFgBmkB,YAAAA,EAvChBzkB,EAAA,eAEA,IAAM8oB,GAAW,qDACbD,Of2wFDE,eAAe,KAAKC,IAAI,SAAShpB,EAAQU,EAAOJ,GACnD,YgB5vFA,SAAS2oB,KACPlT,EAAKkQ,UAAUgB,OAAO,eAGxB,QAASrM,KACP7E,EAAKkQ,UAAUC,IAAI,eAGN,QAASgD,GAAMrI,GAC5BsI,EAAc7D,UAAYzE,EAC1Bhe,WAAW,WACT+X,KACA,GhBkvFJ7R,OAAOwU,eAAejd,EAAS,cAC7B+E,OAAO,IAET/E,EAAAA,WgBzvFwB4oB,CA3BxB,IAAMnT,GAAO/T,SAAS+T,KAChBqT,EAASpnB,SAAS0d,cAAc,OAChC2J,EAAkBrnB,SAAS0d,cAAc,OACzC4J,EAActnB,SAAS0d,cAAc,UACrCyJ,EAAgBnnB,SAAS0d,cAAc,MAE7C2J,GAAgBpD,UAAUC,IAAI,oBAC9BoD,EAAYrD,UAAUC,IAAI,gBAC1BoD,EAAYlB,iBAAiB,QAASa,GACtCE,EAAclD,UAAUC,IAAI,kBAC5BoD,EAAYhE,UAAY,QAExB8D,EAAOnD,UAAUC,IAAI,SACrBkD,EAAOrJ,YAAYsJ,GACnBA,EAAgBtJ,YAAYuJ,GAC5BD,EAAgBtJ,YAAYoJ,GAE5BpT,EAAKgK,YAAYqJ,ahBsyFN","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.1.2\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n      var state = parent._state;\n\n      if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n        return this;\n      }\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n      var result = parent._result;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (Array.isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, this._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":10}],2:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],3:[function(require,module,exports){\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n\n},{}],4:[function(require,module,exports){\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n\n},{\"./implementation\":3}],5:[function(require,module,exports){\n'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString');\nvar hasProtoEnumBug = function () {}.propertyIsEnumerable('prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar blacklistedKeys = {\n\t$console: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$parent: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!blacklistedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n\n},{\"./isArguments\":6}],6:[function(require,module,exports){\n'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nvar keys = require('object-keys');\n\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tif (typeof sym === 'string') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(Object(sym) instanceof Symbol)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; }\n\tif (keys(obj).length !== 0) { return false; }\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n\n},{\"object-keys\":5}],8:[function(require,module,exports){\n'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = require('object-keys');\nvar bind = require('function-bind');\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = require('./hasSymbols')();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tif (hasSymbols && Object.getOwnPropertySymbols) {\n\t\t\tsyms = Object.getOwnPropertySymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n\n},{\"./hasSymbols\":7,\"function-bind\":4,\"object-keys\":5}],9:[function(require,module,exports){\n'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n\n},{\"./implementation\":8}],10:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],11:[function(require,module,exports){\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _map = require(\"./map.js\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _overlay = require(\"./overlay.js\");\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire('es6-promise').polyfill();\n\nvar $map = document.getElementsByClassName(\"map\")[0];\nvar $input = document.getElementById(\"input\");\nvar mapDefaults = {\n  center: {\n    lat: 52.3942358,\n    lng: -2.2905\n  },\n  zoom: 7\n};\n\nvar map = new _map2.default({\n  el: $map,\n  defaults: mapDefaults,\n  input: $input,\n  countryCode: \"GB\"\n});\n\nvar overlay = new _overlay2.default(map);\n\n$input.value = \"\"; // fixed bug with firefox\n\nwindow.App = overlay;\n\n},{\"./map.js\":13,\"./overlay.js\":14,\"es6-promise\":1}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require(\"events\");\n\nvar _polyfill = require(\"object.assign/polyfill\");\n\nvar _polyfill2 = _interopRequireDefault(_polyfill);\n\nvar _popup = require(\"./popup.js\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar assign = (0, _polyfill2.default)();\n\nvar Map = function (_EventEmitter) {\n  _inherits(Map, _EventEmitter);\n\n  function Map() {\n    _classCallCheck(this, Map);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Map).call(this));\n\n    var date = Date.now();\n    _this.body = document.body;\n    _this.settings = arguments[0];\n    _this.markers = {}; // stores markers\n    _this.previousSettings = {\n      bounds: {\n        north: null,\n        east: null,\n        south: null,\n        west: null\n      },\n      lat: null,\n      lng: null\n    };\n\n    // used for working out zoom level\n    var zoomLevelData = {};\n    var tileSize = 256;\n    var initialLatToPx = 256 / 180;\n    var initialLngToPx = 256 / 360;\n    var fakeTileSize = tileSize;\n    var zoom = 0;\n\n    while (zoom < 20) {\n\n      zoomLevelData[zoom] = {\n        latToPx: initialLatToPx * (fakeTileSize / tileSize),\n        lngToPx: initialLngToPx * (fakeTileSize / tileSize)\n      };\n      fakeTileSize = fakeTileSize * 2;\n      zoom++;\n    }\n\n    _this.zoomLevelData = zoomLevelData;\n\n    if (!((typeof google === \"undefined\" ? \"undefined\" : _typeof(google)) === \"object\" && google.hasOwnProperty(\"maps\"))) {\n      // if no google script\n      var script = document.createElement(\"SCRIPT\");\n      if (window.debug === true) {\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&libraries=places&callback=Map\" + date;\n      } else {\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyA21Xad94gjpC7J0BIdJgBhE0awlNSJuB4&libraries=places&callback=Map\" + date;\n      }\n      script.defer = true;\n      script.async = true;\n      _this.body.appendChild(script);\n\n      window[\"Map\" + date] = _this.initMap.bind(_this);\n    } else {\n      _this.initMap();\n    }\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"initMap\",\n    value: function initMap() {\n      var settings = assign(this.settings.defaults, {\n        streetViewControl: false\n      });\n      //this.settings.defaults.streetViewControl = false;\n\n      this.map = new google.maps.Map(this.settings.el, settings);\n      this.geocoder = new google.maps.Geocoder();\n      this.autocomplete = new google.maps.places.Autocomplete(this.settings.input, {\n        types: [\"(cities)\"],\n        componentRestrictions: {\n          country: this.settings.countryCode\n        }\n      });\n\n      this.autocomplete.addListener(\"place_changed\", this.placeChanged.bind(this));\n      this.emit(\"loaded\");\n    }\n  }, {\n    key: \"placeChanged\",\n    value: function placeChanged() {\n      var place = this.autocomplete.getPlace();\n\n      if (place.hasOwnProperty(\"geometry\")) {\n        //this.updateMap(place);\n        this.emit(\"gotPlace\", place);\n      } else {\n        this.emit(\"error\", {\n          code: 1,\n          msg: \"No geometry property on place object\",\n          data: place\n        });\n      }\n    }\n  }, {\n    key: \"getZoom\",\n    value: function getZoom(obj) {\n      // lat north to south\n      //long east to west\n      var north = obj.north;\n      var east = obj.east;\n      var south = obj.south;\n      var west = obj.west;\n\n      var zoomLevelData = this.zoomLevelData;\n      var lngDiff = east - west;\n      var latDiff = north - south;\n\n      function getMaxZoom(key, diff, maxValue) {\n        var loop = true;\n        var maxZoom = 0;\n\n        while (loop) {\n          var zoom = maxZoom + 1;\n          var width = diff * zoomLevelData[zoom][key];\n\n          if (width < maxValue) {\n            maxZoom = zoom;\n          } else {\n            loop = false;\n          }\n        }\n\n        return maxZoom;\n      }\n\n      var maxLngZoom = getMaxZoom(\"lngToPx\", lngDiff, window.innerWidth);\n      var maxLatZoom = getMaxZoom(\"latToPx\", latDiff, window.innerHeight);\n\n      return Math.min(maxLngZoom, maxLatZoom);\n    }\n  }, {\n    key: \"updateMap\",\n    value: function updateMap(obj) {\n\n      if (obj !== null) {\n\n        var bounds = obj.geometry.viewport.toJSON();\n        var lat = obj.geometry.location.lat();\n        var lng = obj.geometry.location.lng();\n\n        var north = bounds.north;\n        var east = bounds.east;\n        var south = bounds.south;\n        var west = bounds.west;\n\n\n        obj.bounds = bounds;\n\n        this.map.setOptions({\n          center: obj.geometry.viewport.getCenter().toJSON(),\n          zoom: this.getZoom(bounds)\n        });\n\n        if (!this.hasOwnProperty(\"rectangle\")) {\n          this.rectangle = new google.maps.Rectangle({\n            bounds: bounds,\n            map: this.map,\n            fillColor: \"#000000\",\n            fillOpacity: 0,\n            strokeColor: \"#e64c4c\",\n            strokeOpacity: 0.8,\n            strokeWeight: 2\n          });\n\n          this.previousSettings.bounds = {\n            north: north,\n            east: east,\n            south: south,\n            west: west\n          };\n        } else if (north !== this.previousSettings.bounds.north, east !== this.previousSettings.bounds.east, south !== this.previousSettings.bounds.south, west !== this.previousSettings.bounds.west) {\n          this.previousSettings.bounds = {\n            north: north,\n            east: east,\n            south: south,\n            west: west\n          };\n          this.rectangle.setBounds(bounds);\n        }\n\n        this.emit(\"updated\", obj);\n      } else {\n        (0, _popup2.default)(\"Try reselecting the place you wish to see data for.\");\n      }\n    }\n  }, {\n    key: \"addMarkers\",\n    value: function addMarkers(obj) {\n      var key = obj.key;\n      var data = obj.data;\n\n\n      if (key === \"all\") throw \"can't use the key all\";\n      if (this.markers.hasOwnProperty(key)) throw \"already a property with the key \" + key;\n      this.markers[key] = [];\n\n      data.forEach(function (data) {\n        var lat = data.lat;\n        var lng = data.lng;\n\n        var marker = new google.maps.Marker({\n          position: {\n            lat: lat,\n            lng: lng\n          },\n          map: this.map\n        });\n\n        //icon:\"/images/location.svg\",\n        //animation:google.maps.Animation.DROP\n\n        this.markers[key].push(marker);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeMarkers\",\n    value: function removeMarkers(key) {\n\n      function clearMarkers(arr) {\n        arr.forEach(function (marker) {\n          marker.setMap(null);\n        });\n      }\n\n      if (key === \"all\") {\n        for (var _key in this.markers) {\n          clearMarkers(this.markers[_key]);\n        }\n        this.markers = [];\n      } else {\n        clearMarkers(this.markers[key]);\n        //this.markers[key] = [];\n        delete this.markers[key];\n      }\n    }\n  }]);\n\n  return Map;\n}(_events.EventEmitter);\n\nexports.default = Map;\n;\n\n},{\"./popup.js\":16,\"events\":2,\"object.assign/polyfill\":9}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require(\"events\");\n\nvar _policeApi = require(\"./police-api.js\");\n\nvar _popup = require(\"./popup.js\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Overlay = function (_EventEmitter) {\n  _inherits(Overlay, _EventEmitter);\n\n  function Overlay(map) {\n    _classCallCheck(this, Overlay);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Overlay).call(this));\n\n    _this.map = map;\n    _this.mapData = {\n      place: null,\n      poly: null\n    };\n    _this.el = {\n      $place: null,\n      $overlay: null,\n      $submit: null,\n      $year: null,\n      $month: null,\n      $policeData: null\n    };\n    _this.eventFns = {\n      click: [],\n      change: []\n    };\n    _this.possibleDates = null;\n    _this.loading = false;\n    _this.maxDate = null;\n    _this.policeData = {\n      requestEnd: null,\n      requestStart: null,\n      crimes: null\n    };\n    _this.overlay = {\n      isOpen: false,\n      requestStart: null,\n      requestEnd: null,\n      isClosing: false\n    };\n\n    (0, _policeApi.lastUpdated)(function (err, obj) {\n      if (!err) {\n        var date = obj.date.split(\"-\").slice(0, 2);\n        date = new Date(date[0], date[1] - 1);\n        this.maxDate = date.getTime();\n        this.init();\n      }\n    }.bind(_this));\n\n    return _this;\n  }\n\n  _createClass(Overlay, [{\n    key: \"generateDates\",\n    value: function generateDates() {\n\n      var possibleDates = {};\n      var currentDate = new Date(2012, 0);\n      var keys = void 0;\n      var year = void 0;\n      var month = void 0;\n      var $options = void 0;\n      var endDate = this.maxDate;\n\n      while (currentDate.getTime() < endDate) {\n        var _year = currentDate.getFullYear();\n        var _month = currentDate.getMonth() + 1; // change to 1 based\n        if (!possibleDates.hasOwnProperty(_year)) {\n          possibleDates[_year] = [];\n        }\n        possibleDates[_year].push(_month);\n        currentDate.setMonth(currentDate.getMonth() + 1);\n      }\n\n      keys = Object.keys(possibleDates);\n      year = keys[keys.length - 1];\n      month = possibleDates[year];\n      month = month[month.length - 1];\n\n      this.el.$year.innerHTML = keys.map(function (key) {\n        return \"<option value=\\\"\" + key + \"\\\">\" + key + \"</option>\";\n      }).join(\"\");\n\n      $options = this.el.$year.getElementsByTagName(\"option\");\n      this.el.$year.value = $options[$options.length - 1].value;\n      this.possibleDates = possibleDates;\n      this.setMonths(year, month);\n      this.currentDate = year + \"-\" + month;\n    }\n  }, {\n    key: \"setMonths\",\n    value: function setMonths(year, monthToSelect) {\n      var months = this.possibleDates[year];\n\n      this.el.$month.innerHTML = months.map(function (key) {\n        return \"<option value=\\\"\" + key + \"\\\">\" + key + \"</option>\";\n      }).join(\"\");\n\n      if (monthToSelect) {\n        var i = monthToSelect;\n        if (!months[monthToSelect - 1]) {\n          i = 1;\n        }\n        var $months = this.el.$month.getElementsByTagName(\"option\");\n        this.el.$month.value = i;\n      }\n    }\n  }, {\n    key: \"gotPlace\",\n    value: function gotPlace(place) {\n      this.mapData.place = place;\n      this.mapData.poly = this.createPoly(place.geometry.viewport.R.j, place.geometry.viewport.j.R, place.geometry.viewport.R.R, place.geometry.viewport.j.j);\n    }\n  }, {\n    key: \"mapError\",\n    value: function mapError() {\n      console.log(\"map error\");\n      console.log(arguments);\n      (0, _popup2.default)(\"An Unknown Error Occoured\");\n    }\n  }, {\n    key: \"policeDataFn\",\n    value: function policeDataFn(err, res) {\n      var _this3 = this;\n\n      function changeData(str) {\n        var _this2 = this;\n\n        this.el.$policeData.innerHTML = str;\n        setTimeout(function () {\n          // allows opacity transition to work corretly\n          _this2.el.$policeData.classList.add(\"map-overlay__police-data--show\");\n          _this2.overlay.isOpen = true;\n        }, 0);\n      }\n\n      if (err || res.hasOwnProperty(\"status\")) {\n\n        if (res.status == 503) {\n          (0, _popup2.default)(\"More than 10,000 crimes in this area, please select a smaller area.\");\n        } else {\n          (0, _popup2.default)(\"An Unknown Error Occoured\");\n        }\n      } else {\n        (function () {\n          var crimes = {};\n          var str = \"\";\n          var requestDiff = void 0;\n\n          _this3.policeData.requestEnd = Date.now();\n\n          res.forEach(function (data) {\n            var category = data.category.replace(/-/g, \" \").split(\" \").map(function (text) {\n              return text.charAt(0).toUpperCase() + text.substr(1);\n            }).join(\" \");\n\n            if (!crimes.hasOwnProperty(category)) {\n              crimes[category] = [];\n            }\n            crimes[category].push(data);\n          });\n\n          for (var key in crimes) {\n            str += \"<div class='map-overlay__police-data__section' data-category=\\\"\" + key + \"\\\">\" + crimes[key].length + \" x \" + key + \"</div>\";\n          }\n          str += \"<p class=\\\"map-overlay__police-data__total\\\">Total: \" + res.length + \"</p>\";\n\n          requestDiff = _this3.policeData.requestEnd - _this3.policeData.requestStart;\n          _this3.policeData.crimes = crimes;\n\n          if (_this3.overlay.isClosing === false) {\n            changeData.call(_this3, [str]);\n          } else {\n            _this3.once(\"OVERLAY-CLOSED\", function () {\n              changeData.call(this, [str]);\n            });\n          }\n        })();\n      }\n    }\n  }, {\n    key: \"createPoly\",\n    value: function createPoly(north, east, south, west) {\n      var poly = north + \",\" + east + \":\" + south + \",\" + east + \":\" + south + \",\" + west + \":\" + north + \",\" + west;\n      return poly;\n    }\n  }, {\n    key: \"submitClick\",\n    value: function submitClick() {\n      if (this.el.$place.value.trim() === \"\") {\n        (0, _popup2.default)(\"Please select a valid place\");\n      } else {\n        var formattedDate = this.el.$year.value + \"-\" + this.el.$month.value;\n        this.el.$submit.classList.add(\"map-overlay__button--loading\");\n        this.map.updateMap(this.mapData.place);\n        this.loading = true;\n        this.policeData.requestStart = Date.now();\n\n        if (this.overlay.isOpen) {\n          this.closeOverlay();\n        }\n\n        (0, _policeApi.getData)({\n          poly: this.mapData.poly,\n          date: formattedDate,\n          callback: this.policeDataFn.bind(this)\n        });\n      }\n    }\n  }, {\n    key: \"closeOverlay\",\n    value: function closeOverlay() {\n      var _this4 = this;\n\n      this.map.removeMarkers(\"all\");\n      this.overlay.isClosing = true;\n      this.el.$policeData.classList.add(\"map-overlay__police-data--closing\");\n      this.el.$policeData.style.transitionDelay = \"0.1s\";\n      setTimeout(function () {\n        _this4.el.$policeData.classList.remove(\"map-overlay__police-data--show\");\n      }, 0);\n\n      setTimeout(function () {\n        _this4.el.$policeData.style.transitionDelay = null;\n        _this4.el.$policeData.classList.remove(\"map-overlay__police-data--closing\");\n\n        setTimeout(function () {\n          _this4.overlay.isOpen = false;\n          _this4.overlay.isClosing = false;\n          _this4.emit(\"OVERLAY-CLOSED\");\n        }, 400);\n      }, 100);\n    }\n  }, {\n    key: \"dataClick\",\n    value: function dataClick(target) {\n      var key = target.getAttribute(\"data-category\");\n      if (target.classList.contains(\"map-overlay__police-data__section--active\")) {\n        // remove markers\n        target.classList.remove(\"map-overlay__police-data__section--active\");\n        this.map.removeMarkers(key);\n      } else {\n        // add markers\n        var crimes = this.policeData.crimes[key].map(function (obj) {\n          return {\n            lat: parseFloat(obj.location.latitude),\n            lng: parseFloat(obj.location.longitude)\n          };\n        });\n        target.classList.add(\"map-overlay__police-data__section--active\");\n        this.map.addMarkers({\n          key: key,\n          data: crimes\n        });\n      }\n    }\n  }, {\n    key: \"yearChange\",\n    value: function yearChange() {\n      var year = this.el.$year.value;\n      var month = this.el.$month.value;\n      this.setMonths(year, month);\n    }\n\n    // one main eventHandler function\n\n  }, {\n    key: \"eventHandler\",\n    value: function eventHandler(root, e) {\n      var target = e.target;\n\n      var oTarget = target;\n      var fns = this.eventFns[e.type];\n      var _ = this;\n\n      if (Array.isArray(fns)) {\n        fns.forEach(function (obj) {\n          var found = false;\n          target = oTarget;\n\n          while (!found && target !== root) {\n\n            if (typeof obj.el === \"string\") {\n\n              if (target.classList.contains(obj.el)) {\n                found = true;\n              } else {\n                target = target.parentElement;\n              }\n            } else {\n              if (target === obj.el) {\n                found = true;\n              } else {\n                target = target.parentElement;\n              }\n            }\n          }\n\n          if (found) {\n            obj.fn.call(_, target);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"toggleClick\",\n    value: function toggleClick(e) {\n      this.el.$toggle.classList.toggle(\"map-overlay-toggle--open\");\n      this.el.$overlay.classList.toggle(\"map-overlay--show\");\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.el.$overlay = document.getElementsByClassName(\"map-overlay\")[0];\n      this.el.$submit = this.el.$overlay.getElementsByClassName(\"map-overlay__button\")[0];\n      this.el.$place = this.el.$overlay.getElementsByClassName(\"map-overlay__input\")[0];\n      this.el.$year = this.el.$overlay.getElementsByClassName(\"map-overlay__year-select\")[0];\n      this.el.$month = this.el.$overlay.getElementsByClassName(\"map-overlay__month-select\")[0];\n      this.el.$policeData = this.el.$overlay.getElementsByClassName(\"map-overlay__police-data\")[0];\n      this.el.$toggle = document.getElementsByClassName(\"map-overlay-toggle\")[0];\n\n      this.generateDates();\n\n      this.map.on(\"gotPlace\", this.gotPlace.bind(this)).on(\"error\", this.mapError.bind(this));\n\n      this.el.$toggle.addEventListener(\"click\", this.toggleClick.bind(this));\n\n      // trying something new with event handlers - don't hate\n      this.el.$overlay.addEventListener(\"click\", this.eventHandler.bind(this, this.el.$overlay));\n      this.el.$overlay.addEventListener(\"change\", this.eventHandler.bind(this, this.el.$overlay));\n\n      this.eventFns.change.push({\n        el: this.el.$year,\n        fn: this.yearChange\n      });\n\n      this.eventFns.click.push({\n        el: this.el.$submit,\n        fn: this.submitClick\n      });\n\n      this.eventFns.click.push({\n        el: \"map-overlay__police-data__section\",\n        fn: this.dataClick\n      });\n\n      this.el.$overlay.classList.add(\"map-overlay--show\");\n    }\n  }]);\n\n  return Overlay;\n}(_events.EventEmitter);\n\nexports.default = Overlay;\n\n},{\"./police-api.js\":15,\"./popup.js\":16,\"events\":2}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getData = getData;\nexports.lastUpdated = lastUpdated;\n\nrequire(\"whatwg-fetch\");\n\nvar endpoint = \"https://data.police.uk/api/crimes-street/all-crime\";\nvar queries = {}; // used to cache responses\n\nfunction getData(obj) {\n  var date = obj.date;\n  var poly = obj.poly;\n  var callback = obj.callback;\n\n  var query = \"?poly=\" + poly + \"&date=\" + date;\n\n  if (!queries.hasOwnProperty(query)) {\n    fetch(endpoint + query).then(function (res) {\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        return {\n          status: res.status,\n          statusText: res.statusText\n        };\n      }\n    }).then(function (data) {\n      queries[query] = [null, data];\n      callback(null, data);\n    }).catch(function (err) {\n      queries[query] = [err];\n      callback(err);\n    });\n  } else {\n    callback.apply(null, queries[query]);\n  }\n}\n\nfunction lastUpdated(callback) {\n\n  fetch(\"https://data.police.uk/api/crime-last-updated\").then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    callback(null, data);\n  }).catch(function (err) {\n    callback(err);\n  });\n}\n\n},{\"whatwg-fetch\":11}],16:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = alert;\nvar body = document.body;\nvar $alert = document.createElement(\"DIV\");\nvar $alertContainer = document.createElement(\"DIV\");\nvar $alertClose = document.createElement(\"BUTTON\");\nvar $alertContent = document.createElement(\"DIV\");\n\n$alertContainer.classList.add(\"alert__container\");\n$alertClose.classList.add(\"alert__close\");\n$alertClose.addEventListener(\"click\", close);\n$alertContent.classList.add(\"alert__content\");\n$alertClose.innerHTML = \"Close\";\n\n$alert.classList.add(\"alert\");\n$alert.appendChild($alertContainer);\n$alertContainer.appendChild($alertClose);\n$alertContainer.appendChild($alertContent);\n\nbody.appendChild($alert);\n\nfunction close() {\n  body.classList.remove(\"alert--open\");\n}\n\nfunction open() {\n  body.classList.add(\"alert--open\");\n}\n\nfunction alert(msg) {\n  $alertContent.innerHTML = msg;\n  setTimeout(function () {\n    open();\n  }, 0);\n}\n\n},{}]},{},[12])\n\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.1.2\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n      var state = parent._state;\n\n      if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n        return this;\n      }\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n      var result = parent._result;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (Array.isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, this._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","var implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString');\nvar hasProtoEnumBug = function () {}.propertyIsEnumerable('prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar blacklistedKeys = {\n\t$console: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$parent: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!blacklistedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keys = require('object-keys');\n\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tif (typeof sym === 'string') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(Object(sym) instanceof Symbol)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; }\n\tif (keys(obj).length !== 0) { return false; }\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = require('object-keys');\nvar bind = require('function-bind');\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = require('./hasSymbols')();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tif (hasSymbols && Object.getOwnPropertySymbols) {\n\t\t\tsyms = Object.getOwnPropertySymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import Map from \"./map.js\";\r\nimport Overlay from  \"./overlay.js\";\r\n\r\nrequire('es6-promise').polyfill();\r\n\r\n\r\n\r\n\r\nconst $map = document.getElementsByClassName(\"map\")[0];\r\nconst $input = document.getElementById(\"input\");\r\nconst mapDefaults = {\r\n  center: {\r\n    lat: 52.3942358,\r\n    lng: -2.2905\r\n  },\r\n  zoom: 7\r\n};\r\n\r\nconst map = new Map({\r\n  el:$map,\r\n  defaults:mapDefaults,\r\n  input:$input,\r\n  countryCode:\"GB\"\r\n});\r\n\r\nconst overlay = new Overlay(map);\r\n\r\n$input.value = \"\"; // fixed bug with firefox\r\n\r\nwindow.App = overlay;\r\n","import {\r\n  EventEmitter\r\n} from \"events\";\r\n\r\nimport Assign from \"object.assign/polyfill\";\r\nimport alert from \"./popup.js\";\r\n\r\nconst assign = Assign();\r\n\r\nexport default class Map extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n    const date = Date.now();\r\n    this.body = document.body;\r\n    this.settings = arguments[0];\r\n    this.markers = {}; // stores markers\r\n    this.previousSettings = {\r\n      bounds: {\r\n        north: null,\r\n        east: null,\r\n        south: null,\r\n        west: null\r\n      },\r\n      lat: null,\r\n      lng: null\r\n    };\r\n\r\n    // used for working out zoom level\r\n    let zoomLevelData = {};\r\n    const tileSize = 256;\r\n    const initialLatToPx = 256 / 180;\r\n    const initialLngToPx = 256 / 360;\r\n    let fakeTileSize = tileSize;\r\n    let zoom = 0;\r\n\r\n    while (zoom < 20) {\r\n\r\n      zoomLevelData[zoom] = {\r\n        latToPx: initialLatToPx * (fakeTileSize / tileSize),\r\n        lngToPx: initialLngToPx * (fakeTileSize / tileSize)\r\n      }\r\n      fakeTileSize = fakeTileSize * 2;\r\n      zoom++;\r\n    }\r\n\r\n    this.zoomLevelData = zoomLevelData;\r\n\r\n\r\n    if (!(typeof google === \"object\" && google.hasOwnProperty(\"maps\"))) { // if no google script\r\n      const script = document.createElement(\"SCRIPT\");\r\n      if(window.debug === true){\r\n        script.src = \"https://maps.googleapis.com/maps/api/js?v=3&libraries=places&callback=Map\" + date;\r\n      }\r\n      else{\r\n      script.src = \"https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyA21Xad94gjpC7J0BIdJgBhE0awlNSJuB4&libraries=places&callback=Map\" + date;\r\n      }\r\n      script.defer = true;\r\n      script.async = true;\r\n      this.body.appendChild(script);\r\n\r\n      window[\"Map\" + date] = this.initMap.bind(this);\r\n    } else {\r\n      this.initMap();\r\n    }\r\n  }\r\n\r\n  initMap() {\r\n    let settings = assign(this.settings.defaults, {\r\n      streetViewControl: false,\r\n    });\r\n    //this.settings.defaults.streetViewControl = false;\r\n\r\n    this.map = new google.maps.Map(this.settings.el, settings);\r\n    this.geocoder = new google.maps.Geocoder();\r\n    this.autocomplete = new google.maps.places.Autocomplete(this.settings.input, {\r\n      types: [\"(cities)\"],\r\n      componentRestrictions: {\r\n        country: this.settings.countryCode\r\n      }\r\n    });\r\n\r\n    this.autocomplete.addListener(\"place_changed\", this.placeChanged.bind(this));\r\n    this.emit(\"loaded\");\r\n  }\r\n\r\n\r\n  placeChanged() {\r\n    const place = this.autocomplete.getPlace();\r\n\r\n    if (place.hasOwnProperty(\"geometry\")) {\r\n      //this.updateMap(place);\r\n      this.emit(\"gotPlace\", place);\r\n    } else {\r\n      this.emit(\"error\", {\r\n        code: 1,\r\n        msg: \"No geometry property on place object\",\r\n        data: place\r\n      });\r\n    }\r\n  }\r\n\r\n  getZoom(obj) {\r\n    // lat north to south\r\n    //long east to west\r\n    const { north, east, south, west } = obj\r\n    const zoomLevelData = this.zoomLevelData;\r\n    const lngDiff = east - west;\r\n    const latDiff = north - south;\r\n\r\n    function getMaxZoom(key, diff, maxValue) {\r\n      let loop = true;\r\n      let maxZoom = 0;\r\n\r\n      while(loop){\r\n        const zoom = maxZoom + 1;\r\n        const width = diff * zoomLevelData[zoom][key];\r\n\r\n        if(width < maxValue){\r\n          maxZoom = zoom;\r\n        }\r\n        else{\r\n          loop = false;\r\n        }\r\n      }\r\n\r\n      return maxZoom;\r\n    }\r\n\r\n    const maxLngZoom = getMaxZoom(\"lngToPx\", lngDiff, window.innerWidth);\r\n    const maxLatZoom = getMaxZoom(\"latToPx\", latDiff, window.innerHeight);\r\n\r\n    return Math.min(maxLngZoom, maxLatZoom);\r\n  }\r\n\r\n  updateMap(obj) {\r\n\r\n    if (obj !== null) {\r\n\r\n      const bounds = obj.geometry.viewport.toJSON();\r\n      const lat = obj.geometry.location.lat();\r\n      const lng = obj.geometry.location.lng();\r\n\r\n      const {\r\n        north,\r\n        east,\r\n        south,\r\n        west\r\n      } = bounds;\r\n\r\n\r\n\r\n      obj.bounds = bounds;\r\n\r\n        this.map.setOptions({\r\n          center: obj.geometry.viewport.getCenter().toJSON(),\r\n          zoom: this.getZoom(bounds)\r\n        });\r\n\r\n      if (!this.hasOwnProperty(\"rectangle\")) {\r\n        this.rectangle = new google.maps.Rectangle({\r\n          bounds,\r\n          map: this.map,\r\n          fillColor: \"#000000\",\r\n          fillOpacity: 0,\r\n          strokeColor: \"#e64c4c\",\r\n          strokeOpacity: 0.8,\r\n          strokeWeight: 2\r\n        });\r\n\r\n        this.previousSettings.bounds = {\r\n          north,\r\n          east,\r\n          south,\r\n          west\r\n        }\r\n\r\n      } else if (north !== this.previousSettings.bounds.north, east !== this.previousSettings.bounds.east, south !== this.previousSettings.bounds.south, west !== this.previousSettings.bounds.west) {\r\n        this.previousSettings.bounds = {\r\n          north,\r\n          east,\r\n          south,\r\n          west\r\n        }\r\n        this.rectangle.setBounds(bounds);\r\n      }\r\n\r\n      this.emit(\"updated\", obj);\r\n    } else {\r\n      alert(\"Try reselecting the place you wish to see data for.\")\r\n    }\r\n  }\r\n\r\n  addMarkers(obj) {\r\n    const {\r\n      key,\r\n      data\r\n    } = obj;\r\n\r\n    if (key === \"all\") throw \"can't use the key all\";\r\n    if (this.markers.hasOwnProperty(key)) throw \"already a property with the key \" + key;\r\n    this.markers[key] = [];\r\n\r\n    data.forEach(function(data) {\r\n      const {\r\n        lat,\r\n        lng\r\n      } = data;\r\n      const marker = new google.maps.Marker({\r\n        position: {\r\n          lat,\r\n          lng\r\n        },\r\n        map: this.map,\r\n        //icon:\"/images/location.svg\",\r\n        //animation:google.maps.Animation.DROP\r\n\r\n      });\r\n\r\n      this.markers[key].push(marker);\r\n\r\n    }.bind(this));\r\n  }\r\n\r\n  removeMarkers(key) {\r\n\r\n    function clearMarkers(arr) {\r\n      arr.forEach(function(marker) {\r\n        marker.setMap(null);\r\n      });\r\n    }\r\n\r\n    if (key === \"all\") {\r\n      for (let key in this.markers) {\r\n        clearMarkers(this.markers[key]);\r\n      }\r\n      this.markers = [];\r\n    } else {\r\n      clearMarkers(this.markers[key]);\r\n      //this.markers[key] = [];\r\n      delete this.markers[key];\r\n    }\r\n\r\n  }\r\n\r\n};\r\n","import {\r\n  EventEmitter\r\n} from \"events\";\r\nimport {\r\n  getData,\r\n  lastUpdated\r\n} from \"./police-api.js\";\r\n\r\nimport alert from \"./popup.js\";\r\n\r\nexport default class Overlay extends EventEmitter {\r\n  constructor(map) {\r\n\r\n    super();\r\n    this.map = map;\r\n    this.mapData = {\r\n      place: null,\r\n      poly:null\r\n    };\r\n    this.el = {\r\n      $place:null,\r\n      $overlay: null,\r\n      $submit: null,\r\n      $year: null,\r\n      $month: null,\r\n      $policeData:null\r\n    }\r\n    this.eventFns = {\r\n      click: [],\r\n      change: []\r\n    }\r\n    this.possibleDates = null;\r\n    this.loading = false;\r\n    this.maxDate = null;\r\n    this.policeData = {\r\n      requestEnd:null,\r\n      requestStart:null,\r\n      crimes:null\r\n    }\r\n    this.overlay = {\r\n      isOpen:false,\r\n      requestStart:null,\r\n      requestEnd:null,\r\n      isClosing:false\r\n    };\r\n\r\n    lastUpdated(function(err, obj) {\r\n      if (!err) {\r\n        let date = obj.date.split(\"-\").slice(0, 2);\r\n        date = new Date(date[0], date[1] - 1);\r\n        this.maxDate = date.getTime();\r\n        this.init();\r\n      }\r\n    }.bind(this));\r\n\r\n  }\r\n\r\n\r\n\r\n  generateDates() {\r\n\r\n    let possibleDates = {};\r\n    let currentDate = new Date(2012, 0);\r\n    let keys;\r\n    let year;\r\n    let month;\r\n    let $options;\r\n    const endDate = this.maxDate;\r\n\r\n    while (currentDate.getTime() < endDate) {\r\n      const year = currentDate.getFullYear();\r\n      const month = currentDate.getMonth() + 1; // change to 1 based\r\n      if (!possibleDates.hasOwnProperty(year)) {\r\n        possibleDates[year] = [];\r\n      }\r\n      possibleDates[year].push(month);\r\n      currentDate.setMonth(currentDate.getMonth() + 1);\r\n    }\r\n\r\n    keys = Object.keys(possibleDates);\r\n    year = keys[keys.length - 1];\r\n    month = possibleDates[year];\r\n    month = month[month.length - 1];\r\n\r\n\r\n    this.el.$year.innerHTML = keys.map(function(key) {\r\n      return `<option value=\"${key}\">${key}</option>`;\r\n    }).join(\"\");\r\n\r\n    $options = this.el.$year.getElementsByTagName(\"option\");\r\n    this.el.$year.value = $options[$options.length - 1].value;\r\n    this.possibleDates = possibleDates;\r\n    this.setMonths(year, month);\r\n    this.currentDate = year + \"-\" + month;\r\n  }\r\n\r\n  setMonths(year, monthToSelect) {\r\n    const months = this.possibleDates[year];\r\n\r\n    this.el.$month.innerHTML = months.map(function(key) {\r\n      return `<option value=\"${key}\">${key}</option>`;\r\n    }).join(\"\");\r\n\r\n\r\n    if (monthToSelect) {\r\n      let i = monthToSelect;\r\n      if (!months[monthToSelect - 1]) {\r\n        i = 1;\r\n      }\r\n      const $months = this.el.$month.getElementsByTagName(\"option\");\r\n      this.el.$month.value = i;\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  gotPlace(place) {\r\n    this.mapData.place = place;\r\n    this.mapData.poly = this.createPoly(place.geometry.viewport.R.j,place.geometry.viewport.j.R,place.geometry.viewport.R.R,place.geometry.viewport.j.j);\r\n  }\r\n\r\n  mapError() {\r\n    console.log(\"map error\");\r\n    console.log(arguments);\r\n    alert(\"An Unknown Error Occoured\");\r\n  }\r\n\r\n  policeDataFn(err, res){\r\n    function changeData(str) {\r\n\r\n      this.el.$policeData.innerHTML = str;\r\n      setTimeout(() => { // allows opacity transition to work corretly\r\n        this.el.$policeData.classList.add(\"map-overlay__police-data--show\");\r\n        this.overlay.isOpen = true;\r\n      }, 0);\r\n    }\r\n\r\n\r\n    if (err || res.hasOwnProperty(\"status\")) {\r\n\r\n      if(res.status == 503){\r\n        alert(\"More than 10,000 crimes in this area, please select a smaller area.\");\r\n      }\r\n      else{\r\n        alert(\"An Unknown Error Occoured\");\r\n      }\r\n\r\n    } else {\r\n      let crimes = {};\r\n      let str = \"\";\r\n      let requestDiff;\r\n\r\n      this.policeData.requestEnd = Date.now();\r\n\r\n      res.forEach(function(data) {\r\n        let category = data.category.replace(/-/g, \" \")\r\n          .split(\" \").map(function(text) {\r\n            return text.charAt(0).toUpperCase() + text.substr(1);\r\n          }).join(\" \");\r\n\r\n        if (!crimes.hasOwnProperty(category)) {\r\n          crimes[category] = [];\r\n        }\r\n        crimes[category].push(data);\r\n      });\r\n\r\n\r\n      for (let key in crimes) {\r\n        str += `<div class='map-overlay__police-data__section' data-category=\"${key}\">${crimes[key].length} x ${key}</div>`;\r\n      }\r\n      str += `<p class=\"map-overlay__police-data__total\">Total: ${res.length}</p>`\r\n\r\n      requestDiff = this.policeData.requestEnd - this.policeData.requestStart;\r\n      this.policeData.crimes = crimes;\r\n\r\n\r\n      if(this.overlay.isClosing === false){\r\n        changeData.call(this, [str]);\r\n      }\r\n      else{\r\n        this.once(\"OVERLAY-CLOSED\", function() {\r\n          changeData.call(this, [str]);\r\n        });\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n   createPoly(north, east, south, west) {\r\n    const poly = `${north},${east}:${south},${east}:${south},${west}:${north},${west}`;\r\n    return poly;\r\n  }\r\n\r\n  submitClick() {\r\n    if (this.el.$place.value.trim() === \"\") {\r\n      alert(\"Please select a valid place\");\r\n    } else {\r\n      const formattedDate = this.el.$year.value + \"-\" + this.el.$month.value;\r\n      this.el.$submit.classList.add(\"map-overlay__button--loading\");\r\n      this.map.updateMap(this.mapData.place);\r\n      this.loading = true;\r\n      this.policeData.requestStart = Date.now();\r\n\r\n      if(this.overlay.isOpen){\r\n        this.closeOverlay();\r\n      }\r\n\r\n\r\n      getData({\r\n        poly:this.mapData.poly,\r\n        date:formattedDate,\r\n        callback:this.policeDataFn.bind(this)\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  closeOverlay(){\r\n    this.map.removeMarkers(\"all\");\r\n    this.overlay.isClosing = true;\r\n    this.el.$policeData.classList.add(\"map-overlay__police-data--closing\");\r\n    this.el.$policeData.style.transitionDelay = \"0.1s\";\r\n    setTimeout(()=> {\r\n      this.el.$policeData.classList.remove(\"map-overlay__police-data--show\");\r\n    },0);\r\n\r\n    setTimeout(()=> {\r\n        this.el.$policeData.style.transitionDelay = null;\r\n        this.el.$policeData.classList.remove(\"map-overlay__police-data--closing\");\r\n\r\n        setTimeout(()=>{\r\n          this.overlay.isOpen = false;\r\n          this.overlay.isClosing = false;\r\n          this.emit(\"OVERLAY-CLOSED\");\r\n\r\n        },400);\r\n\r\n    },100);\r\n\r\n  }\r\n\r\n  dataClick(target){\r\n    let key = target.getAttribute(\"data-category\");\r\n    if (target.classList.contains(\"map-overlay__police-data__section--active\")) { // remove markers\r\n      target.classList.remove(\"map-overlay__police-data__section--active\");\r\n      this.map.removeMarkers(key);\r\n    } else { // add markers\r\n      let crimes = this.policeData.crimes[key].map(function(obj) {\r\n        return {\r\n          lat: parseFloat(obj.location.latitude),\r\n          lng: parseFloat(obj.location.longitude)\r\n        };\r\n      });\r\n      target.classList.add(\"map-overlay__police-data__section--active\");\r\n      this.map.addMarkers({\r\n        key,\r\n        data: crimes\r\n      });\r\n    }\r\n  }\r\n\r\n  yearChange() {\r\n    const year = this.el.$year.value;\r\n    const month = this.el.$month.value\r\n    this.setMonths(year, month);\r\n  }\r\n\r\n  // one main eventHandler function\r\n  eventHandler(root, e) {\r\n\r\n    let {\r\n      target\r\n    } = e;\r\n    const oTarget = target;\r\n    const fns = this.eventFns[e.type];\r\n    const _ = this;\r\n\r\n    if (Array.isArray(fns)) {\r\n      fns.forEach(function(obj) {\r\n        let found = false;\r\n        target = oTarget;\r\n\r\n        while (!found && target !== root) {\r\n\r\n          if(typeof obj.el === \"string\"){\r\n\r\n            if(target.classList.contains(obj.el)){\r\n              found = true;\r\n            }\r\n            else{\r\n              target = target.parentElement;\r\n            }\r\n          }\r\n          else{\r\n            if (target === obj.el) {\r\n              found = true;\r\n            } else {\r\n              target = target.parentElement;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n\r\n        if (found) {\r\n          obj.fn.call(_, target);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n\r\n  toggleClick(e){\r\n    this.el.$toggle.classList.toggle(\"map-overlay-toggle--open\");\r\n    this.el.$overlay.classList.toggle(\"map-overlay--show\");\r\n  }\r\n\r\n  init() {\r\n    this.el.$overlay = document.getElementsByClassName(\"map-overlay\")[0];\r\n    this.el.$submit = this.el.$overlay.getElementsByClassName(\"map-overlay__button\")[0];\r\n    this.el.$place = this.el.$overlay.getElementsByClassName(\"map-overlay__input\")[0];\r\n    this.el.$year = this.el.$overlay.getElementsByClassName(\"map-overlay__year-select\")[0];\r\n    this.el.$month = this.el.$overlay.getElementsByClassName(\"map-overlay__month-select\")[0];\r\n    this.el.$policeData = this.el.$overlay.getElementsByClassName(\"map-overlay__police-data\")[0];\r\n    this.el.$toggle = document.getElementsByClassName(\"map-overlay-toggle\")[0];\r\n\r\n    this.generateDates();\r\n\r\n    this.map\r\n      .on(\"gotPlace\", this.gotPlace.bind(this))\r\n      .on(\"error\", this.mapError.bind(this));\r\n\r\n\r\n    this.el.$toggle.addEventListener(\"click\", this.toggleClick.bind(this));\r\n\r\n    // trying something new with event handlers - don't hate\r\n    this.el.$overlay.addEventListener(\"click\", this.eventHandler.bind(this, this.el.$overlay));\r\n    this.el.$overlay.addEventListener(\"change\", this.eventHandler.bind(this, this.el.$overlay));\r\n\r\n    this.eventFns.change.push({\r\n      el: this.el.$year,\r\n      fn: this.yearChange\r\n    });\r\n\r\n    this.eventFns.click.push({\r\n      el: this.el.$submit,\r\n      fn: this.submitClick\r\n    });\r\n\r\n    this.eventFns.click.push({\r\n      el:\"map-overlay__police-data__section\",\r\n      fn:this.dataClick\r\n    })\r\n\r\n\r\n\r\n    this.el.$overlay.classList.add(\"map-overlay--show\");\r\n  }\r\n\r\n\r\n\r\n}\r\n","import 'whatwg-fetch';\r\n\r\nconst endpoint = \"https://data.police.uk/api/crimes-street/all-crime\";\r\nlet queries = {}; // used to cache responses\r\n\r\nexport function getData(obj) {\r\n  const {\r\n    date,\r\n    poly,\r\n    callback\r\n  } = obj;\r\n  const query = `?poly=${poly}&date=${date}`;\r\n\r\n  if (!queries.hasOwnProperty(query)) {\r\n    fetch(endpoint + query)\r\n      .then(function(res) {\r\n        if (res.status === 200) {\r\n          return res.json();\r\n        } else {\r\n          return {\r\n            status: res.status,\r\n            statusText: res.statusText\r\n          }\r\n        }\r\n      })\r\n      .then(function(data) {\r\n        queries[query] = [null, data];\r\n        callback(null, data);\r\n      })\r\n      .catch(function(err) {\r\n        queries[query] = [err];\r\n        callback(err);\r\n      });\r\n  }\r\n  else{\r\n    callback.apply(null, queries[query]);\r\n  }\r\n}\r\n\r\nexport function lastUpdated(callback) {\r\n\r\n  fetch(\"https://data.police.uk/api/crime-last-updated\")\r\n    .then(function(res) {\r\n      return res.json();\r\n    })\r\n    .then(function(data) {\r\n      callback(null, data);\r\n    })\r\n    .catch(function(err) {\r\n      callback(err);\r\n    });\r\n\r\n}\r\n","const body = document.body;\r\nconst $alert = document.createElement(\"DIV\");\r\nconst $alertContainer = document.createElement(\"DIV\");\r\nconst $alertClose = document.createElement(\"BUTTON\");\r\nconst $alertContent = document.createElement(\"DIV\");\r\n\r\n$alertContainer.classList.add(\"alert__container\");\r\n$alertClose.classList.add(\"alert__close\");\r\n$alertClose.addEventListener(\"click\", close);\r\n$alertContent.classList.add(\"alert__content\");\r\n$alertClose.innerHTML = \"Close\";\r\n\r\n$alert.classList.add(\"alert\");\r\n$alert.appendChild($alertContainer);\r\n$alertContainer.appendChild($alertClose);\r\n$alertContainer.appendChild($alertContent);\r\n\r\nbody.appendChild($alert);\r\n\r\nfunction close() {\r\n  body.classList.remove(\"alert--open\");\r\n}\r\n\r\nfunction open() {\r\n  body.classList.add(\"alert--open\");\r\n}\r\n\r\nexport default function alert(msg){\r\n  $alertContent.innerHTML = msg;\r\n  setTimeout(function() {\r\n    open();\r\n  },0);\r\n}\r\n"],"sourceRoot":"/"}